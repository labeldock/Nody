<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=2">
  <title>Command Zone</title>
  <link rel="stylesheet" href="resources/css/bootstrap.min.css">
  <link rel="stylesheet" href="resources/css/bootstrap-theme.min.css">
  <link rel="stylesheet" href="resources/css/nody.css">
  <link rel="stylesheet" href="resources/css/application.css">
  <link rel="stylesheet" href="resources/css/highlight/github.css">
  <link rel="stylesheet" href="resources/css/bootstrap-slider.css">
</head>
<body>
	<table id="view">
		<tbody>
			
		</tbody>
	</table>
	<talbe>
		<tr>
			<td>
				<ul class="pagination">
					<li id="lt3"><a>&lt;&lt;&lt;</a></li>
					<li id="lt2"><a>&lt;&lt;</a></li>
					<li id="lt1"><a>&lt;</a></li>
				</ul>
			</td>
			<td>
				<ul id="pagenation" class="pagination">
		
				</ul>
			</td>
			<td>
				<ul class="pagination">
					<li id="gt1"><a>&gt;</a></li>
					<li id="gt2"><a>&gt;&gt;</a></li>
					<li id="gt3"><a>&gt;&gt;&gt;</a></li>
				</ul>
			</td>
		</tr>
	</talbe>
	
	<div class="photoContainer">
		<p class="photo"><img src="http://image.solutus.co.kr/ilyoungWeb/bg_imgNone.png" alt="사진"  id="joinPhoto" /></p>
		<div class="btnPhoto">
	      	<input type="file" accept="image/*" name="file" id="profilePhoto" value="사진 변경" />
	      	<input type="hidden" id="joinPhotoVal" value=""/>
		</div>
	</div>
	
	
	
	<script src="../js/nody.js"></script>
	<script src="resources/js/jquery-1.11.1.min.js"></script>
	<script src="resources/js/paging.js"></script>
	
	<script>
		var pc = new PagenationController("#pagenation","#view tbody",[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}],5,5);
		pc.drawInPageItem = function(index){
			return MAKE("li",MAKE("a::"+(index+1)));
		}
		pc.shouldActivePageItem = function(node){
			$(node).addClass("active");
		}
		pc.needDisplay();
		
		$(document).on("click","#gt1",function(){ pc.needNextPageIndex(); });
		$(document).on("click","#gt2",function(){ pc.needNextPageCount(); });
		$(document).on("click","#gt3",function(){ pc.needLastPageCount(); });
		$(document).on("click","#lt1",function(){ pc.needPrevPageIndex(); });
		$(document).on("click","#lt2",function(){ pc.needPrevPageCount(); });
		$(document).on("click","#lt3",function(){ pc.needFirstPageCount(); });
	</script>
	<script>
		$('#profilePhoto').change(function(){
			if( /(\.png|\.jpeg|\.jpg|\.gif|\.bmp)$/.test($(this).val()) ){
				//FileReader를 사용 가능한 경우
				if (this.files && this.files[0]) {
					var reader = new FileReader();
					var sender = this;
					reader.onload = function (e) {
						$("p.photo img").attr("src",e.target.result).centerImage();
					};
					reader.readAsDataURL(this.files[0]);
				} else {
					var filePath = $(this).val();
					//ie9 fix
					if( filePath.match(/fakepath/) ) {
						this.select();
						var fullpath = document.selection.createRangeCollection()[0].text;
						
						$("p.photo img").attr("src","").css({
							"filter":"progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+ fullpath + "', sizingMethod='scale')",
							"width":"160px",
							"height":"160px"
						});
					} 
					//FileRender가 불가능한 경우(ie 구버전)
					$("p.photo img").attr("src",filePath);
				}
				chgPhoto = true;
			} else{
				// 파일 확장자가 올바르지 않은경우
				alert('선택된 파일은 반드시 이미지여야 합니다.');
				$(this).val("");
			}
			$( '#joinPhoto' ).centerImage();
		});
	</script>
	<!--
	
	<script src="resources/js/bootstrap.min.js"></script>
	<script src="resources/js/application.js"></script>
	<script src="resources/js/bootstrap-slider.js"></script>
	<script src="resources/js/highlight.pack.js"></script>
	<script src="resources/js/moment-with-locales.js"></script>
	<script src="resources/js/moment-timezone-with-data.js"></script>
		-->
</body>
</html>