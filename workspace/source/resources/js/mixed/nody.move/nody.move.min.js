+function(){nody.module("Action",{addMovement:function(){var e=this.Source,t=_Array(arguments).filter(function(t){return _Type(t).isInstance("Movement")?void e.push(t):!1});return this},addMovements:function(e){return this.addMovement.apply(this,e),this},play:function(e){var t=this;return this.Source.each(function(e,n){e.clearEvent("final"),t.ActionMovementOption.progressive&&e.delay(t.ActionMovementOption.progressive*n),e.play()}).getLast().addEvent("final",function(){t.toggleEvent("complete")}),this},stop:function(){this.Source.each(function(e){e.stop()})},reverse:function(){this.play("reverse")},toggleEvent:function(e){var t=this,n=_Array(this.currentEvent[e]);return n.length&&n.each(function(e){e.call(t.Value,t)}),this},clearEvent:function(e){if(e)return this.currentEvent[e]?(this.currentEvent[e],this):this;for(var t in this.currentEvent)this.currentEvent[t]=[];return this},addEvent:function(e,t){return"function"==typeof t&&this.currentEvent[e]&&this.currentEvent[e].push(t),this},complete:function(e){this.addEvent("complete",e)}},function(e){this.ActionIndex=0,this.ActionMovementOption=CLONE(TOOBJECT(e)),this.Source=_Array();var t=this;this.currentEvent={complete:[],master:[]}}),nody.module("TimelineInterface",{toggleEvent:function(e){var t=this,n=_Array(this.MoveEvent[e]);return n.length&&n.each(function(e){e.call(t.Source,t)}),this},clearEvent:function(e){if(e)return this.MoveEvent[e]?(this.MoveEvent[e],this):this;for(var t in this.MoveEvent)this.MoveEvent[t]=[];return this},addEvent:function(e,t){return"function"==typeof t&&this.MoveEvent[e]&&this.MoveEvent[e].push(t),this},complete:function(e){this.addEvent("complete",e)}},function(){this.MoveEvent={begin:[],complete:[],"final":[]};var e=this;this.MovementTimeLine=new TimelineMax({onStart:function(){e.toggleEvent("begin")},onComplete:function(){e.toggleEvent("complete"),e.toggleEvent("final")}}),this.MovementTimeLine.pause()}),nody.extendModule("TimelineInterface","Move",{play:function(){return this.MovementTimeLine.play(),this},kill:function(){return this.MovementTimeLine.kill(),this},playAndKill:function(){this.addEvent("final",function(){e.kill()});var e=this.play();return this},stop:function(){return this.MovementTimeLine.stop(),this},resume:function(){return this.MovementTimeLine.resume(),this},delay:function(e){this.MovementTimeLine.delay(e/1e3)}},function(e,t,n,i){if(this._super(),this.MovementOption={},this.Source=FINDZERO(e),!ISELNODE(this.Source)){if(!ISWINDOW(e)&&!ISDOCUMENT(e))throw console.log("error params => ",TOSTRING(arguments)),new Error("Movement를 초기화 하는 인자에 문제가 있습니다"+TOS(e)+" => "+TOS(this.Source));this.Source=e}n&&this.addEvent("begin",n),i&&this.addEvent("complete",i),this.que=t?[TOOBJECT(t)]:[];for(var o=0;o<this.que.length;o++){var r=this.que[o],s;r.ease=Strong.easeOut,"duration"in r?(s=r.duration,delete r.duration):s=1e3,("string"==typeof r.scrollTop||"number"==typeof r.scrollTop)&&(r.scrollTo={y:parseFloat(r.scrollTop)},delete r.scrollTop),this.MovementTimeLine.to(this.Source,s/1e3,r)}this.__NativeClass__("Move")&&this.playAndKill()}),nody.module("Move","Movement",{relative:function(){return _Element(this.Source).layerInterface(),this},to:function(e){return this.MovementTimeLine.seek(e/1e3),this},speed:function(e){return this.MovementTimeLine.timeScale(e),this}},function(e,t,n,i){this._super(e,t,n,i)}),nody.method("ELFLASH",function(){"function"==typeof loc&&(callback=loc,loc=void 0);for(var e=FIND(s,loc),t=30,n=1300,i=0,o=e.length;o>i;i++){var r=e[i],c;if("onflash"in r)c=r.onflash;else{var u=ELSTYLE(r,"background-color");c=u,r.onflash=u}_Move(r,{"background-color":"rgba(255,255,140,0.5)",duration:t},void 0,function(){ISNOTHING(c)?_Move(r,{"background-color":"rgba(255,255,170,0)",duration:n},void 0,function(){ELSTYLE(r,"background-color",c),delete r.onflash,CALLBACK(callback)}):_Move(r,{background:c,duration:n},void 0,function(){ELSTYLE(r,"background-color",c),delete r.onflash,CALLBACK(callback)})})}})}();