!function(){makeModule("MixedMoment",{getCommand:function(t){var r=CLONEARRAY(arguments);return r.shift(),this.Source[t].apply(this.Source,r)},setCommand:function(t){var r=CLONEARRAY(arguments);return r.shift(),this.Source[t].apply(this.Source,r),this},format:function(){return this.Source.format.apply(this.Source,CLONEARRAY(arguments))},clone:function(){var t=new MixedMoment(this.Source);return t.CalendarStartDay=this.CalendarStartDay,t},"var!calendarToggle":function(t,r,a){console.log("toogle",t,r,a)},setDrawStartDay:function(t){return"number"==typeof t&&(this.CalendarStartDay=t),this},drawCalendarHeaderRow:function(t){var r=this.Source.clone(),a=this.CalendarStartDay;return MAKE("tr",TIMESMAP(7,function(e){var n=TURNINDEX(e+a,7);return"function"==typeof t?t(MAKE("td",{html:r.day(n).format("dddd")})):MAKE("td",{html:r.day(n).format("dddd")})}))},drawCalendarBodyRows:function(){for(var t=this,r=this.Source.clone().date(1),a=r.year(),e=r.month()+1,n=r.clone().add(1,"months").date(0),o=TURNINDEX(r.day()-this.CalendarStartDay,7),i=r.clone().date(0).date()-o,d=ARRAYINARRAY(6),s=0,u=o;u>s;s++)d[0].push(MAKE("td.before",{html:i+s+1}));for(var h=n.date()+o,s=o,u=h;u>s;s++){var l=s-o+1,m=MAKE("td",{html:l});d[Math.floor(s/7)].push(m),ELON(m,"click",function(){t.calendarToggle(parseInt(ELATTR(this,"year")),parseInt(ELATTR(this,"month")),parseInt(ELATTR(this,"date")))})}for(var s=h,u=42,c=1;u>s;s++)d[Math.floor(s/7)].push(MAKE("td.after",{html:c})),c++;return DATAMAP(d,function(t){return MAKE("tr",t)})}},function(t,r,a,e){this.CalendarStartDay=0,this.Source=1==arguments.length&&"string"==typeof t&&2==t.length?moment(void 0,void 0,t):"string"==typeof t&&"string"==typeof r&&2==r.length?moment(t,void 0,r):moment.apply(void 0,CLONEARRAY(arguments))});var t=FUT.LOADINGSCRIPTROOT();FUT.INCLUDE(t+"moment-with-locales.js"),FUT.INCLUDE(t+"moment-timezone-with-data.js")}();