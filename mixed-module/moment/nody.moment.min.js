!function(){makeModule("MixedMoment",{getCommand:function(t){var a=CLONEARRAY(arguments);return a.shift(),this.Source[t].apply(this.Source,a)},setCommand:function(t){var a=CLONEARRAY(arguments);return a.shift(),this.Source[t].apply(this.Source,a),this},format:function(){return this.Source.format.apply(this.Source,CLONEARRAY(arguments))},clone:function(){var t=new MixedMoment(this.Source);return t.CalendarStartDay=this.CalendarStartDay,t},"var!calendarToggle":function(t,a,r){console.log("toogle",t,a,r)},setDrawStartDay:function(t){return"number"==typeof t&&(this.CalendarStartDay=t),this},drawCalendarHeaderRow:function(t){var a=this.Source.clone(),r=this.CalendarStartDay;return MAKE("tr",TIMESMAP(7,function(e){var n=TURNINDEX(e+r,7);return"function"==typeof t?t(MAKE("td",{html:a.day(n).format("dddd")})):MAKE("td",{html:a.day(n).format("dddd")})}))},drawCalendarBodyRows:function(){for(var t=this,a=this.Source.clone().date(1),r=a.year(),e=a.month()+1,n=a.clone().add(1,"months").date(0),o=TURNINDEX(a.day()-this.CalendarStartDay,7),d=a.clone().date(0).date()-o,i=ARRAYINARRAY(6),s=0,u=o;u>s;s++)i[0].push(MAKE("td.before",{html:d+s+1}));for(var h=n.date()+o,s=o,u=h;u>s;s++){var l=s-o+1,c=MAKE("td",{html:l,dataset:{year:r,month:e,date:l}});i[Math.floor(s/7)].push(c),ELON(c,"click",function(){t.calendarToggle(parseInt(ELDATA(this,"year")),parseInt(ELDATA(this,"month")),parseInt(ELDATA(this,"date")))})}for(var s=h,u=42,m=1;u>s;s++)i[Math.floor(s/7)].push(MAKE("td.after",{html:m})),m++;return DATAMAP(i,function(t){return MAKE("tr",t)})}},function(t,a,r,e){this.CalendarStartDay=0,this.Source=1==arguments.length&&"string"==typeof t&&2==t.length?moment(void 0,void 0,t):"string"==typeof t&&"string"==typeof a&&2==a.length?moment(t,void 0,a):moment.apply(void 0,CLONEARRAY(arguments))});var t=FUT.LOADINGSCRIPTROOT();FUT.INCLUDE(t+"moment-with-locales.js")}();