nody.method("ELTHE",function(t,e,r){if(NODYENV.matchesSelector)return NODYENV.matchesSelector(t,e);var i=SELECTINFO(e);for(var n in i)switch(n){case"tagName":if(t.tagName.toLowerCase()!==i.tagName)return!1;break;case"class":var o=i[n],s=ELATTR(t,n);if(null===o){if(null===s)return!1;continue}if("string"!=typeof s)return!1;var a=!1;s=s.split(" "),o=o.split(" ");for(var u=0,h=o.length;h>u;u++){for(var c=!1,l=0,d=s.length;d>l;l++)if(s[l]==o[u]){c=!0;break}if(0==c){a=!0;break}}if(1==a)return!1;break;case"::":if(ELVALUE(t)!==i[n])return!1;break;case":":for(var f in i[n])switch(f){case"not":if(NUT.THE(t,i[n][f]))return!1;break;case"focus":if(!NUT.HASFOCUS(t))return!1;break;case"eq":case"nth-child":if(!t.parentElement)return!1;if(DATAINDEX(t.parentElement.children,t)!==t,i[n][f])return!1;break;case"even":if(!t.parentElement)return!1;if(DATAINDEX(t.parentElement.children,t)%2)return!1;break;case"odd":if(!t.parentElement)return!1;if(!(DATAINDEX(t.parentElement.children,t)%2))return!1;break;case"first-child":if(!t.parentElement)return!1;if(0!==DATAINDEX(t.parentElement.children,t))return!1;break;case"last-child":if(DATAINDEX(t.parentElement.children,t)!==t.parentElement.children.length-1)return!1}break;default:var g=ELATTR(t,n),S=i[n];if(null==g)return!1;if(null==S)switch(n.toLowerCase()){case"disabled":if("disabled"in t&&0==t.disabled)return!1;case"readonly":if("readonly"in t&&0==t.readOnly)return!1;case"checked":if("checked"in t&&0==t.checked)return!1}else if(S!==g)return!1}return!0}),nody.method("ELIS",function(t,e,r){if(!ISELNODE(t))return!1;if("undefined"==typeof e||"*"==e||""==e)return!0;var i,n=StructureInit("QueryDataInfo",e);return n.each(function(e,r,n){if(1==i)return!1;if(0==e.length)i=!1;else if(1==e.length)i=NUT.THE(t,e[0]);else{for(var o=[t].concat(NUT.PARENTS(t)),s=0,a=!0,u=e.length-1;u>-1;u--){if(0==a)return!1;switch(e[u].substr(e[u].length-1)){case" ":for(var h=s+1,c=o.length-s;c>h;h++){s++;var l=e[u].trim();if(NUT.THE(o[h],l)){a=!0;break}a=!1}break;case">":s++;var l=e[u].trim();if(!NUT.THE(o[s],l)){a=!1;break}a=!0;break;default:a=NUT.THE(o[s],e[u])?!0:!1}}i=a}}),i}),nody.extendModule("NFArray","NFRange",{},function(t,e,r){var i,n,o,s;if("number"==typeof t&&"number"==typeof e)n=t,o=e,s=r,i=!0;else if("string"==typeof t&&1==/(\d+)\~(\d+)/.test(t)){var a=/(\d+)\~(\d+)/.exec(t);n=parseInt(a[1]),o=parseInt(a[2]),s=e,i=!0}if(1!=i)this.setSource(t);else{if(s=isNaN(s)?1:parseInt(s),n==o)return void this.push(n);if(o>n){for(;o>=n;n+=s)this.push(n);return}for(;n>=o;o+=s)this.push(o)}}),nody.module("NFInside",{__setInputConfig:function(){ELATTR(this.Source,"autocomplete","off")},__maskIgnoreKeyCode:[9,16,17,18,27,36,37,38,39,40,91,92],__maskApply:function(t){this.__setInputConfig();var e=new NFArray(this.__maskIgnoreKeyCode),r=new NFArray(arguments).subarr(1).toArray(),i=this.Source;ELON(i,"keydown",function(n){e.has(n.keyCode)||setTimeout(function(){var e=new NFNumber(ELVALUE(i));ELVALUE(i,e[t].apply(e,r))},0)})},getDateValue:function(t){var e=ELVALUE(this.Source);return IS(e,/(\d+)\D+(\d+)\D+(\d+)/,_NFString(e).printf(/(\d+)\D+(\d+)\D+(\d+)/,[1],"년 ",[2],"월 ",[3],"일"),e)},maskNumber:function(t,e){return this.Source?this.__maskApply("getNumberTextFormat",t,e):console.warn("Inside:: inside source invalid")},maskPhoneNumber:function(t,e){return this.Source?this.__maskApply("getPhoneNumber"):console.warn("Inside:: inside source invalid")},maskDecimal:function(t,e){return this.Source?this.__maskApply("getDecimal",t,e):console.warn("Inside:: inside source invalid")},is:function(t,e,r){return IS(this.getValue(),t,e,r)},as:function(t,e,r){return AS(this.getValue(),t,e,r)},print:function(t,e){var r=window.open("","","left=0,top=0,width=1,height=1,toolbar=0,scrollbars=0,status =0"),i=r.document,n=this,o=CREATE("div#pointer");ELBEFORE(this.Source,o);var s=this.Source.parentNode,a=new NFArray(W.document.head.childNodes).filter(function(t){return ISELNODE(t)&&"SCRIPT"!==t.tagName?!0:!1});a.insert(CREATE("base",{href:NFClient.url().replace(/\/[^\/]*$/,"/")})).push(CREATE("style",{html:"@media print{ body{ background-color:#FFFFFF; background-image:none; color:#000000 } #ad{ display:none;} #leftbar{ display:none;} #contentarea{ width:100%;} }"})),i.head.innerHTML=a.map(function(t){return t.outerHTML}).join("");var u=function(){CALL(t,n.Source,n.Source),n.addClass("print"),i.body.appendChild(n.Source)},h=function(){n.removeClass("print"),CALL(e,n.Source,n.Source),ELBEFORE(o,n.Source),ELREMOVE(o),r.close()};u(),setTimeout(function(){r.print(),h()},1)},getValue:function(){return ELVALUE(this.Source)},number:function(){return new NFNumber(ELVALUE(this.Source)).number()}},function(t){this.Source=FSINGLE(t)[0],this.Source||console.warn("Inside의 초기값을 설정하지 못했습니다. command =>",t)}),nody.extendModule("NFQuery","NFContext2D",{setCanvasSize:function(t,e){this._drawTarget.setAttribute("width",t),this._drawTarget.setAttribute("height",e),this._drawTargetWidth=t,this._drawTargetHeight=e},addDrawRect:function(t){this._drawRect.push(t)},needDraw:function(){var t=this,e={width:this._drawTargetWidth,height:this._drawTargetHeight,horizontalCenter:this._drawTargetWidth/2,verticalCenter:this._drawTargetHeight/2,top:0,left:0,right:this._drawTargetWidth,bottom:this._drawTargetHeight};return DATAEACH(this._drawRect,function(r){"function"==typeof r&&r(e,t._drawTarget.getContext("2d"))}),this},addCrossLine:function(t,e,r,i,n,o,s){return t=TONUMBER(t),e=TONUMBER(e),r=TONUMBER(r),i=TONUMBER(i),o=TONUMBER(o),s=TONUMBER(s),n=n||"#777",this.addDrawRect(function(a,u){var h=function(t){u.beginPath(),u.strokeStyle=n,t(a,u),u.closePath(),u.stroke()};t&&h(function(e,r){r.lineWidth=t,r.moveTo(e.horizontalCenter+o,e.verticalCenter+s),r.lineTo(e.horizontalCenter+o,e.top)}),e&&h(function(t,r){r.lineWidth=e,r.moveTo(t.horizontalCenter+o,t.verticalCenter+s),r.lineTo(t.right,t.verticalCenter+s)}),r&&h(function(t,e){e.lineWidth=r,e.moveTo(t.horizontalCenter+o,t.verticalCenter+s),e.lineTo(t.horizontalCenter+o,t.bottom)}),i&&h(function(t,e){e.lineWidth=i,e.moveTo(t.horizontalCenter+o,t.verticalCenter+s),e.lineTo(t.left,t.verticalCenter+s)})}),this},toURL:function(){return this._drawTarget.toDataURL()},backgroundTo:function(t,e){var t=FSINGLE(t)[0];t&&ELSTYLE(t,"background-image",ZSTRING('url("\\{$0}")',this.toURL()))},backgroundToResponder:function(t){this.backgroundTo(this._responder,t)}},function(t,e){this._drawRect=[],this._drawTarget=MAKE("canvas"),this.setSource(this._drawTarget),("string"==typeof t||"object"==typeof t)&&(this._responder=FSINGLE(t)[0]),this._responder?this.setCanvasSize(this._responder.offsetWidth,this._responder.offsetHeight):this.setCanvasSize(t,e||t)}),nody.extendModule("NFObject","NFModel",{exports:function(t,e){var r=DATACONTEXT(t);if(r||(r=this.DataContext),r)if(1==ISELNODE(r))_NFForm(r,this.ModelSelectRule).checkin(this.Source);else for(var i in this.Source)(i in r||1==e)&&(r[i]=this.Source[i])},imports:function(t){var e=DATACONTEXT(t);return e?(this.DataContext=e,ISELNODE(this.DataContext)?(this.Source=_NFForm(this.DataContext,this.ModelSelectRule).checkout(),this):(this.Source=this.DataContext,this)):void console.error("Model :: 시리얼라이저 다음 초기화 인자가 올바르지 않습니다. => ",t)},replace:function(t,e){if("string"==typeof t){switch(typeof e){case"number":case"string":this.Source[t]=e;break;case"function":this.Source[t]=e.call(this,t[e]);break;console.warn("Model::replace >> replace는 number string function만 지원 합니다.  들어온 값=>",e,typeof e)}return this.Source}},trace:function(){console.log("Model :: trace == ",this.DataContext);var t=[];for(var e in this.Source)t.push(" :"+e+"   => "+TOS(this.Source[e]));return console.log(t.join("\n")),console.log("Model :: trace end == ",this.Source),this}},function(t,e){switch(typeof rule){case"string":this.ModelSelectRule=rule+",[name],[control]";break;default:this.ModelSelectRule="[name],[control]"}this.imports(t)}),nody.makeModule("Color",{getColorSource:function(){switch(console.log(this.OriginSource),this.OriginSource[0]){case"HEX":return this.Utility.HEXToHSV(this.OriginSource[1]);break;case"RGB":return this.Utility.HEXToHSV(this.OriginSource.shift());break;case"RGBA":return this.Utility.HEXToHSV(this.OriginSource.shift());break;case"HSV":var t=this.OriginSource;return[t[1],t[2],t[3]];break;case"HSVA":var t=this.OriginSource;return[t[1],t[2],t[3]];break;default:console.log("Color::getColorSource Source형식이 지원하지 않습니다.")}},isValid:function(){return this.OriginSource?!0:!1},getFiltedHSV:function(){var t=CLONE(this.Source);for(var e in this.ColorFilter)if(0!==this.ColorFilter[e])switch(e){case"cold":t[0]+=t[0];break;case"light":t[1]+=t[1];break;case"bright":t[2]+=t[2];break;default:console.warn("Color::getFiltedHSV 알수 없는 필터값이 존재합니다. =>",e)}return t},getHSV:function(){return STRING("hsv(",STRINGC.apply(void 0,this.getFiltedHSV()),")")},getHEX:function(){return STRING("#",this.Utility.HSVToHEX(this.getFiltedHSV()))},getRGB:function(){return STRING("rgb(",STRINGC.apply(void 0,this.Utility.HSVToRGB(this.getFiltedHSV())),")")},getRGBA:function(){return STRING("rgba(",STRINGC.apply(void 0,this.Utility.HSVToRGB(this.getFiltedHSV())),","+this.alpha+")")},bright:function(t){return this.ColorFilter.bright+=NUMBER(t,10),this},dark:function(t){return this.ColorFilter.bright-=NUMBER(t,10),this},cold:function(t){return this.ColorFilter.cold+=NUMBER(t,10),this},warm:function(t){return this.ColorFilter.cold-=NUMBER(t,10),this},light:function(t){return this.ColorFilter.light+=NUMBER(t,10),this},bold:function(t){return this.ColorFilter.light-=NUMBER(t,10),this},Utility:{HEXToRGB:function(t){var t=parseInt(t.indexOf("#")>-1?t.substring(1):t,16);return[t>>16,(65280&t)>>8,255&t]},HEXToHSV:function(t){return this.RGBToHSV(this.HEXToRGB(t))},RGBToHSV:function(t){var e=t[0]/255,r=t[1]/255,i=t[2]/255,n,o,s,a;return s=Math.max(e,r,i),a=s-Math.min(e,r,i),n=0===a?null:s==e?(r-i)/a:s==r?(i-e)/a+2:(e-r)/a+4,n=(n+360)%6*60/360,o=0===a?0:a/s,[360*(n||1),100*o,100*s]},HSVToRGB:function(t){var e={},r=Math.round(t[0]),i=Math.round(255*t[1]/100),n=Math.round(255*t[2]/100);if(0==i)e.r=e.g=e.b=n;else{var o=n,s=(255-i)*n/255,a=(o-s)*(r%60)/60;360==r&&(r=0),60>r?(e.r=o,e.b=s,e.g=s+a):120>r?(e.g=o,e.b=s,e.r=o-a):180>r?(e.g=o,e.r=s,e.b=s+a):240>r?(e.b=o,e.r=s,e.g=o-a):300>r?(e.b=o,e.g=s,e.r=s+a):360>r?(e.r=o,e.g=s,e.b=o-a):(e.r=0,e.g=0,e.b=0)}return[Math.round(e.r),Math.round(e.g),Math.round(e.b)]},RGBToHEX:function(t){for(var e=[t[0].toString(16),t[1].toString(16),t[2].toString(16)],r=0,i=e.length;i>r;r++)e[r].length<2&&(e[r]="0"+e[r]);return e.join("")},HSVToHEX:function(t){return this.RGBToHEX(this.HSVToRGB(t))}}},function(t){t=t.toUpperCase().trim(),this.alpha=1,this.ColorFilter={bright:0,cold:0,light:0},/(hex|\#|)[0-9a-f]{3}/i.test(t)?/([0-9a-f]{6})/i.test(t)?(this.OriginSource=/([0-9a-f]{6})/i.exec(t),this.OriginSource[0]="HEX"):(this.OriginSource=/([0-9a-f]{3})/i.exec(t),this.OriginSource[0]="HEX",this.OriginSource[1]=this.OriginSource[1].replace(/[0-9a-f]/gi,function(t){return t+t})):/\D+(\d+)\D+(\d+)\D+(\d+)/i.test(t)&&(/hsva\D+(\d+)\D+(\d+)\D+(\d+)\D+([\.\d]+)/i.test(t)?(this.OriginSource=/\D+(\d+)\D+(\d+)\D+(\d+)\D+([\.\d]+)/i.exec(t),this.OriginSource[0]="HSVA",this.alpha=parseFloat(this.OriginSource[4])):/hsv\D+(\d+)\D+(\d+)\D+(\d+)/i.test(t)?(this.OriginSource=/\D+(\d+)\D+(\d+)\D+(\d+)/i.exec(t),this.OriginSource[0]="HSV"):/\D+(\d+)\D+(\d+)\D+(\d+)\D+([\.\d]+)/i.test(t)?(this.OriginSource=/\D+(\d+)\D+(\d+)\D+(\d+)\D+([\.\d]+)/i.exec(t),this.OriginSource[0]="RGBA",this.alpha=parseFloat(this.OriginSource[4])):(this.OriginSource=/\D+(\d+)\D+(\d+)\D+(\d+)/i.exec(t),this.OriginSource[0]="RGB")),this.isValid()||(console.error("Color::파라메터의 형식에 대응할 수 올바르지 없습니다. white로 대응합니다.=> ",t),this.OriginSource=["HEX","FFFFFF"]),this.Source=this.getColorSource()},function(){switch(this.OriginSource[0]){case"HEX":return this.getHEX();break;case"RGB":return this.getRGB();break;case"RGBA":return this.getRGBA();break;case"HSV":return this.getHSV();break;default:console.log("Color::getColorSource Source형식이 지원하지 않습니다.")}}),nody.module("NFTimeCounter",{timeoutHandler:function(){if(this._timeout&&clearTimeout(this._timeout),this._moveEnd>+new Date){CALL(this._whenMoving,this,100-(this._moveEnd-+new Date)/this.duration*100);var t=this;this._timeout=setTimeout(function(){t.timeoutHandler.call(t)},this.rate)}else this.moveStart=null,this.moveEnd=null,CALL(this._whenMoving,this,100),CALL(this._whenMoveFinish,this,100)},start:function(){var t=this;this._moveStart=+new Date,this._moveEnd=this._moveStart+this.duration,this.timeoutHandler()},whenCounting:function(t){this._whenMoving=t},whenCountFinish:function(t){this._whenMoveFinish=t}},function(t,e,r,i,n){t&&this.whenCounting(t),e&&this.whenCountFinish(e),this.duration="number"==typeof r?r:300,this.rate="number"==typeof i?i:20,(e===!0||r===!0||i===!0||n===!0)&&this.start()});