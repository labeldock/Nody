!function(W,NGetters,NSingletons,NModules,NStructure,nody){nody.version="0.22.1",nody.build="1078",nody.coreVersion="1.9.2",nody.coreBuild="76","object"!=typeof W.console&&(W.console={}),"log info warn error count assert dir clear profile profileEnd".replace(/\S+/g,function(t){t in W.console||(W.console[t]=function(){if("object"==typeof air&&"trace"in air){for(var t=Array.prototype.slice.call(arguments),e=[],n=0,r=t.length;r>n;n++)switch(typeof t[n]){case"string":case"number":e.push(t[n]);break;case"boolean":e.push(t[n]?"true":"false");break;default:e.push(TOSTRING(t[n]))}air.trace(e.join(", "))}})});var MARKO={};W.MARK=function(t){if("string"==typeof t||"number"==typeof t){if(t+="","number"==typeof MARKO[t]){var e=+new Date-MARKO[t];return console.info("MARK::"+t+" => "+e),delete MARKO[t],e}console.info("MARK START::"+t),MARKO[t]=+new Date}},String.prototype.trim||(String.prototype.trim=function(){return this.replace(/(^\s*)|(\s*$)/gi,"")}),"undefined"==typeof W.JSON&&(W.JSON={parse:function(s){var r;try{r=eval("("+s+")")}catch(e){r=TOOBJECT(s)}return r},stringify:function(t){return W.TOSTRING(obj,Number.POSITIVE_INFINITY,!0)}}),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,i.prototype=new r,i}),"function"==typeof W.success&&(W.success="success");var traceNativeModule=function(t){if(NModules[t]){var e=t+"("+/\(([^\)]*)\)/.exec(NModules[t].prototype.set+"")[1]+")",n=0;for(var r in NModules[t].prototype)switch(r){case"set":case"get":case"__NativeType__":case"__NativeHistroy__":case"__NativeHistroy__":case"constructor":case"__NativeClass__":case"_super":case"__GlobalConstructor__":break;default:"function"==typeof NModules[t].prototype[r]&&(e+="\n "+n+" : "+r+"("+/\(([^\)]*)\)/.exec(NModules[t].prototype[r]+"")[1]+")"),n++}return e}return t+" module is not found."};nody.api=traceNativeModule,nody.all=function(){var t,e,n=[],r="# Native Getter";for(t=0,l=NGetters.length;t<l;t++)r+="\n"+t+" : "+NGetters[t];n.push(r);var i="# Native Singleton";t=0;for(e in NSingletons){i+="\n"+t+" : "+e;var o,a=0;switch(e){case"SpecialFoundation":case"ELUT":case"NODY":case"FINDEL":case"ElementFoundation":case"ElementGenerator":var s=0;for(o in NSingletons[e].constructor.prototype)s++;i+="\n ["+s+"]...";break;default:for(o in NSingletons[e].constructor.prototype)i+="\n"+a++ +" : "+o}t++}n.push(i);var u="# Native Module";t=0;for(e in NModules)u+="\n "+t+" : "+traceNativeModule(e),t++;return n.push(u),n.join("\n")};var NativeFactoryObject=function(t,e,n,r){if(e in NModules)return console.error("NodyNativeCore :: already exsist module =>",e),!1;var i,o,a;switch(t){case"object":i={},o="function"==typeof n?function(t){return n.apply(this,Array.prototype.slice.call(arguments)),this}:function(t){return this.Source=t,this},a=r?r:function(){return this.Source};break;case"array":i=[],o="function"==typeof n?n:function(t){return this.setSource(t)},a=function(){return this.toArray.apply(this,arguments)};break;default:throw new Error("NativeFactoryObject :: 옳지않은 타입이 이니셜라이징 되고 있습니다. => "+t)}var s=function(){if("function"==typeof this.set){for(var t in NModules[e].prototype)0==t.indexOf("+")&&(this[t.substr(1)]=NModules[e].prototype[t]);this.set.apply(this,Array.prototype.slice.apply(arguments))}};return NModules[e]=s,NModules[e].prototype=i,NModules[e].prototype.set=o,NModules[e].prototype.get=a,NModules[e].prototype.__NativeType__=t,NModules[e].prototype.__NativeHistroy__=[e],NModules[e].prototype.__NativeClass__=function(t){return this.__NativeHistroy__[this.__NativeHistroy__.length-1]==t},NModules[e].prototype.constructor=s,NModules[e].prototype._super=function(){var t,e,n,r,i=arguments.callee.caller,o=0;for(scopeMax=this.__NativeHistroy__.length;o<scopeMax;o++){t=this.__NativeHistroy__.length-1-o,e=this.__NativeHistroy__[t],n=NModules[e].prototype.constructor.prototype;for(var a in n)if("_super"!==a&&n[a]==i){r=a;break}if("undefined"!=typeof r)break}if("undefined"==typeof r)return void console.error("NodyNativeCore::_super::해당 함수에 그러한 프로토타입이 존재하지 않습니다.",i);for(var s=0,u=void 0,s=0,c=t;c>s;s++){var l=this.__NativeHistroy__.length-o-2,h=this.constructor.prototype.__NativeHistroy__[l],f=NModules[h],d=f.prototype,p=f.prototype[r];if(o++,"function"!=typeof p)break;if(i!==p){u=p.apply(this,Array.prototype.slice.call(arguments));break}}return u},!0},NativeFactoryExtend=function(t,e,n,r){if("object"==typeof e&&t in NModules){var i=NModules[t].prototype;"function"==typeof n&&(e.set=n,n=!0),"function"==typeof r&&(e.get=r,r=!0);for(var o in e)switch(o){case"constructor":case"_super":break;case"__NativeHistroy__":i[o]=Array.prototype.slice.call(e[o]);break;case"set":1==n&&(i[o]=e[o]);break;case"get":1==r&&(i[o]=e[o]);break;default:i[o]=e[o]}return!0}return!1},NativeFactoryDeploy=function(t){t in NModules&&(W["_"+t]=function(){var e=Array.prototype.slice.call(arguments);return e.unshift(NModules[t]),new(Function.prototype.bind.apply(NModules[t],e))},NModules[t].prototype.__GlobalConstructor__=window["_"+t],W[t]=NModules[t])};nody.module=function(t,e,n,r){NativeFactoryObject("object",t)&&(NativeFactoryExtend(t,e,n,r),NativeFactoryDeploy(t))},nody.arrayModule=function(t,e,n,r){NativeFactoryObject("array",t)&&(NativeFactoryExtend(t,e,n,r),NativeFactoryDeploy(t))},nody.extendModule=function(t,e,n,r,i){var o=NModules[t];if("undefined"==typeof o)throw new Error("확장할 behavior ("+t+")가 없습니다"+TOSTRING(NModules));if(NativeFactoryObject(o.prototype.__NativeType__,e)){var a=NModules[e];NativeFactoryExtend(e,o.prototype,!0,!0),NativeFactoryExtend(e,n,r,i),a.prototype.__NativeHistroy__.push(e),NativeFactoryDeploy(e)}},nody.method=function(t,e,n){var r=t.toUpperCase();if(W[r]=e,NGetters.push(r),"object"==typeof n)for(var i in n)"function"==typeof n[i]&&(e[i]=function(){var t=new function(){var t=this;this.getter=function(){return e.apply(t,Array.prototype.slice.call(arguments))}};return n[i].apply(t,Array.prototype.slice.call(arguments))});return e},structruePrototype={get:function(t){return t?this.Source[t]:this.Source},empty:function(){for(var t in this.Source)delete this.Source[t];return this.Source},setSource:function(t){this.empty();for(var e in t)this.Source[e]=t[e];return this.Source},keymap:function(t,e){var n=0,r={};for(var i in t)r[t[i]]=e(t[i],i,n++);return this.setSource(r)},each:function(t){var e=0;for(var n in this.Source){var r=t(this.Source[n],n,e++);if(0==r)break}return this.Source},map:function(t){var e=[];return this.each(function(n,r,i){e.push(t(n,r,i))}),e},trace:function(t){console.log((t?t+" ":"")+TOSTRING(this.Source))}},nody.structure=function(t,e){if("string"!=typeof t||"function"!=typeof e)return console.warn("nody.structure::worng arguments!");NStructure[t]=function(){this.Source={},e.apply(this,Array.prototype.slice.call(arguments))},NStructure[t].prototype={constructor:e};for(var n in structruePrototype)NStructure[t].prototype[n]=structruePrototype[n];window[t]=NStructure[t]},nody.initStructure=function(t,e){return e instanceof W[t]?e:new W[t](e)},nody.singleton=function(t,e,n){var r=n?n:function(){};for(var i in e)if("string"==typeof i&&0===i.indexOf("Structure#")){var o=i.substr(10);o.length>0&&nody.structure(o,e[i]),delete e[i]}r.prototype=e,r.prototype.constructor=r,r.prototype.eachGetterWithPrefix=function(){for(var e in r.prototype)switch(e){case"eachGetter":case"eachGetterWithPrefix":case"constructor":break;default:nody.method(t+e,r.prototype[e])}},r.prototype.eachGetter=function(){for(var t in r.prototype)switch(t){case"eachGetter":case"eachGetterWithPrefix":case"constructor":break;default:nody.method(t,r.prototype[t])}},W[t]=new r,NSingletons[t]=W[t]},nody.methods=function(t){if("object"==typeof t)for(var e in t)nody.method(e,t[e])},nody.method("CONTINUEFUNCTION",function(t,e,n){return e=e||1,function(){if(arguments.length>=e)for(var r=e,i=arguments.length;i>r;r++)if("function"==typeof arguments[r])return arguments[r].apply(n,[t.apply(n,Array.prototype.slice.call(arguments,0,r))].concat(Array.prototype.slice.call(arguments,r+1,i)));return t.apply(n,Array.prototype.slice.call(arguments))}}),nody.method("BINDFUNCTION",function(t,e,n){if("function"!=typeof t)return e;if("function"!=typeof e)return t;var r=t._nodyBindFunction?t._nodyBindFunction:[t],i=e._nodyBindFunction?e._nodyBindFunction:[e],o=r.concat(i),a=n===!1?function(){DATAEACH(a._nodyBindFunction,function(t){return t()})}:function(){return DATAMAP(a._nodyBindFunction,function(t){return t()})};return a._nodyBindFunction=o,r=i=o=null,a}),nody.method("TRYCATCH",function(t,e,n){try{return t.call(n)}catch(r){return e.call(n,r)}}),nody.url={info:function(t){if("object"==typeof t)return t.ConstructorMark==="ClientURLInfo"+W.nody?t:null;var n;return TRYCATCH(function(){n=/([\w]+)(\:[\/]+)([^/]*\@|)([\w\d\.\-\_\+]+)(\:[\d]+|)(\/|)([\w\d\.\/\-\_]+|)(\?[\d\w\=\&\%]+|)(\#[\d\w]*|)/.exec(t?t:window.document.URL.toString())},function(){n=null}),null===n?(console.error("nody.url.info::faild get url info",e),null):{ConstructorMark:"ClientURLInfo"+W.nody,url:window.document.URL.toString(),protocol:n[1],divider:n[2],userinfo:n[3],hostname:n[4],port:n[5].substring(1),path:n[6]+n[7],query:n[8],fragment:n[9],filename:/(\/|)([\w\d\.\-\_]+|)$/.exec(n[6]+n[7])[2]}},root:function(t){var e=nody.url.info(t),n=e.protocol+e.divider+e.hostname+(""!==e.port?":"+e.port:e.port);return/\/$/.test(n)?n:n+"/"},script:function(){var t=document.getElementsByTagName("script"),e=t[t.length-1],n;return e?n=e.src:console.warn("GETSCRIPTURL faild"),/^[\w]+\:\//.test(n)||(n=nody.url.root()+n),n},scriptRoot:function(){return nody.url.script().replace(/([^\/]+$)/,"")}},nody.include=function(t){var e,n=/\.([^\.]+)$/.exec(t)[1];"js"===n?(e=document.createElement("script"),e.setAttribute("type","text/javascript"),e.setAttribute("src",t)):"css"===n&&(e=document.createElement("link"),e.setAttribute("rel","stylesheet"),e.setAttribute("type","text/css"),e.setAttribute("href",t)),document.getElementsByTagName("head")[0].appendChild(e)};var nody_cache;nody.cache={has:function(t,e){return t in nody_cache&&e in nody_cache[t]?!0:!1},set:function(t,e,n){t in nody_cache||(nody_cache[t]={}),nody_cache[t][e]=n},get:function(t,e){return nody.cache.has(t,e)?nody_cache[t][e]:void 0},clear:function(){nody_cache={SELECTINFO:{"":{}},AreaContent:{}}},trace:function(){return JSON.stringify(nody_cache)}},nody.cache.clear();var nody_typemap={string:"ISSTRING",number:"ISNUMBER",numberText:"ISNUMBERTEXT",text:"ISTEXT",array:"ISARRAY",object:"ISOBJECT",email:"ISEMAIL",ascii:"ISASCII","true":"ISTRUE","false":"ISFALSE",nothing:"ISNOTHING",ok:"ISOK",nok:"ISNOK"};nody.singleton("TypeBase",{ISUNDEFINED:function(t){return"undefined"==typeof t?!0:!1},ISDEFINED:function(t){return"undefined"!=typeof t?!0:!1},ISNULL:function(t){return null===t?!0:!1},ISNIL:function(t){return null===t||"undefined"==typeof t?!0:!1},ISFUNCTION:function(t){return"function"==typeof t?!0:!1},ISBOOLEAN:function(t){return"boolean"==typeof t?!0:!1},ISOBJECT:function(t){return"object"==typeof t?!0:!1},ISSTRING:function(t){return"string"==typeof t?!0:!1},ISNUMBER:function(t){return"number"==typeof t?!0:!1},ISNUMBERTEXT:function(t){return"number"==typeof t?!0:"string"==typeof t?parseFloat(t)+""==t+"":!1},ISJQUERY:function(t){return"object"==typeof t&&null!==t&&"jquery"in t?!0:!1},ISARRAY:function(t){return"object"==typeof t?null===t||!(t instanceof Array||t instanceof NodeList||ISJQUERY(t)||!isNaN(t.length)&&isNaN(t.nodeType))||t instanceof Window?!1:!0:!1},ISEMAIL:function(t){return TypeBase.ISTEXT(t)?/^[\w]+\@[\w]+\.[\.\w]+/.test(t):!1},ISASCII:function(t){return TypeBase.ISTEXT(t)?/^[\x00-\x7F]*$/.test(t):!1},ISTRUE:function(t){return t?!0:!1},ISFALSE:function(t){return t?!0:!1},ISTEXT:function(t){return"string"==typeof t||"number"==typeof t?!0:!1},ISWINDOW:function(t){return"object"==typeof t?"navigator"in t:!1},ISDOCUMENT:function(t){return"object"==typeof t&&9==t.nodeType?!0:!1},ISELNODE:function(t){return null==t?!1:"object"!=typeof t||1!=t.nodeType&&!ISDOCUMENT(t)?!1:!0},HASELNODE:function(t){if(ISARRAY(t)){for(var e=0,n=t.length;n>e;e++)if(ISELNODE(t[e]))return!0;return!1}return ISELNODE(t)},ISTEXTNODE:function(t){return null==t?!1:"object"!=typeof t||3!=t.nodeType&&8!=t.nodeType?!1:!0},ISUNDERBROWSER:function(t){var e=t?t:9;return-1!=navigator.appVersion.indexOf("MSIE")?parseInt(e)>parseInt(navigator.appVersion.split("MSIE")[1]):!1},ISNOTHING:function(t){if("undefined"==typeof t)return!0;if("string"==typeof t)return t.trim().length<1?!0:!1;if("object"==typeof t){if(t instanceof RegExp)return!1;if(ISELNODE(t))return!1;if(null==t)return!0;if(ISARRAY(t))t=t.length;else{var e=0;for(var n in t){e=1;break}t=e}}return"number"==typeof t?1>t?!0:!1:"function"==typeof t?!1:"boolean"==typeof t?!this.Source:(console.warn("ISNOTHING::이 타입에 대해 알아내지 못했습니다. nothing으로 간주합니다.",t),!0)},ISOK:function(t){return!ISNOTHING(t)},ISNOK:function(t){return ISNOTHING(t)},TOLENGTH:function(t,e){switch(typeof t){case"number":return(t+"").length;break;case"string":return t.length;case"object":if("length"in t)return t.length}return"undefined"==typeof e?0:e},TOSIZE:function(t,e){switch("undefined"!=typeof e&&"string"!=typeof e&&console.error("TOSIZE::type은 반드시 string으로 보내주세요",e),e){case"numberText":return parseFloat(t);break;case"number":return parseFloat(t);break;case"textNumber":case"text":case"email":case"ascii":return(t+"").length;break;case"string":case"array":return t.length;case"object":default:return TOLENGTH(t)}},IS:function(t,e,n,r){if(ISNOTHING(e))return ISTRUE(t);var i;switch(typeof e){case"string":var o=[];e.trim().replace(/\S+/g,function(t){o.push(t)});for(var a=0,s=o.length;s>a;a++){if(/^(\!|)(\w*)([\>\<\=\:]{0,3})([\S]*)/.test(o[a]))var u=/^(\!|)(\w*)([\>\<\=\:]{0,3})([\S]*)/.exec(o[a]);else console.warn("포멧이 올바르지 않은 키워드 입니다.",o[a]);var c=nody_typemap[u[2]];if(nody_typemap[u[2]]){if(i=TypeBase[c](t),"!"==u[1]&&(i=!i),!i)break;if(""!=u[3]&&""!=u[4]){if(ISNUMBERTEXT(u[4]))switch(u[3]){case">":i=TOSIZE(t,u[2])>parseFloat(u[4]);break;case"<":i=TOSIZE(t,u[2])<parseFloat(u[4]);break;case"<=":case"=<":case"<==":case"==<":i=TOSIZE(t,u[2])<=parseFloat(u[4]);break;case">=":case"=>":case">==":case"==>":i=TOSIZE(t,u[2])>=parseFloat(u[4]);break;case"==":case"===":i=TOSIZE(t,u[2])==parseFloat(u[4]);break;case"!=":case"!==":i=TOSIZE(t,u[2])!=parseFloat(u[4])}else if(":"===u[3]&&/\d+\~\d+/.test(u[4])){var l=/(\d+)\~(\d+)/.exec(u[4]);if(l[1]==l[2])i=TOSIZE(t,u[2])==parseFloat(u[4]);else{var h=1*l[1],f=1*l[2],d=TOSIZE(t,u[2]);i=h>f?h>=d&&d>=f:f>=d&&d>=h}}if(!i)break}}else console.warn("인식할수 없는 타입의 키워드 입니다.",u[2])}break;case"object":i=e instanceof RegExp&&ISTEXT(t)?e.test(t+""):!1}return i===!0?"function"==typeof n?n(t):"undefined"!=typeof n?n:!0:i===!1?"function"==typeof r?r(t):"undefined"!=typeof r?r:!1:!1},AS:function(t,e,n,r){return ISSTRING(t)&&(t=t.trim()),IS(t,e,n,r)}}),TypeBase.eachGetter();var CLONEARRAY=function(t){if(ISARRAY(t)){if("toArray"in t)return Array.prototype.slice.apply(t.toArray());for(var e=[],n=0,r=t.length;r>n;n++)e.push(t[n]);return e}return t||0==t?[t]:[]},TOARRAY=function(t,e){return"object"==typeof t&&ISARRAY(t)?t instanceof NodeList||t instanceof HTMLCollection?CLONEARRAY(t):t:"undefined"==typeof t&&arguments.length<2?[]:"string"==typeof t&&"string"==typeof e?t.split(e):[t]};nody.singleton("nodyBaseKit",{APPLY:function(t,e,n){return"function"==typeof t?(n=CLONEARRAY(n),n.length>0?t.apply(e,n):t.call(e)):void 0},FLATTENCALL:function(t,e){APPLY(t,e,DATAFLATTEN(Array.prototype.slice.call(arguments,2)))},CALL:function(t,e){return"function"==typeof t?arguments.length>2?t.apply(e,Array.prototype.slice.call(arguments,2)):t.call(e):void 0},CALLBACK:function(t,e){return"function"==typeof t?arguments.length>2?t.apply(e,Array.prototype.slice.call(arguments,2)):t.call(e):t},TOARRAY:TOARRAY,CLONEARRAY:CLONEARRAY,ARRAYARRAY:function(t){t=TONUMBER(t);for(var e=[],n=0;t>n;n++)e.push([]);return e},TONUMBER:function(t,e){switch(typeof t){case"number":return t;case"string":var n=1*t.replace(/[^.\d\-]/g,"");return isNaN(n)?0:n}switch(typeof e){case"number":return e;case"string":var n=1*e;return isNaN(n)?0:n}return 0},PADLEFT:function(t,e,n){return new Array(e-new String(t).length+1).join(n||"0")+t},ZDATE:function(t,e,n){ISARRAY(t)&&(t=t.join(" "));var r=/(\d\d\d\d|)[^\d]?(\d\d|\d|).?(\d\d|\d|)[^\d]?(\d\d|\d|)[^\d]?(\d\d|\d|)[^\d]?(\d\d|\d|)/.exec(t);r[1]=r[1]||(new Date).getYear()+1900+"",r[2]=r[2]||(new Date).getMonth()+1,r[3]=r[3]||(new Date).getDate(),r[4]=r[4]||"00",r[5]=r[5]||"00",r[6]=r[6]||"00";var i=[r[1],r[2],r[3],r[4],r[5],r[6],r[0]];return i.year=r[1],i.month=r[2],i.date=r[3],i.hour=r[4],i.minute=r[5],i.second=r[6],i.init=r[7],i.format=function(t){return t.replace("YYYY",i.year).replace(/(MM|M)/,i.month).replace(/(DD|D)/,i.date).replace(/(hh|h)/,i.hour).replace(/(mm|m)/,i.minute).replace(/(ss|s)/,i.second).replace(/(A)/,TONUMBER(i.hour)>12?"PM":"AM")},"string"==typeof e?i.format(e):i},TIMES:CONTINUEFUNCTION(function(t,e,n){t=TONUMBER(t);for(var r="number"==typeof n?n:0;t>r;r++){var i=e(r);if(0==i)break}return t},2),TIMESMAP:CONTINUEFUNCTION(function(t,e,n){t=TONUMBER(t);var r=[];if("string"==typeof e)var i=e,e=function(t){return ZSTRING.SEED(t)(i)};for(var o="number"==typeof n?n:0;t>o;o++)r.push(e(o));return r},2),DATACALL:CONTINUEFUNCTION(function(t,e){return"undefined"==typeof t?CLONEARRAY(e):e===!0?CLONEARRAY(t):TOARRAY(t)},1),DATAHAS:function(t,e){t=TOARRAY(t);for(var n=0,r=t.length;r>n;n++)if(t[n]===e)return!0;return!1},DATAZERO:function(t){return"object"==typeof t?"undefined"==typeof t[0]?void 0:t[0]:t},DATALAST:function(t){return ISARRAY(t)?t[t.length-1]:t},DATAEACH:CONTINUEFUNCTION(function(t,e){for(var n=TOARRAY(t),r=0,i=n.length;i>r&&e.call(n[r],n[r],r)!==!1;r++);return n},2),DATAEACHBACK:CONTINUEFUNCTION(function(t,e){for(var n=TOARRAY(t),r=0,i=n.length;i>r&&e.call(n[r],n[r],r)!==!1;r++);return n},2),DATAMAP:CONTINUEFUNCTION(function(t,e){for(var n=[],r=TOARRAY(t),i=0,o=r.length;o>i;i++)n.push(e.call(r[i],r[i],i));return n},2),DATAHAS:function(t,e){for(var n=TOARRAY(t),r=0,i=n.length;i>r;r++)if(n[r]===e)return!0;return!1},INJECT:function(t,e,n){n="object"==typeof n?n:{},t=TOARRAY(t);for(var r=0,i=t.length;i>r;r++)e(n,t[r],r);return n},DATAFLATTEN:function(){function t(n){DATAEACH(n,function(n){return ISARRAY(n)?DATAEACH(n,t):void e.push(n)})}var e=[];return t(arguments),e},DATAFILTER:CONTINUEFUNCTION(function(t,e){var n=TOARRAY(t);if(e=e||function(t){return"undefined"==typeof t?!1:!0},"function"==typeof e){var r=[];return DATAEACH(n,function(t,n){1==e(t,n)&&r.push(t)}),r}return[]},2),DATAANY:function(t,e){var n=!1,r="function"==typeof e?e:function(t){return t===e};return e=e||function(t){return"undefined"==typeof t?!1:!0},DATAFILTER(t,function(t,e){var i=r(t,e);return i===!0?(n=!0,!1):void 0}),n},DATAALL:function(t,e){var n=!0,r="function"==typeof e?e:function(t){return t===e};return e=e||function(t){return"undefined"==typeof t?!1:!0},DATAFILTER(t,function(t,e){var i=r(t,e);return i===!1?n=!1:void 0}),n},DATAUNIQUE:function(){for(var t=[],e=[],n=0,r=arguments.length;r>n;n++)for(var i=CLONEARRAY(arguments[n]),o=0,a=i.length;a>o;o++){for(var s=!0,u=0,c=e.length;c>u;u++)if(i[o]==e[u]){s=!1;break}1==s&&e.push(i[o])}return e},DATARANDOM:function(t,e){if(t=CLONEARRAY(t),"undefined"==typeof e)return t[Math.floor(Math.random()*t.length)];e>t.length&&(e=t.length);for(var n=[],r=0,i=e;i>r;r++){var o=Math.floor(Math.random()*t.length);n.push(t[o]),t.splice(o,1)}return n},DATASHUFFLE:function(t){t=CLONEARRAY(t);for(var e,n,r=t.length;r;e=parseInt(Math.random()*r),n=t[--r],t[r]=t[e],t[e]=n);return t},DATAINDEX:function(t,e){var n=TOARRAY(t);for(var r in n)if(e==n[r])return TONUMBER(r)},FLAGRANDOM:function(t){return"number"!=typeof t&&(t=.5),!!t&&Math.random()<=t},REVERSEINDEX:function(t,e){return e-1-t},TURNINDEX:function(t,e){if(0>t){var n=Math.abs(t);t=e-(n>e?n%e:n)}return e>t?t:t%e},SPRINGINDEX:function(t,e){return t=TONUMBER(t),e=TONUMBER(e),0==t||Math.floor(t/e)%2==0?t%e:e-t%e},PROPEACH:CONTINUEFUNCTION(function(t,e){if("object"==typeof t&&"function"==typeof e)for(k in t)if(e(t[k],k)===!1)break;return t},2),PROPMAP:CONTINUEFUNCTION(function(t,e){var n={};if("object"==typeof t&&"function"==typeof e){for(var r in t)n[r]=e(t[r],r);return n}return n},2),PROPDATA:CONTINUEFUNCTION(function(t,e){var n=[];if("function"!=typeof e&&(e=function(t){return t}),"object"==typeof t){for(var r in t)n.push(e(t[r],r));return n}return n},2),PROPLENGTH:function(t){var e=0;if("object"==typeof t||"function"==typeof t)for(var n in t)e++;return e},CLONE:function(t,e){if(e){if(ISARRAY(t)){ISARRAY(e)||(e=[]);for(var n=0,r=t.length;r>n;n++)e.push("object"==typeof t[n]&&null!==t[n]?CLONE(t[n]):t[n]);return e}1==e&&(e={});for(var i in t)"object"==typeof t[i]&&null!==t[i]&&e[i]?CLONE(t[i],e[i]):e[i]=t[i];return e}switch(typeof t){case"undefined":return t;break;case"number":return t+0;break;case"string":return t+"";break;case"object":if(t instanceof Date){var o=new Date;return o.setTime(t.getTime()),o}if(t instanceof Array){for(var o=[],n=0,a=t.length;a>n;n++)o[n]=t[n];return o}if(1==ISELNODE(t))return t;if(t instanceof Object){var o={};for(var s in t)t.hasOwnProperty(s)&&(o[s]=t[s]);return o}default:return console.error("CLONE::copy failed : target => ",t),t}},EXTEND:function(t){if("object"!=typeof t)return t;for(var e=1,n=arguments.length;n>e;e++)if("object"==typeof arguments[e])for(var r in arguments[e])t[r]=arguments[e][r];return t},MARGE:function(t){return"object"!=typeof t&&(t=void 0===t?{}:{data:t}),EXTEND.apply(void 0,[CLONE(t,!0)].concat(Array.prototype.slice.call(arguments,1)))},EXTENDFILL:function(t,e,n){if("object"!=typeof t&&(t=void 0===t?{}:{data:t}),n!==!0&&(n=TOARRAY(n)),n.length||n===!0)for(var r in e)r in t?(n===!0||DATAHAS(n,r))&&(t[r]=e[r]):t[r]=e[r];else for(var r in e)r in t||(t[r]=e[r]);return t},MARGEFILL:function(t,e,n){return EXTENDFILL(CLONE(t,!0),e,n)},TOSTRING:function(t,e,n){switch(typeof t){case"string":return 1==n?'"'+(t+"")+'"':t+"";break;case"number":return t+"";break;case"object":if("undefined"==typeof e&&(e=10),1>e)return"...";if(null==t)return 1==n?'"null"':"null";if(ISELNODE(t)){if(t==document)return'"[document]"';var r=t.tagName.toLowerCase(),i=ISNOTHING(t.id)?"":"#"+t.id,o=ISNOTHING(t.className)?"":"."+t.className.split(" ").join(".");return 1==n?'"'+r+i+o+'"':r+i+o}if(ISTEXTNODE(t))return"#text "+t.textContent;if(ISARRAY(t)){for(var a=[],s=0,u=t.length;u>s;s++)a.push(TOSTRING(t[s],e-1,n));return"["+a.join(1==n?",":", ")+"]"}if(t.jquery){var a=DATAMAP(t,function(t){TOSTRING(t)}).join(", ");return 1==n?'"$['+a+']"':"$["+a+"]"}var c=[];for(var l in t)c.push((1==n?'"'+l+'"':l)+":"+TOSTRING(t[l],e-1,n));return"{"+c.join(1==n?",":", ")+"}";break;case"boolean":return 1==n?t?'"true"':'"false"':t?"true":"false";case"undefined":return 1==n?'"undefined"':"undefined";default:return"toString"in t?1==n?'"'+t.toString()+'"':t.toString():1==n?'"[typeof '+typeof t+']"':"[typeof "+typeof t+"]"}},TOS:function(t,e){return TOSTRING(t,9,e)},MAX:function(t,e,n){if("string"==typeof t){if(e=isNaN(e)?100:parseInt(e),n="string"==typeof n?n:"...",t.length>e)return t.substr(0,e)+n}else ISARRAY(t)&&t.length>e&&(t.length=e);return t},ISTYPE:function(t,e){if("string"==typeof e){var n="function"==typeof e?e.__NatvieContstructorName__:e;if("object"==typeof t&&"string"==typeof n&&"__NativeHistroy__"in t)for(var r=t.__NativeHistroy__,i=0,o=r.length;o>i;i++)if(r[i]==n)return!0;return!1}return"function"==typeof e?t instanceof e?!0:!1:void 0}}),nodyBaseKit.eachGetter(),nody.env=function(){var t={};navigator?(t.os=/(win|mac|linux|iphone)/.exec(navigator.platform.toLowerCase()),t.os=null!==t.os?t.os[0].replace("sunos","solaris"):"unknown",t.browser=function(){var t=navigator.userAgent,e,n=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?(e=/\brv[ :]+(\d+)/g.exec(t)||[],"IE "+(e[1]||"")):"Chrome"===n[1]&&(e=t.match(/\bOPR\/(\d+)/),null!=e)?"Opera "+e[1]:(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=t.match(/version\/(\d+)/i))&&n.splice(1,1,e[1]),n.join(" "))}(),t.online=navigator.onLine):(t.browser=t.os="unknown",t.online=!1),t.supportComputedStyle=window&&"getComputedStyle"in window?!0:!1;var e=function(t){return t.match(/^Webkit/)?"-webkit-":t.match(/^Moz/)?"-moz-":t.match(/^O/)?"-o-":t.match(/^ms/)?"-ms-":""},n={};t.getCSSName=function(t){t.trim();for(var e in n)if(0===t.indexOf(e)){var r=n[e];if(r.length)return r+t}return t};var r=document.createElement("div");support=!1,"transform WebkitTransform MozTransform OTransform msTransform".replace(/\S+/g,function(t){t in r.style&&(support=!0,n.transform=e(t))}),t.supportTransform=support,support=!1,"transition WebkitTransition MozTransition OTransition msTransition".replace(/\S+/g,function(t){t in r.style&&(support=!0,n.transition=e(t))}),t.supportTransition=support,t.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,t.supportGetUserMedia=!!t.getUserMedia,t.supportNodeListSlice=function(){try{return Array.prototype.slice.call(NodeList),!0}catch(t){return!1}}();var i="querySelectorAll"in document?"querySelectorAll":"webkitQuerySelectorAll"in document?"webkitQuerySelectorAll":"msQuerySelectorAll"in document?"msQuerySelectorAll":"mozQuerySelectorAll"in document?"mozQuerySelectorAll":"oQuerySelectorAll"in document?"oQuerySelectorAll":!1;t.supportQuerySelectorAll=!!i,t.supportStandardQuerySelectorAll="querySelectorAll"===i,t.querySelectorAll=t.supportQuerySelectorAll?t.supportNodeListSlice?function(t,e){return Array.prototype.slice.call((t||document)[i](e.replace(/\[[\w\-\_]+\=[^\'\"][^\]]+\]/g,function(t){return t.replace(/\=.+\]$/,function(t){return'="'+t.substr(1,t.length-2)+'"]'})})))}:function(t,e){for(var n=(t||document)[i](e.replace(/\[[\w\-\_]+\=[^\'\"][^\]]+\]/g,function(t){return t.replace(/\=.+\]$/,function(t){return'="'+t.substr(1,t.length-2)+'"]'})})),r=[],o=0,a=n.length;a>o;o++)n[o]&&r.push(n[o]);return r}:null;var o="matches"in r?"matches":"webkitMatchesSelector"in r?"webkitMatchesSelector":"msMatchesSelector"in r?"msMatchesSelector":"mozMatchesSelector"in r?"mozMatchesSelector":"oMatchesSelector"in r?"oMatchesSelector":!1;return t.supportMatches=!!o,t.supportStandardMatches="matches"===i,t.matchesSelector=t.supportMatches&&function(t,e){return t[o](e.replace(/\[[\w\-\_]+\=[^\'\"][^\]]+\]/g,function(t){return t.replace(/\=.+\]$/,function(t){return'="'+t.substr(1,t.length-2)+'"]'})}))},t}()}(window,[],{},{},{},function(){return window.nody={},window.nody}()),function(W){if(1==W.nodyLoadException)throw new Error("Nody Process Foundation init cancled");nody.singleton("SpecialFoundation",{ZRATIO:function(t){var e=0;return t=TONUMBER(t)||100,DATAMAP(Array.prototype.slice.call(arguments,1),function(t){var n=TONUMBER(t);return e+=n,n},DATAMAP,function(n){return Math.round(n/e*t)})},TOPX:function(t){return/(\%|px)$/.test(t)?t:TONUMBER(t)+"px"},ISWRAP:function(t,e){if("string"==typeof t){t=t.trim(),e="undefined"!=typeof e?TOARRAY(e):['""',"''","{}","[]"];for(var n=0,r=e.length;r>n;n++){var i=e[n].substr(0,e[n].length-1),o=e[n].substr(e[n].length-1);if(0==t.indexOf(i)&&t.substr(t.length-1)==o)return!0}}return!1},UNWRAP:function(t,e){if("string"==typeof t){t=t.trim(),e="undefined"!=typeof e?TOARRAY(e):['""',"''","{}","[]","<>"];for(var n=0,r=e.length;r>n;n++)if(ISWRAP(t,e[n]))return t.substring(e[n].substr(0,e[n].length-1).length,t.length-1)}return t},WRAP:function(t,e){return ISWRAP(t,e)?t:(t="string"==typeof t?t.trim():"",e="string"==typeof e&&e.length>1?e:'""',e.substr(0,e.length-1)+t+e.substr(e.length-1))},DQURT:function(t){return"string"==typeof t?ISWRAP(t,'""')?t:'"'+UNWRAP(t,"''")+'"':t},SQURT:function(t){return"string"==typeof t?ISWRAP(t,"''")?t:"'"+UNWRAP(t,'""')+"'":t},INDEXES:function(t,e){if("string"==typeof t||"number"==typeof t){var n=[],r=t+"",e=e+"",i=0,o;do{var a=r.indexOf(e,i);a>-1?(i=e.length+a,n.push(i-e.length),o=!0):o=!1}while(o);return n}},SPLITINDEXES:function(t,e,n){if("string"==typeof t&&ISARRAY(e)){var r=CLONE(e);r.push(t.length);var i=[],o=0;if(1==n)for(var a=0,s=r.length;s>a;a++)a&&(i.push(t.substring(o-1,r[a])),o=r[a]+1);else for(var a=0,s=r.length;s>a;a++)i.push(t.substring(o,r[a])),o=r[a]+1;return i}},SIMPLERANGE:function(t){if(t){var e=[];e.length=t.length;for(var n=0,r=t.length;r>n;n++)for(var i=0,o=t.length;o>i;i++)n!==i&&t[n][0]<t[i][0]&&t[n][1]>t[i][1]&&(e[i]=!1);for(var a=[],s=0,u=e.length;u>s;s++)e[s]!==!1&&a.push(t[s]);return a}},INDEXESRANGE:function(t,e){if(ISARRAY(t)&&ISARRAY(e)){var n=[],r=[],i=0,o=0,a;do{var s=t[i],u=e[o];"undefined"==typeof s&&"undefined"==typeof u?a=!1:("undefined"==typeof u||u>s?(n.push(!0),r.push(s),i++):(n.push(!1),r.push(u),o++),a=!0)}while(a);for(var c=[],l=[],h=[],f=0,d=n.length;d>f;f++){var p=n[f],g=n[f+1];if(p)l.push(r[f]);else if(h.push(r[f]),h.length>=l.length&&(1==g||"undefined"==typeof g))for(var v=0,E=h.length;E>v;v++){if(0==l.length){h.length=0;break}c.push([l.shift(),h[h.length-1]]),h.length=h.length-1}}return c}if(ISARRAY(t)&&"undefined"==typeof e){for(var c=[],A=[],f=0,d=t.length;d>f;f++)A.push(t[f]),A.length>1&&c.push(A);return c}console.warn("INDEXESRANGE::두번째까지 파라메터는 array여야 합니다.",t,e)},OUTERSPLIT:function(t,e,n,r){if("string"==typeof t){("string"!=typeof e||0==e.length)&&(e=","),e.length>1&&(console.wran("OUTERSPLIT:: 두번째 파라메터는 1글자만 지원합니다. => ",e),e=e.substr(0,1)),n="undefined"!=typeof n?TOARRAY(n):["{}","[]"],t=UNWRAP(t,n);for(var i=[],o=0,a=n.length;a>o;o++){var s=n[o].substr(0,n[o].length-1),u=n[o].substr(n[o].length-1),c=INDEXES(t,s);if(s==u)i=i.concat(INDEXESRANGE(c));else{var l=INDEXES(t,u);i=i.concat(INDEXESRANGE(c,l))}}i=SIMPLERANGE(i);for(var h=INDEXES(t,e),f=[],d=0,p=h.length;p>d;d++){for(var g=h[d],v=!0,E=0,A=i.length;A>E;E++)if(g>i[E][0]&&g<i[E][1]){v=!1;break}1==v&&f.push(g)}return SPLITINDEXES(t,f,r)}},CASEARRAY:function(t,e){if("string"==typeof e)return t.split(e);if("string"!=typeof t)return console.error("CASEARRAY::첫번째 파라메터는 반드시 String이여야 합니다. // s =>",t);t=t.replace(/^\#/,"");var n=t.split("-");if(n.length>1)return n;var r=t.split("_");return r.length>1?r:t.replace(/[A-Z][a-z]/g,function(t){return"%@"+t}).replace(/^\%\@/,"").split("%@")},PASCAL:function(t){for(var e=CASEARRAY(t),n=0,r=e.length;r>n;n++)e[n]=e[n].charAt(0).toUpperCase()+e[n].slice(1).toLowerCase();return e.join("")},CAMEL:function(t){for(var e=CASEARRAY(t),n=1,r=e.length;r>n;n++)e[n]=e[n].charAt(0).toUpperCase()+e[n].slice(1).toLowerCase();return e[0]=e[0].toLowerCase(),e.join("")},SNAKE:function(t){for(var e=CASEARRAY(t),n=0,r=e.length;r>n;n++)e[n]=e[n].toLowerCase();return e.join("_")},KEBAB:function(t){for(var e=CASEARRAY(t),n=0,r=e.length;r>n;n++)e[n]=e[n].toLowerCase();return e.join("-")},DATACLIP:CONTINUEFUNCTION(function(t,e,n){var r=CLONEARRAY(t);return"number"!=typeof e||r.length===e?r:r.length>e?Array.prototype.slice.call(r,0,e):(TIMES(e-r.length,function(){r.push(n)}),r)},2),DATATILE:function(t,e){var n;switch(typeof t){case"string":case"number":n=t;break;case"object":if(!ISARRAY(t))return console.warn("DATATILE::Array만 가능합니다."),t;n=t}if("undefined"!=typeof n){var r=TOLENGTH(t),i,o=TONUMBER(e,r);switch(typeof n){case"string":i="";for(var a=0;o>a;a++)i+=t[TURNINDEX(a,r)];return i;case"number":var s=[];(t+"").replace(/\d/g,function(t){s.join(1*t)}),i=0;for(var a=0;o>a;a++)i+=s[TURNINDEX(a,r)];return i;break;case"object":i=[];for(var a=0;o>a;a++)i.push(t[TURNINDEX(a,r)]);return i}}},"Structure#StringNumberInfo":function(t){var e=/([\D]*)(([\d\,]+|)+(\.[\d]+|))([\D]*)/.exec(t),n=/([0]*)(.*)/.exec(e[2]);n[1].length&&!n[2].length&&(n[1]=n[1].substr(0,n[1].length-1),e[2]="0",e[3]="0"),"-"==e[1].charAt(e[1].length-1)&&e[2].length&&(e[1]=e[1].substr(0,e[1].length-1),e[2]="-"+e[2],e[3]="-"+e[3]),n[1].length&&(e[2]=n[2],e[3]=n[2]),e[2]=e[2].replace(/\,/g,""),e[3]=e[3].replace(/\,/g,""),this.Source.prefix=e[1],this.Source.prefixZero=n[1],this.Source.number=e[2],this.Source.integer=e[3],this.Source["float"]=e[4],this.Source.suffix=e[5],this.fixNumberInfo=function(){return"floatValue"in this.Source||(this.Source.floatValue=""!==this["float"]?"0"+this.Source["float"]:"0",""==this.Source.integer&&(this.Source.integer="0"),""==this.Source["float"]&&(this.Source["float"]="0"),""==this.Source.number&&(this.Source.number="0")),this
}},TRUNCBACK:function(t,e){return t=TONUMBER(t),e=TONUMBER(e),e?(t+Math.pow(10,e)+"").substr(1):t},TEXTNUMBER:function(t){if("string"==typeof t){var e=new StringNumberInfo(t).get();if(e.prefix||e.prefixZero||e.suffix)return t}return TONUMBER(t)},ZONERANGE:function(t){var e=/^([^\~]*)\~(.*)$/.exec(t);if(e){var n=new StringNumberInfo(e[1]).get(),r=new StringNumberInfo(e[2]).get(),i=n.prefix,o=n.prefixZero?n.prefixZero.length+n.integer.length:0,a=TONUMBER(n.number),s=TONUMBER(r.number),u=0;return u=a>s?s+Math.floor(Math.random()*(a-s+1)):a+Math.floor(Math.random()*(s-a+1)),o>0&&(u=TRUNCBACK(u,o)),i?i+u:u}return TEXTNUMBER(t)},ZONECHOICE:function(t,e){if(ISARRAY(t))return t[Math.floor(Math.random()*t.length)];var n=nody.cache.get("ZONECHOICE",t+e);if(n)return n[Math.floor(Math.random()*n.length)];var r=t.split("string"==typeof e?e:",");return nody.cache.set("ZONECHOICE",t+e,r),r[Math.floor(Math.random()*r.length)]},ZONEINFO:function(t){t=TOSTRING(t);var e,n,r=0==t.indexOf("\\!")?"fixed":0==t.indexOf("\\?")?"mutable":"plain";return"plain"!=r?(t=t.substr(2),/\d\~\d/.test(t)?(n="range",e="fixed"==r?ZONERANGE(t):t):t.indexOf(",")>-1?(n="choice",e="fixed"==r?ZONECHOICE(t):t):(console.error("setZoneParams:: 알수없는 명령어 입니다 ->",t),e=t)):e=t,{value:e,type:r,mutableType:n}},ZONEVALUE:function(t){switch(t.type){case"fixed":case"plain":return t.value;break;case"mutable":switch(t.mutableType){case"range":return ZONERANGE(t.value);break;case"choice":return ZONECHOICE(t.value)}}}}),SpecialFoundation.eachGetter(),nody.method("ZSTRING",function(source){var seed=this.seed||0,aPoint=[],params=DATAMAP(Array.prototype.slice.call(arguments,1),function(t){return ZONEINFO(t)});return source.replace(/(\\\([^\)]*\)|\\\{[^\}]*\})/g,function(s){if(")"==s[s.length-1]){var dv=ZONEVALUE(ZONEINFO("\\!"+s.substring(2,s.length-1)));return aPoint.push(dv),dv}var evs=s.substring(2,s.length-1).replace(/\$i/g,function(t){return seed}).replace(/\&\d+/g,function(t){var e=aPoint[parseInt(t.substr(1))];return ISNUMBERTEXT(e)?1*e:'"'+e+'"'}).replace(/\$\d+/g,function(t){var e=params[parseInt(t.substr(1))];return e?(e=ZONEVALUE(e),ISNUMBERTEXT(e)?e:'"'+e+'"'):void 0}),v=eval(evs);return aPoint.push(v),v})},{SEED:function(t){return this.seed=TONUMBER(t),this.getter}}),nody.method("ZNUMBER",function(t){if(1===arguments.length){var e="\\("+t+")";return TONUMBER(ZSTRING.call(void 0,e))}var n=Array.prototype.slice.call(arguments);return n[0]="\\{"+n[0]+"}",TONUMBER(ZSTRING.apply(void 0,n))},{SEED:function(t){return this.seed=TONUMBER(t),this.getter}});var objectCommonInterface={getKeys:function(t){var e=[];return this.each("string"==typeof t?function(n,r){r.indexOf(t)>-1&&e.push(r)}:t instanceof RegExp?function(n,r){t.test(r)&&e.push(r)}:function(t,n){e.push(n)}),e}};nody.arrayModule("NFArray",{each:function(t){for(var e=0,n=this.length;n>e&&0!=t(this[e],e);e++);return this},getKeys:objectCommonInterface.getKeys,eachBack:function(t){for(var e=this.length-1;e>-1&&0!=t(this[e],e);e--);return this},zero:function(){return this[0]},last:function(){return this[this.length-1]},has:function(t){for(var e=0,n=this.length;n>e;e++)if(this[e]===t)return!0;return!1},push:function(t,e){switch(typeof e){case"string":case"number":this[e]=t;break;default:Array.prototype.push.call(this,t)}return this},add:function(t,e){return this.has(t)||this.push(t,e),this},setSource:function(t){if(ISARRAY(t)){if("toArray"in t)Array.prototype.splice.apply(this,[0,this.length].concat(t.toArray()));else{this.splice(0,this.length);for(var e=0,n=t.length;n>e;e++)Array.prototype.push.call(this,t[e])}return this}return this.length=0,(t||0==t)&&Array.prototype.push.call(this,t),this},isEmpty:function(){return 0===this.length?!0:!1},isMulti:function(){return this.length>1?!0:!1},isSingle:function(){return 1===this.length?!0:!1},selectValue:function(t){var e=[];DATAEACH(this,function(n){n==t&&e.push(n)}),this.setSource(e)},selectIndex:function(t){return this.setSource(this[t])},selectFirst:function(){return this.setSource(this[0])},selectLast:function(){return this.setSource(this[this.length-1]);return this},max:function(t){return this.length=t>this.length?this.length:t,this},min:function(t,e){var n=parseInt(t);if("number"==typeof n&&this.length<n)for(var r=this.length;n>r;r++)this.push(e);return this},insert:function(t,e){this.min(e);for(var n=[],e=e?e:0,r=e,i=this.length;i>r;r++)n.push(this[r]);return this.max(e).push(t).concat(n)},toArray:function(){return Array.prototype.slice.call(this)},clear:function(){return this.splice(0,this.length),this},clone:function(){return new NFArray(this)},getFirst:function(){return DATAZERO(this)},getLast:function(){return DATALAST(this)},getSortBy:function(t){},getSort:function(t){t="undefined"==typeof t?!0:!1;var e=this.clone();return t?e.sort():e.sort().reverse()},getSortFirst:function(){return this.getSort().getFirst()},getSortLast:function(){return this.getSort().getLast()},behind:function(t,e){return this.insert(t,this.length-(isNaN(e)?0:parseInt(e)))},overwrite:function(t,e){return this.min(e+1),this[e]=t,this},getBoth:function(t,e){return this.save().insert(t).push(e)},both:function(t,e){return this.setSource(this.getBoth(t,e))},save:function(t){return this.__GlobalConstructor__(this)},getFlatten:function(){for(var t=[],e=0,n=this.length;n>e;e++)if("object"==typeof this[e])for(var r=0,i=TOARRAY(this[e]),o=i.length;o>r;r++)t.push(i[r]);else t.push(this[e]);return new NFArray(t)},flatten:function(){return this.setSource(this.getFlatten())},getConcat:function(){return new NFArray(arguments).inject(this.save(),function(t,e){new NFArray(t).each(function(t){e.push(t)})})},changeIndex:function(t,e){var n=this[t],r=this[e];this[t]=r,this[e]=n},hasIndex:function(t){return 0>t?!1:this.length-1<t?!1:!0},concat:function(){return this.setSource(this.getConcat.apply(this,arguments))},inject:function(t,e){for(var n=0,r=this.length;r>n;n++){var i=e(this[n],t,n);"undefined"!=typeof i&&(t=i)}return t},mapUtil:{"&":function(t,e){return t.getMap(function(t){return"object"==typeof t?t[e]:void 0})}},getMap:function(t,e){if("function"==typeof t){for(var n=[],r="number"==typeof e?e:0,i=this.length;i>r;r++)n.push(t(this[r],r,this.length));return new NFArray(n)}if("string"==typeof getOrder){t=t.trim();for(var o in this.mapUtil)if(0==t.indexOf(o)){var a=":"==t[o.length]?!0:!1,s=t.substr(a?o.length+1:o.length);return new NFArray(this.mapUtil[o](this,s))}}return new NFArray},map:function(t){return this.setSource(this.getMap(t))},turning:function(t,e){for(var n=parseInt(t),r=function(t){if(0>t){var e=Math.abs(t);t=n-(e>n?e%n:e)}return n>t?t:t%n},i=function(t){return{turning:r(t),group:Math.floor(t/n)}},o=0;o<this.length;o++){var a=i(o);e(this[o],a.turning,a.group,o)}return this},getFilter:function(t){if("undefined"==typeof t&&(t=function(t){return"undefined"==typeof t?!1:!0}),"function"==typeof t){var e=[];return this.each(function(n,r){1==t(n,r)&&e.push(n)}),new NFArray(e)}return new NFArray},filter:function(t){return this.setSource(this.getFilter(t))},getCompact:function(){return this.getFilter(function(t){return void 0==t?!1:!0})},compact:function(){return this.setSource(this.getCompact())},getTimesmap:function(t,e,n,r){var i=this,o=i.length,a=this.clone(),s="function"==typeof e?e:function(){return e};return TIMESMAP(t,function(t){t>=o?a.push(s(i[t],t)):a[t]=s(i[t],t)},n,r),a},timesmap:function(t,e,n,r){return this.setSource(this.getTimesmap(t,e,n,r))},passAll:function(t){for(var e=0,n=this.length;n>e;e++)if(1!=t(this[e],e))return!1;return!0},passAny:function(t){for(var e=0,n=this.length;n>e;e++)if(1==t(this[e],e))return!0;return!1},getSubArray:function(t,e,n){t=1==isNaN(t)?0:parseInt(t),e=1==isNaN(e)?0:parseInt(e);var r,i,o=new NFArray;t>e?(r=t,i=e):(r=e,i=t),n!==!0&&(r=r<this.length?r:this.length,i=i>0?i:0);for(var a=i,s=r;s>a;a++)o.push(this[a]);return o},subarray:function(){return this.setSource(this.getSubArray.apply(this,arguments))},getSubarr:function(t,e){return this.getSubArray(t,e?e+t:this.length)},subarr:function(t,e){return this.setSource(this.getSubarr(t,e))},getLeft:function(t){if(1>t)return this.save();if(t>this.length-1)return this.save();var e=this[t],n=this[t-1];return this.save().overwrite(e,t-1).overwrite(n,t)},left:function(t){return this.setSource(this.getLeft(t))},getRight:function(t){if(0>t)return this.save();if(t>this.length-2)return this.save();var e=this[t],n=this[t+1];return this.save().overwrite(e,t+1).overwrite(n,t)},right:function(t){return this.setSource(this.getRight(t))},getDrop:function(t){return t=t?t:0,this.getSubArray(t).getConcat(this.getSubarr(t+1))},drop:function(t){return this.setSource(this.getDrop(t))},getRemove:function(t){return this.getFilter(function(e){return e==t?!1:!0})},remove:function(t){return this.setSource(this.getRemove(t))},getUnique:function(){var t=new NFArray;return this.each(function(e){t.passAll(function(t){return e!=t})&&t.push(e)}),t},unique:function(){return this.setSource(this.getUnique())},has:function(t){return this.passAny(function(e){return e==t})},getOther:function(){var t=Array.prototype.slice.call(arguments);return this.getFilter(function(e){for(var n=0,r=t.length;r>n;n++)if(t[n]==e)return!1;return!0})},other:function(){return this.setSource(this.getOther.apply(this,Array.prototype.slice.apply(arguments)))},getType:function(t){return this.getFilter(function(e){return IS(e,t)})},type:function(t){return this.setSource(this.getType(t))},getEqual:function(t){return this.getFilter(function(e){return e==t?!0:!1})},equal:function(t){return this.setSource(this.getEqual(t))},getEqualClass:function(t){this.getFilter(function(e){return"object"!=typeof e&&"function"!=typeof e||e.constructor!=t?void 0:!0})},equalClass:function(t){return this.setSource(this.getEqualClass(t))},eq:function(t,e){return isNaN(e)&&(e=1),this.getSubarr(t,e)},indexOf:function(t){var e=-1;return this.each(function(n,r){return n==t?(e=r,!1):void 0}),e},lastIndexOf:function(t){var e=-1;return this.eachBack(function(n,r){return n==t?(e=r,!1):void 0}),e},firstMatch:function(t){var e;return this.each(function(n,r){return 1==t(n,r)?(e=n,!1):void 0}),e},lastMatch:function(t){var e;return this.eachBack(function(n,r){return 1==t(n,r)?(e=n,!1):void 0}),e},useFirst:function(){return this.firstMatch(function(t){return"undefined"!=typeof t?!0:void 0})},useLast:function(){return this.lastMatch(function(t){return"undefined"!=typeof t?!0:void 0})},isNothing:function(){return 0==this.length?!0:!1},isEnough:function(){return this.length>0?!0:!1},getStringFlatten:function(){return this.save().map(function(t){return"string"==typeof t?t.split(" "):ISARRAY(t)?new NFArray(t).flatten().type("string"):void 0}).remove(void 0).flatten()},stringFlatten:function(){return this.setSource(this.getStringFlatten())},getDeepFlatten:function(){function t(e){var n=new NFArray;return e.each(function(e){ISARRAY(e)?n.concat(t(new NFArray(e))):n.push(e)}),n}return t(this)},deepFlatten:function(){return this.setSource(this.getDeepFlatten())},getGrouping:function(t,e){var n=[];return 1==e?(this.save().reverse().turning(t,function(t,e,r){n[r]||(n[r]=[]),n[r].push(t)}),new NFArray(n).map(function(t){return new NFArray(t).reverse().toArray()}).reverse()):(this.turning(t,function(t,e,r){n[r]||(n[r]=[]),n[r].push(t)}),new NFArray(n))},grouping:function(t,e){return this.setSource(this.getGrouping(t,e))},getRandom:function(t){return new NFArray(DATARANDOM(this.toArray()))},getShuffle:function(){return new NFArray(DATASHUFFLE(this.toArray()))},join:function(t,e,n){return(ISTEXT(e)?e:"")+Array.prototype.join.call(this,t)+(ISTEXT(n)?n:"")},joint:function(t,e,n){return(ISTEXT(e)?e+(ISTEXT(t)?t:""):"")+Array.prototype.join.call(this,t)+(ISTEXT(n)?(ISTEXT(t)?t:"")+n:"")},keyPair:function(t,e){ISTEXT(t)||(t="key"),ISTEXT(e)||(e="value");var n={};return this.each(function(r){return("object"==typeof r||"function"==typeof r)&&t in r?(n[r[t]]=r[e],n):void 0}),n},continueTo:function(t){return t.apply(void 0,[this.toArray()].concat(Array.prototype.slice.call(arguments,1)))}}),nody.module("NFObject",{each:function(t){for(key in this.Source){var e=t(this.Source[key],key);if(0==typeof e)break}return this},getKeys:objectCommonInterface.getKeys,eachBack:function(t){for(var e=this.getKeys(),n=e.length-1;n>-1&&0!=t(e[n],n);n--);return this},zero:function(){for(var t in this.Source)return this.Source[t]},last:function(){var t=this.getKeys();return this.Source[t[t.length-1]]},push:function(t,e){if("string"==typeof e||"number"==typeof e)this.Source[e]=t;else{var n=0,r=!0;do n in this.Source?n++:(r=!1,this.Source[n]=t);while(r)}return this},setSource:function(t,e){if(t=TOOBJECT(t,e),"object"==typeof t){for(var n in this.Source)delete this.Source[n];for(var e in t)this.Source[e]=t[e]}return this},select:function(t){},max:function(){},min:function(){},count:function(){return PROPLENGTH(this.Source)},clone:function(){return CLONE(this.Source)},save:function(){return this.__GlobalConstructor__(CLONE(this.Source))},prop:function(t,e){if(ISTEXT(t)&&arguments.length>1)return this.Source[t]=e,this;if(ISTEXT(t))return this.Source[t];if("object"==typeof t){for(var n in key)this.prop(n,key[n]);return this}return this.Source},propAll:function(t){for(var e in this.Source)this.Source[e]=t;return this},propIs:function(t,e,n,r){return IS(this.Source[t],e,n,r)},propAs:function(t,e,n,r){return AS(this.Source[t],e,n,r)},has:function(t){return t in this.Source},hasValue:function(t){var e=!1;return this.each(function(n,r){return t==n?(e=!0,!1):void 0}),e;return key in this.Source},getMap:function(t,e){if("function"==typeof t){for(var n=CLONE(this.Source),r=this.getKeys(e),i=0,o=r.length;o>i;i++)n[r[i]]=t(this.Source[r[i]],r[i]);return n}return CLONE(this.Source)},map:function(){return this.setSource(this.getMap.apply(this,arguments))},inject:function(t,e,n){return"function"==typeof e?(this.getMap(function(n,r){var i=e(n,t,r);"undefined"!=typeof i&&(t=i)},n),t):void 0},data:function(t,e){if("function"!=typeof e&&"undefined"!=typeof e)throw new Error("NFObject::data 메서드는 setter가 아닙니다.");if("string"==typeof t)return"function"==typeof e?e(this.Source[t]):this.Source[t];if(t instanceof RegExp||ISARRAY(t)){var n=this.getKeys(rule),r={};for(var i in n)r[i]=n[i];return r}return this.Source},isSame:function(t){var e=this.Source,n=!0;return new NFObject(t).each(function(t,r){return r in e&&e[r]===t?void 0:(n=!1,!1)}),n},isEqual:function(t){var e=new NFObject(t),n=this.Source,r=e.get(),i=this.getKeys().sort(),o=e.getKeys().sort();if(i.length!==o.length)return!1;for(var a=0,s=i.length;s>a;a++){if(i[a]!==o[a])return!1;if(n[i[a]]!==r[o[a]])return!1}return!0},hashes:function(t,e){t="string"!=typeof t?"key":t,e="string"!=typeof e?"value":e;var n=[];for(var r in this.Source){var i={};i[t]=r,i[e]=this.Source[r],n.push(i)}return n},join:function(t,e){return t="string"==typeof t?t:":",e="string"==typeof e?e:",",this.inject([],function(e,n,r){n.push(r+t+TOSTRING(e))}).join(e)},getEncodeObject:function(t){return this.inject({},function(e,n,r){n[0==t?r:_NFString(r).getEncode()]=0==t?e:_NFString(e).getEncode()})},encodeObject:function(){return this.setSource(this.getEncodeObject.apply(this,arguments))},stringify:function(){return JSON.stringify(this.Source)},changeKey:function(t,e){return"string"==typeof t&&"string"==typeof e&&(this.Source[e]=this.Source[t],delete this.Source[t]),this.Source},getKvo:function(t,e){e="string"==typeof e?e:" ",t=t.split(e);var n=CLONE(this.Source),r=void 0;return new NFArray(t).turning(2,function(t,e){if(0==e)r=t;else if(1==e){if("undefined"!=typeof r)switch(t){case"''":case'""':case"'":case'"':n[r]="";break;default:n[r]=t}r=void 0}}),n},kvo:function(t){return this.setSource(this.getKvo.call(this,t))},removeAll:function(){for(var t in this.Source)delete this.Source[t];return this.Source},getRemove:function(){var t=this.Source;return new NFArray(arguments).stringFlatten().each(function(e){delete t[e]}),this.Source},remove:function(t){return delete this.Source[t],this},removeNothing:function(){for(var t in this.Source)ISNOTHING(this.Source[t])&&delete this.Source[t];return this},getTouch:function(t,e){var n=CLONE(this.Source);return new NFArray(t).stringFlatten().each(function(t){t in n||(n[t]=e)}),n},touch:function(t,e){return this.setSource(this.getTouch.apply(this,arguments))},keys:function(){var t=[];for(key in this.Source)t.push(key);return t},values:function(){var t=[];for(key in this.Source)t.push(this.Source[key]);return t},getValue:function(t){return this.Source[t]},getConcat:function(){for(var t=this.clone(),e=0,n=arguments.length;n>e;e++)new NFObject(arguments[e]).each(function(e,n){t[n]=e});return t},concat:function(){return this.setSource(this.getConcat.apply(this,arguments)),this},getSafeConcat:function(){for(var t=this.clone(),e=0,n=arguments.length;n>e;e++)new NFObject(arguments[e]).each(function(e,n){n in t==0&&(t[n]=e)});return t},safeConcat:function(){return this.setSource(this.getSafeConcat.apply(this,arguments)),this}},function(t,e,n){"string"==typeof n?(this.Source={},this[n].apply(this,new NFArray(arguments).subarr(0,2).toArray())):this.Source=TOOBJECT(t,e)}),W._Split=function(t,e){if(ISARRAY(t))return new NFArray(t);if("string"==typeof t){var n;return"string"==typeof e||"number"==typeof e?(e+="",n=t.split(e)):(n=[],t.replace(/\S+/gi,function(t){n.push(t)})),new NFArray(n)}return console.warn("_Split은 text나 array만 넣기를 추천합니다. => ",t),new NFArray(t)};var htmlSafeMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};nody.module("NFString",{getEncode:function(){return encodeURI(this.Source)},getDecode:function(){return decodeURI(this.Source)},encode:function(){return this.Source=this.getEncode(),this},decode:function(){return this.Source=this.getDecode(),this},getRaw:function(){new String(this.Source)},getHTMLSafe:function(){return new String(this.Source).replace(/[&<>"'\/]/g,function(t){return htmlSafeMap[t]})},getByteSize:function(){return unescape(escape(this.Source).replace(/%u..../g,function(t){return"uu"})).length},getLines:function(){return _Split(this.Source,"\n").toArray()},eachLine:function(t,e){return"function"==typeof t?new NFArray(this.getLines()).map(function(e,n){return t(e,n)}).compact().join(e?e:"\n"):void 0},getTabSize:function(){var t=/^([\s\t]*)(.*)/.exec(this.Source),e=t[1].replace(/[^\t]*/g,"").length,n=t[1].replace(/[^\s]*/g,"").length-e;return e+Math.floor(n/4)},getTabAbsolute:function(t,e){t=TONUMBER(t),arguments.length<2&&(e="	"),0>t&&(t=0);for(var n="",r=0;t>r;r++)n+=e;return n+/^([\s\t]*)(.*)/.exec(this.Source)[2]},getTabsOffset:function(t,e){return t=parseInt(t),"number"==typeof t?_Split(this.Source,"\n").map(function(n){return _NFString(n).getTabAbsolute(_NFString(n).getTabSize()+t,e)}).join("\n"):this.Source},getTabsSize:function(){var t;return this.eachLine(function(e){var n=_NFString(e).getTabSize();(void 0==t||t>n)&&(t=n)}),t},getTabsAlign:function(){var t,e=0;return this.eachLine(function(n){var r=_NFString(n).getTabSize();return void 0==t?(t=0,n):(r>t?e++:t>r&&e--,t=r,_NFString(n).getTabAbsolute(e))})},tabsAlign:function(){return this.Source=this.getTabsAlign(),this},getTrimLine:function(){return this.eachLine(function(t){var e=t.trim();return""==e?void 0:t})},trimLine:function(){return this.Source=this.getTrimLine(),this},trim:function(t,e){original=this.Source,e&&(original=this.Source.trim());var n=t?t:" ";return n=n.replace(" ","\\s"),TRYCATCH(function(){this.Source=new RegExp("^(["+n+"]*)(.*[^"+n.split("|").join("^")+"])(["+n+"]*)$").exec(original)[2]},function(){return this.Source},this)},abilityFunction:function(t,e,n){var r=1==n?OUTERSPLIT(this.Source,t,["{}","[]",'""',"''"]):this.Source.trim().split(t);return""==r[r.length-1].trim()&&(r.length=r.length-1),new NFArray(r).passAll(function(t,n){return t.indexOf(e)>0})?r.length:0},abilityObject:function(){return this.abilityFunction(",",":",!0)},abilityParameter:function(){return this.abilityFunction("&","=")},abilityCss:function(){return this.abilityFunction(";",":")},isDataContent:function(t){var e=this.abilityObject(),n=this.abilityCss(),r=this.abilityParameter();return ISWRAP(this.Source,"[]")?"array":1==t&&1==ISWRAP(this.Source,"''",'""')?"plain":1==t&&ISWRAP(this.Source,"{}")||e>0&&e>=n&&e>=r?"object":r>0?/^<\w+/i.test(this.Source)&&/\w+>$/i.test(this.Source)?"plain":"parameter":e>0?"css":"plain"},isDataContentFunction:function(t,e,n){return new NFArray(1==n?OUTERSPLIT(this.Source,t,["{}","[]",'""',"''"]):this.Source.trim().split(t)).inject({},function(t,r){var i=t.substr(t.indexOf(e)+1);return t.trim().length>0&&(r[UNWRAP(t.substr(0,t.indexOf(e)),['""',"''"])]=UNWRAP(1==n?_NFString(i).getDataContent(!0):i,['""',"''"])),r})},getDataContent:function(t){switch(this.isDataContent(t)){case"object":return this.isDataContentFunction(",",":",!0);break;case"parameter":return this.isDataContentFunction("&","=");break;case"css":return this.isDataContentFunction(";",":");break;case"array":var e=OUTERSPLIT(this.Source,",",["{}","[]",'""',"''"]);return""==e?[]:new NFArray(e).inject([],function(t,e){return e.push(UNWRAP(_NFString(t).getDataContent(!0),["''",'""'])),e});break;case"plain":return isNaN(this.Source)||""===this.Source?this.Source:parseFloat(this.Source)}},getJSON:function(){return JSON.stringify(this.getDataContent())},getReverse:function(){return this.Source.split("").reverse().join("")},reverse:function(){return this.Source=this.getReverse(),this},getPrintf:function(t){if("object"==typeof t){if(t instanceof RegExp){if(!t.test(this.Source))return console.warn("NFString::getPrintf::printf 할수 없습니다.",this.Source,t),this.Source;t=t.exec(this.Source)}for(var e="",n=1,r=arguments.length;r>n;n++)switch(typeof arguments[n]){case"object":("string"==typeof arguments[n][0]||"number"==typeof arguments[n][0])&&arguments[n][0]in t&&(e+=t[arguments[n][0]]);break;case"number":case"string":e+=arguments[n]}return e}if("string"==typeof t||"number"==typeof t){var n=-1,i=Array.prototype.slice.call(arguments);return this.Source.replace(/%@/gi,function(){return n++,"string"==typeof i[n]||"number"==typeof i[n]?i[n]+"":""})}return console.warn("getPrintf::파라메터가 존재하지거나 올바르지 않습니다.",arguments),this.Source+""},printf:function(){return this.Source=this.getPrintf.apply(this,arguments),this.Source},getRemove:function(t){var e=this.Source.indexOf(t);if(0>e)return this.Source;var n=t.length;return this.Source.substr(0,e)+this.Source.substr(e+n,this.Source.length)},remove:function(t){return this.Source=this.getRemove(t),this},getRemoveModel:function(t,e){e=e?e:" ";var n=this.Source.split(e),r=[];if(t instanceof RegExp)for(var i=0,o=n.length;o>i;i++)0==t.test(n[i])&&r.push(n[i]);else for(var i=0,o=n.length;o>i;i++)n[i]!==t&&r.push(n[i]);return r.join(e)},removeModel:function(t,e){return this.Source=this.getRemoveModel(t,e),this},hasModel:function(t,e){e=e?e:" ";for(var n=this.Source.split(e),r=0,i=n.length;i>r;r++)if(n[r]==t)return!0;return!1},getAddModel:function(t,e){return e=e?e:" ",this.hasModel(t,e)?this.Source:this.Source+e+t},addModel:function(t,e){return this.Source=this.getAddModel(t,e),this},getFix:function(t,e){return("string"==typeof t?t:"")+this.Source+("string"==typeof e?e:"")}},function(t,e){return this.Source="undefined"==typeof t||null==t?"":TOSTRING(t,10,e),this}),nody.extendModule("NFString","ZString",{getZContent:function(t){return ZSTRING.SEED(t).apply(void 0,[this.Source].concat(this.ZoneParams))},toArray:function(t,e){t="number"==typeof t?t:1;for(var n="number"==typeof e?e:0,r=[],i=n+t;i>n;n++)r.push(this.getZContent(n));return r}},function(t){this.ZoneParams=Array.prototype.slice.call(arguments),this._super(this.ZoneParams.shift())},function(t){return this.getZContent(t)}),nody.extendModule("NFString","NFNumber",{isNotANumber:function(){return new StringNumberInfo(this.Source).get("number").length?!0:!1},isANumber:function(){return!this.isNotANumber()},getNumberInfo:function(t){var e=new StringNumberInfo(this.Source);if(e.fixNumberInfo(),"number"==typeof t)switch(t){case 0:return e.get("prefix");break;case 2:return e.get("integer");break;case 3:return e.get("floatValue");break;case 4:return e.get("suffix");break;case 5:return e.get("number")}var e={prefix:e.get("prefix"),suffix:e.get("suffix"),integer:e.get("integer"),floatValue:e.get("floatValue"),number:e.get("number")};return"string"==typeof t?e.get(t):e},setNumberInfo:function(t,e){var n=this.getNumberInfo();switch(e){case 1:case"prefix":n.prefix=t;break;case 4:case"suffix":n.suffix=t;break;case 2:case"integer":n.integer=t;break;case 3:case"floatValue":n.floatValue=t;break;case 5:case"number":n.integer=t,n.floatValue=0}this.Source=n.prefix+(parseInt(n.integer)+parseFloat(n.floatValue))+n.suffix},getInteger:function(){return this.getNumberInfo(2)},getFloat:function(){return this.getNumberInfo(3)},getFloatNumber:function(){return this.getNumberInfo(3).replace(/^0\./,"")},getNumber:function(){return this.getNumberInfo(5)},getPrefix:function(){return this.getNumberInfo(1)},getSuffix:function(){return this.getNumberInfo(4)},integer:function(){return 1*this.getInteger()},floatNumber:function(){return 1*this.getFloatNumber()},floatValue:function(){return 1*this.getFloat()},number:function(){return 1*this.getNumber()},getTrunc:function(t){var e=this.number();return isNaN(t)?Math[e>0?"floor":"ceil"](e):Math[e>0?"floor":"ceil"](e*Math.pow(.1,parseInt(t)))*Math.pow(10,parseInt(t))},trunc:function(t){return this.setNumberInfo(this.getTrunc(t),5),this},less:function(t){return t==isNaN(t)?!1:this.isNotANumber()?!1:this.number()<parseFloat(t)},great:function(){return n==isNaN(n)?!1:this.isNotANumber()?!1:this.number()>parseFloat(n)},percentIn:function(t,e){var n=new NFNumber(t).number(),r=this.number(),i=0;return r>n?i=0:(i=(n-r)/n*100,i=isNaN(i)?0:i),"number"==typeof e?new NFNumber(i).getTrunc(e):i},expression:function(t,e){var n=new NFNumber(t),r=new NFNumber(e),i=0/0;switch(n.prefix()){case"+":i=this.number()+n.number();break;case"-":i=this.number()-n.number();break;case"x":case"*":i=this.number()*n.number();break;case"/":i=this.number()/n.number();break;case"%":i=this.number()%n.number();break;case"++":i=this.number()+1;break;case"--":i=this.number()-1;break;case".":i=this.number();break;case".x":case"?.":i=this.integer();break;case"x.":case".?":i=this.floatValue();break;case"?//":i=this.getSuffix();break;case"//?":i=this.getPrefix()}if("string"==typeof targetPoint){var o=/(\+\=|)([0-9]+)(\.[0-9]|)/.exec(targetPoint);"+="==o[1]&&(targetPoint=""==o[3]?parseInt(o[2])+this.currentValue[0]:parseFloat(o[2]+o[3])+this.currentValue[0])}return i},defaultTranslation:{0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},D:{pattern:/[a-zA-Z]/}},defaultOption:{},__Format:function(t,e,n){switch(typeof e){case"function":e=e(t);break;case"string":}"string"!=typeof e&&console.error("NFNumber::getFormat::첫번째 파라메터는 반드시 string이나 function으로 string이 꼭 되도록 해주세요.",typeof e,e),skipMaskChars=!1;var r=[],i=0,o=e.length,a=0,s=t.length,u=1,c="push",l=-1,h,f;for(n?(c="unshift",u=-1,h=0,i=o-1,a=s-1,f=function(){return i>-1&&a>-1}):(h=o-1,f=function(){return o>i&&s>a});f();){var d=e.charAt(i),p=t.charAt(a),g=this.defaultTranslation[d];g?(p.match(g.pattern)?(r[c](p),g.recursive&&(-1===l?l=i:i===h&&(i=l-u),h===l&&(i-=u)),i+=u):g.optional&&(i+=u,a-=u),a+=u):(skipMaskChars||r[c](d),p===d&&(a+=u),i+=u)}var v=e.charAt(h);return o!==s+1||this.defaultTranslation[v]||r.push(v),r.join("")},getNumberFormat:function(t,e){return 0==this.getNumber().indexOf("-")?"-"+this.__Format(this.getNumber().substr(1),t,e):this.__Format(this.getNumber(),t,e)},numberFormat:function(){return this.Source=this.getFormat.apply(this,arguments),this},getNumberText:function(t){return this.Source.replace(/\D/gi,"")},getNumberTextFormat:function(t,e){return this.__Format(this.getNumberText(),t,e)},numberTextFormat:function(){return this.Source=this.getFormat.apply(this,arguments),this},getPhoneNumber:function(){return this.getNumberTextFormat(function(t){return 1==/^02/.test(t)?t.length<10?"(00)000-00000":"(00)0000-0000":1==/^1/.test(t)?"0000-0000":t.length<11?"(000)000-00000":"(000)0000-0000"})},getDecimal:function(t,e){return _NFString(this.getNumberFormat("#,##0",!0)).getFix(t,e)},getPercentOf:function(t,e){return t=TONUMBER(t),e=TONUMBER(e),(this.number()-e)/(t-e)*100},getPointOf:function(t){return t?t:0/this.integer()*100},getLengthOf:function(t){return this.integer()*t?t:0},getGCD:function(t){function e(t,n){if(0==n)return t;var r=t%n;return e(n,r)}return e(this.integer(),t)},getGroupsCount:function(t,e){return"undefined"==typeof e?Math.ceil(this.integer()/t):Math.floor(e/t)},getTurning:function(t){var e=this.integer();if(0>t){var n=Math.abs(t);t=e-(n>e?n%e:n)}return e>t?t:t%e()},getTurningInfo:function(t){return{turning:this.getTurning(t),group:Math.floor(t/this.Source)}}});var util_unique_random_key=[];nody.singleton("NFUtil",{encodeString:function(t){return TOSTRING(t,99,!0)},decodeString:function(v){if("string"==typeof v){return'"'==v.charAt(0)&&'"'==v.charAt(v.length-1)?v.substr(1,v.length-2):eval("("+v+")");throw console.error("decodeString::디코딩실패 ->",v,"<-"),e}return v},base64Token:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",base64Random:function(t,e,n){t=isNaN(t)?1:parseInt(t),e=isNaN(e)?0:parseInt(e),n=isNaN(n)?64-e:parseInt(n);for(var r="",i=0,o=t;o>i;i++)r+=this.base64Token.charAt(e+parseInt(Math.random()*n));return r},base64UniqueRandom:function(t,e,n,r){var i,o=0;e="string"==typeof e?e:"";do{var a=!1;i=e+this.base64Random(t,n,r),DATAEACH(util_unique_random_key,function(t){return t==i&&(a=!0),!1}),o++,o>100&&(console.log("base64UniqueRandom 1000회 이상 랜덤을 생성하였지만 unique 값을 구할수 없었습니다"),a=!1,i=void 0)}while(a);return i&&util_unique_random_key.push(i),i},base62Random:function(t){return this.base64Random(t,0,62)},base62UniqueRandom:function(t,e){return this.base64UniqueRandom(t||6,e,0,62)},random:function(t){return parseInt(this.base64Random(t,52,10))},numberRandom:function(t){return this.base64Random(t,52,10)},base36Random:function(t){return this.base64Random(t,26,36)},base36UniqueRandom:function(t,e){return this.base64UniqueRandom(t||6,e,26,36)},base26Random:function(t){return this.base64Random(t,0,52)},base26UniqueRandom:function(t,e){return this.base64UniqueRandom(t||6,e,0,52)}}),nody.singleton("NFClient",{agent:function(t){return"string"==typeof t?(navigator.userAgent||navigator.vendor||window.opera).toLowerCase().indexOf(t.toLowerCase())>-1:navigator.userAgent||navigator.vendor||window.opera},info:nody.env,width:function(){return window.innerWidth||document.documentElement.clientWidth||document.getElementsByTagName("body")[0].clientWidth},height:function(){return window.innerHeight||document.documentElement.clientHeight||document.getElementsByTagName("body")[0].clientHeight},bound:function(){return{width:this.width(),height:this.height()}},url:function(){return window.document.URL.toString()},urlInfo:function(t){return nody.url.info()},root:function(t,e){return nody.url.root()},protocol:function(t){var e=this.urlInfo(t);return e.protocol},uri:function(t){var e=this.urlInfo(t);return e.path},filename:function(t){var e=this.urlInfo(t);return e.filename},filepath:function(t,e){var n=this.urlInfo(t),r=n.protocol+n.divider+n.hostname+(""!=n.port?":"+n.port:n.port);return r+n.path.replace(/\/[^\/]+$/,"")+(0==e?"":"/")},getAbsolutePath:function(t,e){if(ISNOTHING(t))return this.url();if(ISTEXT(t)&&null==this.urlInfo(t)){if(t=t.trim(),0==t.indexOf("./")&&(t=t.substr(2)),0==t.indexOf("/"))return this.root(void 0,!1)+t;for(var n=0,r=this.filepath(e),i=t.replace(/\.\.\//gi,function(t){return n++,""}),o=0;n>o;o++)r=r.replace(/[^\/]+\/$/,"");return r+i}return t},query:function(t){var e=this.urlInfo(t);return e.query},fragment:function(t){var e=this.urlInfo(t);return e.fragment},queryData:function(t){var e=this.urlInfo(t);return TOOBJECT(e.query)},scriptUrl:function(){var t=nody.url.script();return function(){return t}}(),scriptInfo:function(t){return this.urlInfo(t?t:this.scriptUrl())},scriptName:function(t){return this.scriptInfo(t).filename
},scriptPath:function(t){return this.scriptInfo(t).path},scriptRoot:function(t){return/(.*\/|\/|)[^\/]*$/.exec(this.scriptInfo(t).path)[1]},setCookie:function(t,e,n,r){document.cookie=t+"="+escape(e)+(void 0==n?"":"; expires="+n.toGMTString())+";path="+("undefined"==typeof r?"/":escape(r))},getCookie:function(t,e){var n=t+"=";if(document.cookie.length>0){var r=document.cookie.indexOf(n);if(-1!=r){r+=n.length;var i=document.cookie.indexOf(";",r);return-1==i&&(i=document.cookie.length),unescape(document.cookie.substring(r,i))}}return null},usingCookie:function(t){return this.getCookie(t)?!0:!1},touchCookie:function(t,e,n){if(!this.getCookie(t)){n||(n="true"),e||(e=576e5);var r=new Date,i=new Date;return i.setTime(r.getTime()+e),setCookie(t,n,i),!0}return!1},removeCookie:function(t,e){e=";path="+("undefined"==typeof e?"/":escape(e)),document.cookie=t+"="+e+";expires=Thu, 01 Jan 1970 00:00:01 GMT"},setLocalData:function(t,e){if(!this.agent("adobeair"))return this.setCookie(t,NFUtil.encodeString(e));var n=new air.ByteArray;n.writeUTFBytes(NFUtil.encodeString(e)),air.EncryptedLocalStore.setItem(t,n)},isEventSupport:function(t,e){var n="object"==typeof e?e:document.createElement("string"==typeof e?e:"div"),r=t in n;return!r&&"setAttribute"in n?(n.setAttribute(t,"return;"),"function"==typeof n[t]):r},getLocalData:function(t){if(this.agent("adobeair")){var e=air.EncryptedLocalStore.getItem(t);return null==e?void 0:NFUtil.decodeString(e.readUTFBytes(e.bytesAvailable))}return NFUtil.decodeString(this.getCookie(t))},usingLocalData:function(t){return this.agent("adobeair")?air.EncryptedLocalStore.getItem(t)?!0:!1:this.usingCookie(t)},touchLocalData:function(t,e){return this.agent("adobeair")?void(this.usingLocalData||this.setLocalData(t,e)):this.touchCookie(t,e)},removeLocalData:function(t){return this.agent("adobeair")?void air.EncryptedLocalStore.removeItem(t):this.removeCookie(t)},isLocalHTML:function(){return location.href.indexOf(!1)||location.href.indexOf(!1)?!0:!1},include:function(t){return nody.include(t)},setClipboard:function(t){if(window.clipboardData&&clipboardData.setData)clipboardData.setData("Text",t);else{user_pref("signed.applets.codebase_principal_support",!0),netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");var e=Components.classes["@mozilla.org/widget/clipboard;[[[[1]]]]"].createInstance(Components.interfaces.nsIClipboard);if(!e)return;var n=Components.classes["@mozilla.org/widget/transferable;[[[[1]]]]"].createInstance(Components.interfaces.nsITransferable);if(!n)return;n.addDataFlavor("text/unicode");var r=new Object,i=new Object,r=Components.classes["@mozilla.org/supports-string;[[[[1]]]]"].createInstance(Components.interfaces.nsISupportsString),o=meintext;r.data=o,n.setTransferData("text/unicode",r,o.length*[[[[2]]]]);var a=Components.interfaces.nsIClipboard;if(!e)return!1;e.setData(n,null,a.kGlobalClipboard)}},getNodePoint:function(t){for(var e=0,n=0;null!=t;e+=t.offsetLeft,n+=t.offsetTop,t=t.offsetParent);return{x:e,y:n}},getCursorPoint:function(t){t=t||window.event;var e={x:0,y:0};return t.touches&&t.touches[0]?(e.x=t.touches[0].pageX,e.y=t.touches[0].pageY):t.pageX||t.pageY?(e.x=t.pageX,e.y=t.pageY):(e.x=t.clientX+(document.documentElement.scrollLeft||document.body.scrollLeft)-document.documentElement.clientLeft,e.y=t.clientY+(document.documentElement.scrollTop||document.body.scrollTop)-document.documentElement.clientTop),e},getWindowsVersion:function(){return-1===navigator.appVersion.indexOf("MSIE")?-1:parseInt(/MSIE\s([0-9]+)/.exec(navigator.appVersion)[1])},getNTVersion:function(){var t=navigator.appVersion,e=-1;if(-1!=t.indexOf("NT"))try{return parseInt(/NT\s([0-9]+)/.exec(t)[1])}catch(n){return 4}return-1!=t.indexOf("9x 4.90")?0:-1!=t.indexOf("98")?0:-1!=t.indexOf("95")?0:-1!=t.indexOf("Win16")?0:-1!=t.indexOf("Windows")?0:-1},getIEVersion:function(){return-1===navigator.appVersion.indexOf("MSIE")?-1:parseInt(/MSIE\s([0-9]+)/.exec(navigator.appVersion)[1])},getFlashVersion:function(){try{try{var t=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");try{t.AllowScriptAccess="always"}catch(e){return"6,0,0"}}catch(e){}return new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(e){try{if(navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin)return(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(e){}}return"0,0,0"},getMajorFlashVersion:function(){return parseInt(this.getFlashVersion().split(",")[0])}}),W.ManagedUIDObjectData=[],nody.singleton("NFUID",{get:function(t){if("object"==typeof t||"function"==typeof t){for(var e=0,n=W.ManagedUIDObjectData.length;n>e;e++)if(W.ManagedUIDObjectData[e]==t)return e;return W.ManagedUIDObjectData.push(t),W.ManagedUIDObjectData.length-1}},getObject:function(t){return W.ManagedUIDObjectData[t]},destroy:function(t){switch(typeof t){case"object":for(var e=0,n=W.ManagedUIDObjectData.length;n>e;e++)if(W.ManagedUIDObjectData[e]==t)return W.ManagedUIDObjectData[e]=void 0,e;break;case"number":if(t=parseInt(t),"undefined"!=typeof W.ManagedUIDObjectData[t])return W.ManagedUIDObjectData[t]=void 0,t}}}),W.ManagedMetaObjectData=[],nody.module("NFMeta",{isValid:function(){return 0==this.Source?!1:!0},data:function(t){return this.isValid()?W.ManagedMetaObjectData[this.Source]:void 0},getOwner:function(){return this.isValid()?NFUID.getObject(this.Source):void 0},getProp:function(t){return"string"==typeof t||"number"==typeof t?W.ManagedMetaObjectData[this.Source][t]:void 0},getProps:function(t){var e=new RegExp(t),n=[];for(key in W.ManagedMetaObjectData[this.Source])key.match(e)&&n.push(W.ManagedMetaObjectData[this.Source][key]);return n},setProp:function(t,e){return("string"==typeof t||"number"==typeof t)&&(W.ManagedMetaObjectData[this.Source][t]=e),this},hasProp:function(t){return"string"==typeof t||"number"==typeof t?t in W.ManagedMetaObjectData[this.Source]:!1},removeProp:function(t){return this.hasProp(t)&&delete W.ManagedMetaObjectData[this.Source][t],this},keyChange:function(t,e){var n=this,r=new NFArray(t),i=new NFArray(e);if(r.length==i.length){var o=r.getMap(function(t){return n.getProp(t)});r.each(function(t){n.removeProp(t)}),i.each(function(t,e){n.setProp(t,o[e])})}else console.warn("NFMeta::keyChange는 이전값과 바꿀값의 길이가 같아야합니다.")},keySort:function(){var t=W.ManagedMetaObjectData[this.Source],e={},n=[];for(var r in t)n.push(r);n.sort(),DATAEACH(n,function(n){e[n]=t[n]}),W.ManagedMetaObjectData[this.Source]=e},destroy:function(){return this.isValid()?(W.ManagedMetaObjectData[this.Source]=void 0,NFUID.destroy(this.Source),!0):!1},lastProp:function(t){var e=this.getProp(t);return this.destroy(),e},lastData:function(){var t=this.data();return this.destroy(),t},destroyTimeout:function(t){var e=this;setTimeout(function(){e.destroy()},TONUMBER(t))}},function(t,e){"object"==typeof t||"function"==typeof t?(this.Source=NFUID.get(t),this.Source in W.ManagedMetaObjectData||("object"==typeof e?W.ManagedMetaObjectData[this.Source]=CLONE(e):"undefined"==typeof e?W.ManagedMetaObjectData[this.Source]={}:(console.warn("NFMeta::init::Meta의 셋팅할 property값은 Object만 가능합니다. => ",t,e),W.ManagedMetaObjectData[this.Source]={}))):(console.error("NFMeta::init::Meta는 Object나 function만 가능합니다. => ",t,e),this.Source=!1)}),_NFMeta.trace=function(){for(var t=["TRACE MetaData"],e=0,n=W.ManagedUIDObjectData.length;n>e;e++){var r=MAX(TOSTRING(W.ManagedUIDObjectData[e]),40)+"  =>  ",i=0;PROPEACH(W.ManagedMetaObjectData[e],function(t,e){r+="\n    ",r+=e,r+=" : ",r+=MAX(TOSTRING(t),40),i++}),r+="\n    [",r+=i,r+="] length",t.push(r)}return t.join("\n")}}(window),Array.prototype.forEach||(Array.prototype.forEach=function(t,e){var n,r;if(null==this)throw new TypeError(" this is null or not defined");var i=Object(this),o=i.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(arguments.length>1&&(n=e),r=0;o>r;){var a;r in i&&(a=i[r],t.call(n,a,r,i)),r++}}),!function(t){function e(t,e,n,r){var i,o,a,s,u,c,h,d,p,g;if((e?e.ownerDocument||e:Y)!==R&&O(e),e=e||R,n=n||[],s=e.nodeType,"string"!=typeof t||!t||1!==s&&9!==s&&11!==s)return n;if(!r&&P){if(11!==s&&(i=$.exec(t)))if(a=i[1]){if(9===s){if(o=e.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(a))&&U(e,o)&&o.id===a)return n.push(o),n}else{if(i[2])return J.apply(n,e.getElementsByTagName(t)),n;if((a=i[3])&&N.getElementsByClassName)return J.apply(n,e.getElementsByClassName(a)),n}if(!(!N.qsa||V[t+" "]||x&&x.test(t))){if(d=h=H,p=e,g=1!==s&&t,1===s&&"object"!==e.nodeName.toLowerCase()){for(c=C(t),(h=e.getAttribute("id"))?d=h.replace(Se,"\\$&"):e.setAttribute("id",d),d="[id='"+d+"'] ",u=c.length;u--;)c[u]=d+f(c[u]);p=Ae.test(t)&&l(e.parentNode)||e,g=c.join(",")}if(g)try{return J.apply(n,p.querySelectorAll(g)),n}catch(v){}finally{h||e.removeAttribute("id")}}}return D(t.replace(ue,"$1"),e,n,r)}function n(){function t(n,r){return e.push(n+" ")>m.cacheLength&&delete t[e.shift()],t[n+" "]=r}var e=[];return t}function r(t){return t[H]=!0,t}function i(t){var e=R.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),r=t.length;r--;)m.attrHandle[n[r]]=e}function a(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||K)-(~t.sourceIndex||K);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function s(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function u(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function c(t){return r(function(e){return e=+e,r(function(n,r){for(var i,o=t([],n.length,e),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function l(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function h(){}function f(t){for(var e=0,n=t.length,r="";n>e;e++)r+=t[e].value;return r}function d(t,e,n){var r=e.dir,i=n&&"parentNode"===r,o=B++;return e.first?function(e,n,o){for(;e=e[r];)if(1===e.nodeType||i)return t(e,n,o)}:function(e,n,a){var s,u,c=[G,o];if(a){for(;e=e[r];)if((1===e.nodeType||i)&&t(e,n,a))return!0}else for(;e=e[r];)if(1===e.nodeType||i){if(u=e[H]||(e[H]={}),(s=u[r])&&s[0]===G&&s[1]===o)return c[2]=s[2];if(u[r]=c,c[2]=t(e,n,a))return!0}}}function p(t){return t.length>1?function(e,n,r){for(var i=t.length;i--;)if(!t[i](e,n,r))return!1;return!0}:t[0]}function g(t,n,r){for(var i=0,o=n.length;o>i;i++)e(t,n[i],r);return r}function v(t,e,n,r,i){for(var o,a=[],s=0,u=t.length,c=null!=e;u>s;s++)(o=t[s])&&(!n||n(o,r,i))&&(a.push(o),c&&e.push(s));return a}function E(t,e,n,i,o,a){return i&&!i[H]&&(i=E(i)),o&&!o[H]&&(o=E(o,a)),r(function(r,a,s,u){var c,l,h,f=[],d=[],p=a.length,E=r||g(e||"*",s.nodeType?[s]:s,[]),A=!t||!r&&e?E:v(E,f,t,s,u),S=n?o||(r?t:p||i)?[]:a:A;if(n&&n(A,S,s,u),i)for(c=v(S,d),i(c,[],s,u),l=c.length;l--;)(h=c[l])&&(S[d[l]]=!(A[d[l]]=h));if(r){if(o||t){if(o){for(c=[],l=S.length;l--;)(h=S[l])&&c.push(A[l]=h);o(null,S=[],c,u)}for(l=S.length;l--;)(h=S[l])&&(c=o?ee(r,h):f[l])>-1&&(r[c]=!(a[c]=h))}}else S=v(S===a?S.splice(p,S.length):S),o?o(null,a,S,u):J.apply(a,S)})}function A(t){for(var e,n,r,i=t.length,o=m.relative[t[0].type],a=o||m.relative[" "],s=o?1:0,u=d(function(t){return t===e},a,!0),c=d(function(t){return ee(e,t)>-1},a,!0),l=[function(t,n,r){var i=!o&&(r||n!==b)||((e=n).nodeType?u(t,n,r):c(t,n,r));return e=null,i}];i>s;s++)if(n=m.relative[t[s].type])l=[d(p(l),n)];else{if(n=m.filter[t[s].type].apply(null,t[s].matches),n[H]){for(r=++s;i>r&&!m.relative[t[r].type];r++);return E(s>1&&p(l),s>1&&f(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(ue,"$1"),n,r>s&&A(t.slice(s,r)),i>r&&A(t=t.slice(r)),i>r&&f(t))}l.push(n)}return p(l)}function S(t,n){var i=n.length>0,o=t.length>0,a=function(r,a,s,u,c){var l,h,f,d=0,p="0",g=r&&[],E=[],A=b,S=r||o&&m.find.TAG("*",c),y=G+=null==A?1:Math.random()||.1,N=S.length;for(c&&(b=a!==R&&a);p!==N&&null!=(l=S[p]);p++){if(o&&l){for(h=0;f=t[h++];)if(f(l,a,s)){u.push(l);break}c&&(G=y)}i&&((l=!f&&l)&&d--,r&&g.push(l))}if(d+=p,i&&p!==d){for(h=0;f=n[h++];)f(g,E,a,s);if(r){if(d>0)for(;p--;)g[p]||E[p]||(E[p]=z.call(u));E=v(E)}J.apply(u,E),c&&!r&&E.length>0&&d+n.length>1&&e.uniqueSort(u)}return c&&(G=y,b=A),g};return i?r(a):a}var y,N,m,T,L,C,I,D,b,w,F,O,R,M,P,x,_,k,U,H="sizzle"+1*new Date,Y=t.document,G=0,B=0,j=n(),W=n(),V=n(),X=function(t,e){return t===e&&(F=!0),0},K=1<<31,q={}.hasOwnProperty,Z=[],z=Z.pop,Q=Z.push,J=Z.push,te=Z.slice,ee=function(t,e){for(var n=0,r=t.length;r>n;n++)if(t[n]===e)return n;return-1},ne="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",re="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",oe="\\["+re+"*("+ie+")(?:"+re+"*([*^$|!~]?=)"+re+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+re+"*\\]",ae=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",se=new RegExp(re+"+","g"),ue=new RegExp("^"+re+"+|((?:^|[^\\\\])(?:\\\\.)*)"+re+"+$","g"),ce=new RegExp("^"+re+"*,"+re+"*"),le=new RegExp("^"+re+"*([>+~]|"+re+")"+re+"*"),he=new RegExp("="+re+"*([^\\]'\"]*?)"+re+"*\\]","g"),fe=new RegExp(ae),de=new RegExp("^"+ie+"$"),pe={ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie+"|[*])"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+re+"*(even|odd|(([+-]|)(\\d*)n|)"+re+"*(?:([+-]|)"+re+"*(\\d+)|))"+re+"*\\)|)","i"),bool:new RegExp("^(?:"+ne+")$","i"),needsContext:new RegExp("^"+re+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+re+"*((?:-\\d)?\\d*)"+re+"*\\)|)(?=[^-]|$)","i")},ge=/^(?:input|select|textarea|button)$/i,ve=/^h\d$/i,Ee=/^[^{]+\{\s*\[native \w/,$=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ae=/[+~]/,Se=/'|\\/g,ye=new RegExp("\\\\([\\da-f]{1,6}"+re+"?|("+re+")|.)","ig"),Ne=function(t,e,n){var r="0x"+e-65536;return r!==r||n?e:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},me=function(){O()};try{J.apply(Z=te.call(Y.childNodes),Y.childNodes),Z[Y.childNodes.length].nodeType}catch(Te){J={apply:Z.length?function(t,e){Q.apply(t,te.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}N=e.support={},e.expando=H,L=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},O=e.setDocument=function(t){var e,n,r=t?t.ownerDocument||t:Y;return r!==R&&9===r.nodeType&&r.documentElement?(R=r,M=r.documentElement,n=r.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",me,!1):n.attachEvent&&n.attachEvent("onunload",me)),P=!L(r),N.attributes=i(function(t){return t.className="i",!t.getAttribute("className")}),N.getElementsByTagName=i(function(t){return t.appendChild(r.createComment("")),!t.getElementsByTagName("*").length}),N.getElementsByClassName=Ee.test(r.getElementsByClassName),N.getById=i(function(t){return M.appendChild(t).id=H,!r.getElementsByName||!r.getElementsByName(H).length}),N.getById?(m.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&P){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},m.filter.ID=function(t){var e=t.replace(ye,Ne);return function(t){return t.getAttribute("id")===e}}):(delete m.find.ID,m.filter.ID=function(t){var e=t.replace(ye,Ne);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),m.find.TAG=N.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):N.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,r=[],i=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},m.find.CLASS=N.getElementsByClassName&&function(t,e){return P?e.getElementsByClassName(t):void 0},_=[],x=[],(N.qsa=Ee.test(r.querySelectorAll))&&(i(function(t){M.appendChild(t).innerHTML="<a id='"+H+"'></a><select id='"+H+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&x.push("[*^$]="+re+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||x.push("\\["+re+"*(?:value|"+ne+")"),t.querySelectorAll("[id~="+H+"-]").length||x.push("~="),t.querySelectorAll(":checked").length||x.push(":checked"),t.querySelectorAll("a#"+H+"+*").length||x.push(".#.+[+~]")}),i(function(t){var e=r.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&x.push("name"+re+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||x.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),x.push(",.*:")})),(N.matchesSelector=Ee.test(k=M.matches||M.webkitMatchesSelector||M.mozMatchesSelector||M.oMatchesSelector||M.msMatchesSelector))&&i(function(t){N.disconnectedMatch=k.call(t,"div"),k.call(t,"[s!='']:x"),_.push("!=",ae)}),x=x.length&&new RegExp(x.join("|")),_=_.length&&new RegExp(_.join("|")),e=Ee.test(M.compareDocumentPosition),U=e||Ee.test(M.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},X=e?function(t,e){if(t===e)return F=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!N.sortDetached&&e.compareDocumentPosition(t)===n?t===r||t.ownerDocument===Y&&U(Y,t)?-1:e===r||e.ownerDocument===Y&&U(Y,e)?1:w?ee(w,t)-ee(w,e):0:4&n?-1:1)}:function(t,e){if(t===e)return F=!0,0;var n,i=0,o=t.parentNode,s=e.parentNode,u=[t],c=[e];if(!o||!s)return t===r?-1:e===r?1:o?-1:s?1:w?ee(w,t)-ee(w,e):0;if(o===s)return a(t,e);for(n=t;n=n.parentNode;)u.unshift(n);for(n=e;n=n.parentNode;)c.unshift(n);for(;u[i]===c[i];)i++;return i?a(u[i],c[i]):u[i]===Y?-1:c[i]===Y?1:0},r):R},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==R&&O(t),n=n.replace(he,"='$1']"),!(!N.matchesSelector||!P||V[n+" "]||_&&_.test(n)||x&&x.test(n)))try{var r=k.call(t,n);if(r||N.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(i){}return e(n,R,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==R&&O(t),U(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==R&&O(t);var n=m.attrHandle[e.toLowerCase()],r=n&&q.call(m.attrHandle,e.toLowerCase())?n(t,e,!P):void 0;return void 0!==r?r:N.attributes||!P?t.getAttribute(e):(r=t.getAttributeNode(e))&&r.specified?r.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],r=0,i=0;if(F=!N.detectDuplicates,w=!N.sortStable&&t.slice(0),t.sort(X),F){for(;e=t[i++];)e===t[i]&&(r=n.push(i));for(;r--;)t.splice(n[r],1)}return w=null,t},T=e.getText=function(t){var e,n="",r=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=T(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[r++];)n+=T(e);return n},m=e.selectors={cacheLength:50,createPseudo:r,match:pe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(ye,Ne),t[3]=(t[3]||t[4]||t[5]||"").replace(ye,Ne),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return pe.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&fe.test(n)&&(e=C(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(ye,Ne).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=j[t+" "];return e||(e=new RegExp("(^|"+re+")"+t+"("+re+"|$)"))&&j(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,r){return function(i){var o=e.attr(i,t);return null==o?"!="===n:n?(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(se," ")+" ").indexOf(r)>-1:"|="===n?o===r||o.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(t,e,n,r,i){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===r&&0===i?function(t){return!!t.parentNode}:function(e,n,u){var c,l,h,f,d,p,g=o!==a?"nextSibling":"previousSibling",v=e.parentNode,E=s&&e.nodeName.toLowerCase(),A=!u&&!s;if(v){if(o){for(;g;){for(h=e;h=h[g];)if(s?h.nodeName.toLowerCase()===E:1===h.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[a?v.firstChild:v.lastChild],a&&A){for(l=v[H]||(v[H]={}),c=l[t]||[],d=c[0]===G&&c[1],f=c[0]===G&&c[2],h=d&&v.childNodes[d];h=++d&&h&&h[g]||(f=d=0)||p.pop();)if(1===h.nodeType&&++f&&h===e){l[t]=[G,d,f];break}}else if(A&&(c=(e[H]||(e[H]={}))[t])&&c[0]===G)f=c[1];else for(;(h=++d&&h&&h[g]||(f=d=0)||p.pop())&&((s?h.nodeName.toLowerCase()!==E:1!==h.nodeType)||!++f||(A&&((h[H]||(h[H]={}))[t]=[G,f]),h!==e)););return f-=i,f===r||f%r===0&&f/r>=0}}},PSEUDO:function(t,n){var i,o=m.pseudos[t]||m.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[H]?o(n):o.length>1?(i=[t,t,"",n],m.setFilters.hasOwnProperty(t.toLowerCase())?r(function(t,e){for(var r,i=o(t,n),a=i.length;a--;)r=ee(t,i[a]),t[r]=!(e[r]=i[a])}):function(t){return o(t,0,i)}):o}},pseudos:{not:r(function(t){var e=[],n=[],i=I(t.replace(ue,"$1"));return i[H]?r(function(t,e,n,r){for(var o,a=i(t,null,r,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))}):function(t,r,o){return e[0]=t,i(e,null,o,n),e[0]=null,!n.pop()}}),has:r(function(t){return function(n){return e(t,n).length>0}}),contains:r(function(t){return t=t.replace(ye,Ne),function(e){return(e.textContent||e.innerText||T(e)).indexOf(t)>-1}}),lang:r(function(t){return de.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(ye,Ne).toLowerCase(),function(e){var n;do if(n=P?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===M},focus:function(t){return t===R.activeElement&&(!R.hasFocus||R.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!m.pseudos.empty(t)},header:function(t){return ve.test(t.nodeName)},input:function(t){return ge.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:c(function(){return[0]}),last:c(function(t,e){return[e-1]}),eq:c(function(t,e,n){return[0>n?n+e:n]}),even:c(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:c(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:c(function(t,e,n){for(var r=0>n?n+e:n;--r>=0;)t.push(r);return t}),gt:c(function(t,e,n){for(var r=0>n?n+e:n;++r<e;)t.push(r);return t})}},m.pseudos.nth=m.pseudos.eq;for(y in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})m.pseudos[y]=s(y);for(y in{submit:!0,reset:!0})m.pseudos[y]=u(y);h.prototype=m.filters=m.pseudos,m.setFilters=new h,C=e.tokenize=function(t,n){var r,i,o,a,s,u,c,l=W[t+" "];if(l)return n?0:l.slice(0);for(s=t,u=[],c=m.preFilter;s;){(!r||(i=ce.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),r=!1,(i=le.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(ue," ")}),s=s.slice(r.length));for(a in m.filter)!(i=pe[a].exec(s))||c[a]&&!(i=c[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?e.error(t):W(t,u).slice(0)},I=e.compile=function(t,e){var n,r=[],i=[],o=V[t+" "];if(!o){for(e||(e=C(t)),n=e.length;n--;)o=A(e[n]),o[H]?r.push(o):i.push(o);o=V(t,S(i,r)),o.selector=t}return o},D=e.select=function(t,e,n,r){var i,o,a,s,u,c="function"==typeof t&&t,h=!r&&C(t=c.selector||t);if(n=n||[],1===h.length){if(o=h[0]=h[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&N.getById&&9===e.nodeType&&P&&m.relative[o[1].type]){if(e=(m.find.ID(a.matches[0].replace(ye,Ne),e)||[])[0],!e)return n;c&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(i=pe.needsContext.test(t)?0:o.length;i--&&(a=o[i],!m.relative[s=a.type]);)if((u=m.find[s])&&(r=u(a.matches[0].replace(ye,Ne),Ae.test(o[0].type)&&l(e.parentNode)||e))){if(o.splice(i,1),t=r.length&&f(o),!t)return J.apply(n,r),n;break}}return(c||I(t,h))(r,e,!P,n,Ae.test(t)&&l(e.parentNode)||e),n},N.sortStable=H.split("").sort(X).join("")===H,N.detectDuplicates=!!F,O(),N.sortDetached=i(function(t){return 1&t.compareDocumentPosition(R.createElement("div"))}),i(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),N.attributes&&i(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),i(function(t){return null==t.getAttribute("disabled")})||o(ne,function(t,e,n){var r;return n?void 0:t[e]===!0?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null}),"function"==typeof define&&define.amd?define(function(){return e}):"undefined"!=typeof module&&module.exports?module.exports=e:t.Sizzle=e}(window),function(e,n){var r=new RegExp("("+["\\:[^\\:]+","^[\\w\\-TA_]+","\\[[\\w\\-\\_]+\\]|\\[\\'[\\w\\-\\_]+\\'\\]|\\[\\\"[\\w\\-\\_]+\\\"\\]","\\[[\\w\\-\\_]+\\=[^\\]]+\\]|\\[\\'[\\w\\-\\_]+\\'\\=\\'[^\\]]+\\'\\]|\\[\\\"[\\w\\-\\_]+\\\"\\=\\\"[^\\]]+\\\"\\]","\\#[\\w\\-\\_]+","\\.[\\w\\-\\_]+","\\?[\\w\\-\\_]+","\\![\\w\\-\\_]+","::.*$"].join("|")+")","gi");nody.singleton("ELUT",{SELECTINFO:function(t,e){t="string"!=typeof t?"":t;var n=nody.cache.get("SELECTINFO",t);if(n)n=CLONEOBJECT(n);else{var n={},i=[],o=t;o=o.replace(r,function(t){return t&&i.push(t),""});for(var a=i.concat(OUTERSPLIT(o,":","()",!0)),s=0,u=a.length;u>s;s++){var c=/(.?)((.?).*)/.exec(a[s]);switch(c[1]){case"#":n.id||(n.id=c[2]);break;case".":n["class"]?(n["class"]+=" ",n["class"]+=c[2]):n["class"]=c[2];break;case":":if(":"==c[3])n["::"]=c[0].substr(2);else{n[":"]||(n[":"]={});var l=/(:([\w\-\_]+))(\((.*)\)$|)/.exec(c[0]);switch(l[1]){case":disabled":case":readonly":case":checked":n[":"][l[2]]=!0;break;case":nth-child":n[":"][l[2]]=void 0===l[4]?null:l[4].match(/^(even|odd)$/)?l[4]:TONUMBER(l[4]);break;case":contains":case":has":case":not":n[":"][l[2]]=l[4];break;case":first-child":case":last-child":case":only-child":case":even":case":odd":case":hover":n[":"][l[2]]=null;break;default:n[":"][l[2]]=l[4]}}break;case"!":n.name=c[2];break;case"?":n.type=c[2];break;case"[":var h=/\[([\"\'\w\-\_]+)(=|~=|)(.*|)\]$/.exec(c[0]);n[UNWRAP(h[1],["''",'""'])]=h[3]?UNWRAP(h[3],["''",'""']):null;break;default:switch(c[0].toLowerCase()){case"checkbox":case"file":case"hidden":case"hidden":case"password":case"radio":case"submit":case"text":case"reset":case"image":case"number":n.tagName="input",n.type=c[0];break;default:n.tagName=c[0].toLowerCase()}}}nody.cache.set("SELECTINFO",t,CLONEOBJECT(n))}var h=CLONE(TOOBJECT(e,"html"));"html"in h&&(h["::"]=h.html,delete h.html);for(var f in h)n[f]=h[f];return n},TAG:function(t,e){if(arguments.length>1&&("string"==typeof e||"number"==typeof e)){for(var n="",r=1,i=arguments.length;i>r;r++)"undefined"!=typeof arguments[r]&&(n+=arguments[r]);e=n}var o,a,s="string"==typeof e||"undefined"==typeof e?!0:!1;if(s){a=t;var u=nody.cache.get("TAG",a);if(u)return e?u[0]+e+u[1]:u[0]+u[1]}var o=SELECTINFO(t,e);"tagName"in o&&"*"!=o.tagName||(o.tagName="div");var c="";for(var l in o)switch(l){case"tagName":case"::":break;case":":for(inkey in o[l])switch(inkey){case"disabled":case"checked":case"selected":c+=" "+inkey}break;default:c+=void 0==typeof o[l]||null==o[l]?" "+l:" "+l+'="'+o[l]+'"'}c=c.trim();var l="<"+o.tagName+(c.length<1?"":" "+c),h=o["::"]||"",f,d;return"input"==o.tagName?(f=l+' value="',d='"/>'):(f=l+">",d="</"+o.tagName+">"),a&&nody.cache.set("TAG",a,[f,d]),f+h+d},TAGSTACKS:function(){for(var t=new String(""),e=new String(""),n=0,r=arguments.length;r>n;n++)if("string"==typeof arguments[n]){t+=new String("<"),t+=arguments[n],t+=new String(">");var i=new String("</");i+=arguments[n],i+=new String(">"),e=i+e}else console.warn("TAGSTAKE:: 허용하지 않습니다.");return[t,e]},HTMLTOEL:function(t){var e=nody.cache.get("HTMLTOEL",t);if(e)return CLONENODES(e);var n=document.createElement("div");return n.innerHTML=t,nody.cache.set("HTMLTOEL",t,CLONENODES(n.children)),CLONEARRAY(n.children)},PRINT:function(t){return CREATE("div",t,e.document)}}),ELUT.eachGetter(),nody.singleton("NUT",{ATTR:function(t,e,n){if(!ISELNODE(t))return console.error("NUT.ATTR은 element만 가능합니다. => 들어온값"+TOS(t)),null;if(1===arguments.length)return INJECT(t.attributes,function(e,n){e[n.name]=t.getAttribute(n.name)});if("object"==typeof e)for(var r in e)t.setAttribute(r,k1[v]);else if("string"==typeof e){var i="undefined"==typeof n,o=e.toLowerCase();switch(o){case"readonly":if("readOnly"in t)return i?t.readOnly:(t.readOnly=n,t);break;case"disabled":case"checked":if(o in t)return i?t[o]:(t[o]=n,t)}if(i){var a=t.getAttribute&&t.getAttribute(e)||null;if(!a){var s=t.attributes;if(!ISNOTHING(s))for(var u=s.length,c=0;u>c;c++)s[c].nodeName===e&&(a=s[c].value,"undefined"==typeof a&&(a=s[c].nodeValue))}return a}t.setAttribute(e,n)}return t},PARENTS:function(t){if(ISELNODE(t)){var e=[],n=function(t){t.parentElement&&(e.push(t.parentElement),n(t.parentElement))};return n(t),e}},PARENT:function(t){return ISELNODE(t)?t.parentElement:void 0},HASFOCUS:function(t){return document.activeElement==t},THE:function(t,e){return nody.env.matchesSelector?nody.env.matchesSelector(t,e):Sizzle.matchesSelector(t,e)},IS:function(t,e){return ISELNODE(t)?"undefined"==typeof e||"*"==e||""==e?!0:nody.env.matchesSelector?nody.env.matchesSelector(t,e):Sizzle.matchesSelector(t,e):!1},QUERY:function(){return envQuerySelectorAll=nody.env.querySelectorAll,nody.env.supportStandardQuerySelectorAll?function(t,e){return"string"!=typeof t||0==t.trim().length?[]:(e="undefined"==typeof e?document:ISELNODE(e)?e:document,e==document?envQuerySelectorAll(e,t):NUT.IS(e,t)?[e].concat(Array.prototype.slice.call(envQuerySelectorAll(e,t))):envQuerySelectorAll(e,t))}:function(t,e){return"string"!=typeof t||0==t.trim().length?[]:(e=ISELNODE(e)?e:void 0,e==document?Sizzle(t,e):NUT.IS(e,t)?[e].concat(Sizzle(t,e)):Sizzle(t,e))}}(),FEEDERDOWN_WHILE:function(t,e,n){if(e.call(t,t)!==!1)for(var r=TOARRAY(n.call(t,t)),i=0,o=r.length;o>i;i++)NUT.FEEDERDOWN_WHILE(r[i],e,n)},FEEDERDOWN:function(t,e,n){"function"!=typeof e&&console.error("DATAFEEDDOWN 두번째 파라메터는 function이여야 합니다");var r;switch(typeof n){case"function":r=n;break;case"string":r=function(t){return t[n]};break;default:return}"object"==typeof t&&NUT.FEEDERDOWN_WHILE(t,e,r,2)},MEMBER:function(t,e){var n=t;
if(ISELNODE(n)&&ISTEXTNODE(n)){if("number"!=typeof e)return TOARRAY(t.parentElement.childNodes);var r=-1;return DATAEACH(t.parentElement.children,function(t,e){return n==t?(r=e,!1):void 0}),n.parentNode.childNodes[r+e]}}}),nody.singleton("FINDEL",{FSINGLE:function(t){if("string"==typeof t)return NUT.QUERY(t);if(ISELNODE(t))return[t];if(ISARRAY(t)){for(var e=[],n=0,r=t.length;r>n;n++)if("string"==typeof t[n]){var i=NUT.QUERY(t[n]);i.length&&(e=e.concat(i))}else if(ISELNODE(t[n]))e.push(t[n]);else if(ISARRAY(t[n])){var o=FSINGLE(t[n]);o.length&&(e=e.concat(o))}return DATAUNIQUE(e)}return[]},FDOUBLE:function(t,e){if("string"==typeof t)return NUT.QUERY(t,e);if(ISELNODE(t))for(var n=NUT.QUERY(ELTRACE(t),e),r=0,i=n.length;i>r;r++)if(t===n[r])return[t];if(ISARRAY(t)){for(var o=[],r=0,i=t.length;i>r;r++){var a=FDOUBLE(t[r],e);a.length&&(o=o.concat(a))}return DATAUNIQUE(o)}return[]},FADVENCE:function(t,e){if(1===arguments.length)return FSINGLE(t);var n=FSINGLE(e);if(0===n.length)return"undefined"!=typeof e||null===e?[]:FSINGLE(t);for(var r=TOARRAY(t),i=[],o=0,a=n.length;a>o;o++)for(var s=0,u=r.length;u>s;s++){var c=FDOUBLE(r[s],n[o]);c.length&&(i=i.concat(c))}return DATAUNIQUE(i)},FIND:CONTINUEFUNCTION(function(t,e,n){return"number"==typeof e?FSINGLE(t)[e]:"number"==typeof n?FADVENCE(t,e)[n]:FADVENCE(t,e)}),FINDMEMBER:function(t,e){var n=FSINGLE(t)[0];if(ISELNODE(n)){if("number"!=typeof e)return TOARRAY(n.parentElement.children);var r=-1;return DATAEACH(n.parentNode.children,function(t,e){return n==t?(r=e,!1):void 0}),n.parentNode.children[r+e]}},FINDIN:CONTINUEFUNCTION(function(t,e,n){return"number"==typeof n?FADVENCE(e||"*",DATAMAP(FADVENCE(t),function(t){return t.children},DATAFLATTEN))[n]:"number"==typeof e?FADVENCE("*",DATAMAP(FADVENCE(t),function(t){return t.children},DATAFLATTEN))[e]:FADVENCE(e||"*",DATAMAP(FADVENCE(t),function(t){return t.children},DATAFLATTEN))},2),FINDON:CONTINUEFUNCTION(function(t,e){var n=DATAMAP(FADVENCE(t),function(t){return t.children},DATAFLATTEN);switch(typeof e){case"number":return[n[e]];break;case"string":return DATAFILTER(n,function(t){return NUT.IS(t,e)});break;default:return n}},1),FINDPARENTS:CONTINUEFUNCTION(function(t,e,n){return"string"==typeof e?"number"==typeof n?DATAFILTER(NUT.PARENTS(FADVENCE(t)[0]),function(t){return ELIS(t,e)})[n]:DATAFILTER(NUT.PARENTS(FADVENCE(t)[0]),function(t){return ELIS(t,e)}):"number"==typeof e?NUT.PARENTS(FADVENCE(t)[0])[e]:NUT.PARENTS(FADVENCE(t)[0])},1),FINDBEFORE:CONTINUEFUNCTION(function(t,e){t=FSINGLE(t)[0];var n=ELINDEX(t),r=[];if("number"==typeof n)switch(typeof e){case"string":for(var i=0,o=n;o>i;i++){var a=t.parentNode.children[i];ELIS(a,e)&&r.push(a)}break;case"number":r.push(t.parentNode.children[n-(e+1)]);break;default:for(var i=0,o=n;o>i;i++)r.push(t.parentNode.children[i])}return r},1),FINDAFTER:CONTINUEFUNCTION(function(t,e){t=FSINGLE(t)[0];var n=ELINDEX(t),r=[];if("number"==typeof n)switch(typeof e){case"string":for(var i=n+1,o=t.parentNode.children.length;o>i;i++){var a=t.parentNode.children[i];ELIS(a,e)&&r.push(a)}break;case"number":r.push(t.parentNode.children[n+(e+1)]);break;default:for(var i=n+1,o=t.parentNode.children.length;o>i;i++)r.push(t.parentNode.children[i])}return r},1),FINDPARENT:CONTINUEFUNCTION(function(t,e,n){if("number"==typeof e||"string"==typeof e&&"number"==typeof n)return DATAZERO(FINDPARENTS(t,e,n));var r=FSINGLE(t)[0];if(r){if("string"!=typeof e)return r.parentElement;var i=NUT.PARENTS(r);for(var o in i)if(NUT.IS(i[o],e))return i[o]}return void 0},1),FINDDOCUMENT:CONTINUEFUNCTION(function(t){var e=FSINGLE(t)[0];if(e){if("IFRAME"==e.tagName)return e.contentDocument||e.contentWindow.document;if(ISDOCUMENT(e))return e}else console.warn("iframe을 찾을 수 없습니다.",t)},1),FINDTREE:CONTINUEFUNCTION(function(t,e){var n=FSINGLE(t)[0];if(!n)return[];var r=FINDPARENTS(n,DATAMAP,function(){return e===!0?ELTRACE(this):this});return r.reverse(),r.push(e===!0?ELTRACE(n):n),r},1),FINDOFFSET:function(e,n,r){var e=FSINGLE(e)[0];if(e){var i=t=0,o=e.offsetWidth,a=e.offsetHeight;for(n=FSINGLE(n)[0]||document.body;;){if(i+=e.offsetLeft,t+=e.offsetTop,r===!0&&console.log(i,t,e,n),!e.offsetParent)break;if(e===n)break;e=e.offsetParent}var s=[i,t,o,a];return s.x=i,s.y=t,s.width=o,s.height=a,s}}}),FINDEL.eachGetter(),nody.singleton("GUT",{CREATE:function(t,n,r){var i,o,t="string"!=typeof t?"div":t.trim(),a,s,u=t,c=!1;switch(typeof n){case"object":"dataset"in n&&(a=n.dataset,n=CLONE(n),delete n.dataset),"html"in n&&(s=n.html,delete n.html),"value"in n&&(s=n.value,delete n.value),ISNOTHING(n)&&(c=!0,n=void 0);break;case"number":case"boolean":n+="";case"string":s=n,c=!0,n=void 0;break;case"undefined":c=!0;break;default:console.warn("CREATE의 두번째 값은 글자나 오브젝트입니다. 들어온 값 ->",n),c=!0,n=void 0}if(c){var l=nody.cache.get("CREATE",u);l&&(i=CLONENODES(l)[0],o=!0)}if(!o){switch(0!==t.indexOf("<")&&(t=TAG(t,n)),t.substr(0,3)){case"<tr":var h=TAGSTACKS("table","tbody");i=FIND("tr",HTMLTOEL(h[0]+t+h[1]),0);break;case"<td":case"<th":if("<thead"==t.substr(0,6)){var h=TAGSTACKS("table");i=FIND("thead",HTMLTOEL(h[0]+t+h[1]),0)}else{var h=TAGSTACKS("table","tbody");i=FIND(t.substr(1,2),HTMLTOEL(h[0]+t+h[1]),0)}break;case"<tb":case"<tf":if("<tbody"==t.substr(0,6)||"<tfoot"==t.substr(0,6)){var h=TAGSTACKS("table");i=FIND(t.substr(1,5),HTMLTOEL(h[0]+t+h[1]),0)}break;case"<co":if("<colgroup"==t.substr(0,9)){var h=TAGSTACKS("table");i=FIND("colgroup",HTMLTOEL(h[0]+t+h[1]),0)}else if("<col"==t.substr(0,4)){var h=TAGSTACKS("table","colgroup");i=FIND("col",HTMLTOEL(h[0]+t+h[1]),0)}else i=HTMLTOEL(t)[0];break;default:i=HTMLTOEL(t)[0]}c&&nody.cache.set("CREATE",u,CLONENODES(i)[0])}if(a)for(var f in a)i.dataset||(i.dataset={}),i.dataset[f]=a[f];return s&&("value"in i&&!i.tagName.match(/LI|BUTTON/)?i.setAttribute("value",s):i.innerHTML=s),r=FSINGLE(r)[0],r&&(r==e.document&&(r=e.document.getElementsByTagName("body")[0]),r.appendChild(i)),i},CREATETO:function(t,e){return CREATE(t,void 0,e)},MAKETEXT:CONTINUEFUNCTION(function(t){return e.document.createTextNode(t)},1),MAKE:CONTINUEFUNCTION(function(t,e,n){if(ISARRAY(e)||ISELNODE(e)||ISTEXTNODE(e)){var r=CREATE(t);return ELAPPEND(r,new NFArray(arguments).subarr(1).flatten().toArray()),r}if(ISELNODE(n)||ISTEXTNODE(n)){var r=CREATE(t,e);return ELAPPEND(r,new NFArray(arguments).subarr(2).flatten().toArray()),r}return CREATE(t,e)},1),MAKES:CONTINUEFUNCTION(function(t,e){return DATAMAP(t,function(t){return"string"==typeof t?DATAMAP(t.split(","),function(t){return 0!==t.trim().length?CREATE(t,e):void 0}):ISELNODE(t)?t:void 0},DATAFLATTEN)},1),MAKETO:CONTINUEFUNCTION(function(t,e,n){"string"==typeof e&&(e=FSINGLE(e)[0]),ISELNODE(e)&&(n=e,e=void 0);var r=MAKES(t,e);return ELAPPEND(n,r),0===r.length?void 0:1===r.length?r[0]:r},2),MAKECOLS:function(){return MAKE("colgroup",DATAMAP(arguments,function(t){return CREATE("col",/^\d/.test(t)?{width:t}:{"class":t})}))},MAKETEMP:function(t,e){var n="string"==typeof e?'<template id="'+e+'">':"<template>";return n+=t,n+="</template>",HTMLTOEL(n)[0]},MAKEIMG:function(t,e){if("string"==typeof t){var n={src:t};return e&&(n.style="width:"+TOPX(e)+";"),MAKE("img",n)}if(ISELNODE(t)&&t.files&&t.files[0]){if(!t.files[0].type.match(/image.*/))return;var r=MAKE("img"),i=new FileReader;return i.onload=function(t){r.src=t.target.result},i.readAsDataURL(t.files[0]),r}},MAKECANVAS:function(t,e,n){function r(n){var r=document.createElement("img");r.onload=function(){i.getContext("2d").drawImage(this,0,0,t,e)},r.src=n}var i=document.createElement("canvas");if(i.setAttribute("width",t?t:"auto"),i.setAttribute("height",e?e:"auto"),ISELNODE(n))if("IMG"===n.tagName)n=n.src;else if(n.files&&n.files[0]){var o=n.files[0];if(!o.type.match(/image.*/))return;var a=new FileReader;a.onload=function(t){r(t.target.result)},a.readAsDataURL(o),src=void 0}return"string"==typeof n?r(n):CALL(n,i,i.getContext("2d")),i},TOOBJECT:function(t,e,n){if("object"==typeof t)return t;if(1==n&&("string"==typeof t||"string"==typeof e)){var r={};return r[e]=t,r}if("string"==typeof t||"boolean"==typeof t)var i=TRYCATCH(function(){if(JSON==aJSON)throw new Error("not json supported browser");var e=JSON.parse(t);if("object"!=typeof e)throw new Error("pass")},function(n){if("plain"==new NFString(t).isDataContent()){var r="string"==typeof e?e:"value",i={};return i[r]=t,i}return new NFString(t).getDataContent()});return i||{}},CLONENODES:function(t){return DATAMAP(FSINGLE(t),function(t){return t.cloneNode(t,!0)})},IMPORTNODE:function(t,e){if(t=FSINGLE(t),0===t.length)return void 0;1!==t.length&&console.warn("IMPORTNODE:: 한개의 노드만 복사할수 있습니다.",t),t=DATAZERO(t);var n;return n="content"in t?FIND(document.importNode(t.content,!0).childNodes):CLONENODES(t.children),e&&(e=FSINGLE(e)[0],e&&ELAPPEND(e,n)),n},CLONEOBJECT:function(t){if("object"==typeof t){var e={};for(var n in t)e[n]=t[n];return e}return TOOBJECT(t)},DATACONTEXT:function(t){if("string"==typeof t&&(t=FSINGLE(t)[0]),"object"==typeof t){if(this.ISARRAY(t)){var e=FSINGLE(t)[0];if(e)return e}return t}return void 0}}),GUT.eachGetter(),!window.addEventListener&&function(t,e,n,r,i,o,a){t[r]=e[r]=n[r]=function(t,e){var n=this;a.unshift([n,t,e,function(t){t.currentTarget=n,t.preventDefault=function(){t.returnValue=!1},t.stopPropagation=function(){t.cancelBubble=!0},t.target=t.srcElement||n,e.call(n,t)}]),this.attachEvent("on"+t,a[0][3])},t[i]=e[i]=n[i]=function(t,e){for(var n=0,r;r=a[n];++n)if(r[0]==this&&r[1]==t&&r[2]==e)return this.detachEvent("on"+t,a.splice(n,1)[0][3])},t[o]=e[o]=n[o]=function(t){return this.fireEvent("on"+t.type,t)}}(Window.prototype,HTMLDocument.prototype,Element.prototype,"addEventListener","removeEventListener","dispatchEvent",[]),nody.singleton("EL",{HASFOCUS:function(t){return document.activeElement==FSINGLE(t)[0]},CARETPOSSIBLE:function(t){var e=FSINGLE(t)[0];return 1==ELHASFOCUS(e)&&(1==e.contentEditable||window.getSelection||document.selection)?!0:!1},ATTR:function(t,e,n){var r=FSINGLE(t)[0];return r?NUT.ATTR.apply(void 0,Array.prototype.slice.call(arguments)):void 0},IS:function(t,e){var n=FSINGLE(t)[0];return n?NUT.IS(n,e):void 0},FILTER:function(t,e){var n=FSINGLE(t);if("string"!=typeof e)return console.warn("ELFILTER는 string filter만 대응합니다."),n;for(var r=[],i=0,o=n.length;o>i;i++)ELIS(n[i],e)&&r.push(n[i]);return r},CONTENT:function(t,e){var t=FSINGLE(t)[0];if(t){if("undefined"==typeof e)return t.textContent||t.innerText;"textContent"in t?t.textContent=e+"":t.innerText=e+""}return t},VALUE:function(t,e){var n,r=FSINGLE(t);if(0!=r.length){if(r.length>1){var i=r[0],o=ELATTR(i,"name");if("radio"==ELATTR(i,"type")&&!ISNOTHING(o)){if(ISTEXT(e)){var a=FIND(ELFILTER(r,"[type=radio][name="+o+"]::"+e,0));return a&&(a.checked=!0),a}return FIND(ELFILTER(r,"[type=radio][name="+o+"]:checked"),0)||""}}switch(n=DATAZERO(r),nodeName=n.tagName.toLowerCase(),nodeName){case"img":case"script":return arguments.length<2?n.src:(n.src=e,n);break;case"link":return arguments.length<2?n.rel:(n.rel=e,n);break;case"input":case"option":case"textarea":if("option"==nodeName){var s=NUT.QUERY(":selected",n);return ISELNODE(s)?s.value:n.value}if("undefined"==typeof e)return n.value;var u=e+"";if(ELCARETPOSSIBLE(n)){var c=n.value.length-e.length,l=ELCARET(n);return n.value=e,ELCARET(n,l-c),n}return n.value=e,n;break;case"select":if("undefined"==typeof e)return n.value;var h=FIND("[value="+e+"]",n);if(h.length>0){var f=DATAZERO(h);return f.selected=!0,f}return!1;break;default:return ELCONTENT(n,e)}return n}},HASATTR:function(t,e,n){var r=FSINGLE(t)[0];return r?null==ELATTR(t,e)?!1:!0:(n!==!0&&console.error("ELHASATTR:: 알수없는 node값 입니다. => "+TOS(r)),!1)},UNIQUE:function(t){var e=FSINGLE(t)[0];return e&&(ELHASATTR(e,"id")||e.setAttribute("id",NFUtil.base26UniqueRandom(8,"uq"))),e},UNIQUEID:function(t){var e=ELUNIQUE(t);return e?e.getAttribute("id"):void 0},TRACE:function(t,e){var n=FSINGLE(t)[0];if(n){var r=n.tagName.toLowerCase(),i=tclass=tname=tattr=tvalue="";if(PROPEACH(NUT.ATTR(n),function(t,r){switch(r){case"id":var o=n.getAttribute(r);o.length&&(i="#"+o);break;case"class":tclass="."+n.getAttribute(r).trim().replace(/\s\s/g," ").split(" ").join(".");break;case"name":tname="[name="+n.getAttribute(r)+"]";break;case"value":break;default:1==e&&(attrValue=n.getAttribute(r),tattr+=""==attrValue||null==attrValue?"["+r+"]":"["+r+"="+attrValue+"]")}}),1==e&&!/table|tbody|thead|tfoot|ul|ol/.test(r)){var o=ELVALUE(n);(void 0!==typeof o||null!==o)&&"string"==typeof o&&0!==o.length&&(tvalue="::"+o),"string"==typeof tvalue&&(tvalue=tvalue.trim())}return r+i+tclass+tname+tattr+tvalue}console.warn("ELTRACE::target is not element or selector // target =>",t)},CALL:function(t,e){if("function"==typeof e){var n=FSINGLE(t);return DATAEACH(n,function(t,n){e.call(t,t,n)}),n}return[]},INDEX:function(t){var e=FSINGLE(t)[0],n=FINDPARENT(e);return n?DATAINDEX(n.children,e):void 0},APPEND:function(t,e){var n=FSINGLE(t)[0];if(!ISELNODE(n))return t;for(var r=FSINGLE(e),i=n.tagName.toLowerCase(),o=0,a=r.length;a>o;o++)if(ISELNODE(r[o]))switch(i){case"table":var s=r[o].tagName.toLowerCase();switch(s){case"colgroup":case"tbody":case"thead":case"tfoot":n.appendChild(r[o]);break;case"tr":case"td":case"th":default:window.tb=n.tBodies,n.tBodies.length||(n.tFoot?n.appendChild(CREATE("tbody")):n.insertBefore(CREATE("tbody"),n.tFoot));var u=n.tBodies[n.tBodies.length-1];if("tr"==s)u.appendChild(r[o]);else{var c=u.insertRow(u.children.length);switch(s){case"td":case"th":c.appendChild(r[o]);break;default:var l=CREATE("td");c.appendChild(l),l.appendChild(r[o])}}}break;case"tr":var s=r[o].tagName.toLowerCase();switch(s){case"td":case"th":n.appendChild(r[o]);break;default:var l=CREATE("td");n.appendChild(l),l.appendChild(r[o])}break;default:n.appendChild(r[o])}else ISTEXTNODE(r[o])?n.appendChild(r[o]):console.warn("ELAPPEND :: 추가하려는 요소는 Element요소여야 합니다.",r[o]);return n},PREPEND:function(t,e){var n=FSINGLE(t)[0],r=FSINGLE(e);if(ISOK(n),ISOK(r)){ELAPPEND(n,r);var i=FINDPARENT(r[0]);i&&DATAEACH(r,function(t,e){i.insertBefore(t,i.childNodes[e])})}},APPENDTO:function(t,e){return ELAPPEND(FSINGLE(e)[0],t)},PUT:function(t){var e=FSINGLE(t)[0];if(!ISELNODE(e))return console.warn("ELPUT:: node를 찾을수 없습니다. => 들어온값"+TOS(e));ELEMPTY(e);var n=[],r=Array.prototype.slice.call(arguments);return r.shift(),DATAEACH(DATAFLATTEN(r),function(t){if(ISELNODE(t))n.push(t);else switch(t=TOSTRING(t),e.tagName){case"UL":case"MENU":n.push(MAKE("li",t));break;case"DL":n.push(MAKE("dd",t));break;default:n.push(MAKE("span",t))}}),ELAPPEND(e,n),e},BEFORE:CONTINUEFUNCTION(function(t,e){var n=FSINGLE(t)[0];if(!ISELNODE(n))return t;if(arguments.length<2)return FINDMEMBER(n,-1);var r=FSINGLE(e);if(r.length>0)for(var i=0,o=r.length;o>i;i++)n.parentNode.insertBefore(r[i],n);return n},1),AFTER:CONTINUEFUNCTION(function(t,e){if(t=FSINGLE(t)[0],!ISELNODE(t))return t;if(arguments.length<2)return FINDMEMBER(t,1);var n=FSINGLE(e);if(n.length>0){var r=FINDMEMBER(t,1);if(ISELNODE(r))for(var i=0,o=n.length;o>i;i++)t.parentNode.insertBefore(n[i],r);else ELAPPEND(t,n)}return t},1),CHANGE:CONTINUEFUNCTION(function(t,e){if(t=FSINGLE(t)[0],e=FSINGLE(e)[0],t&&e){var n=t.parentNode,r=e.parentNode;if(n&&r){var i=MAKE("div"),o=DATAINDEX(n.children,t),a=DATAINDEX(r.children,e);r.insertBefore(i,e),n.insertBefore(e,t),r.insertBefore(t,i),r.removeChild(i)}else console.warn("has not parent",t,n,e,r)}else console.warn("not found",t,e);return[t,e]},1),REPLACE:function(t,e){var n=FSINGLE(e)[0];return ELAFTER(t,n),ELREMOVE(t),n},UP:function(t){if(!ISELNODE(t))return t;var e=t.parentNode;if(!ISELNODE(e))return t;var n=t.previousSibling;return ISELNODE(n)?void ELBEFORE(n,t):t},DOWN:function(t){if(!ISELNODE(t))return t;var e=t.parentNode;if(!ISELNODE(e))return t;var n=t.nextSibling;return ISELNODE(n)?void ELAFTER(n,t):t},STYLE:function(t,e,r){var t=FSINGLE(t)[0];if(ISELNODE(t)){if("undefined"==typeof e)return n.supportComputedStyle?window.getComputedStyle(t,null):t.currentStyle;if("string"==typeof e){var i=n.getCSSName(e);if("undefined"==typeof r)return n.supportComputedStyle?window.getComputedStyle(t,null).getPropertyValue(i):t.currentStyle[CAMEL(i)];var o=ELATTR(t,"style")||"";if(null===r)o=o.replace(new RegExp("(-webkit-|-o-|-ms-|-moz-|)"+e+"(.?:.?|)[^;]+;","g"),function(t){return console.log(t),""}),ELATTR(t,"style",o);else{var a=n.getCSSName(r);o=o.replace(new RegExp("(-webkit-|-o-|-ms-|-moz-|)"+e+".?:.?[^;]+;","g"),""),ELATTR(t,"style",i+":"+a+";"+o)}}}return t},EMPTY:function(t){return FIND(t,DATAMAP,function(t){return"innerHTML"in t&&(t.innerHTML=""),t})},REMOVE:function(t,e){var n=FSINGLE(t)[0];return ISELNODE(n)&&ISELNODE(n.parentNode)?(n.parentNode.removeChild(n),n):n},CARET:function(t,e){var n=FSINGLE(t)[0],r="true"===n.contentEditable,i,o,a;if(arguments.length<2){if(window.getSelection){if(r){n.focus();var i=window.getSelection().getRangeAt(0),o=i.cloneRange();return o.selectNodeContents(n),o.setEnd(i.endContainer,i.endOffset),o.toString().length}return n.selectionStart}if(document.selection){if(n.focus(),r){var i=document.selection.createRange(),o=document.body.createTextRange();return o.moveToElementText(n),o.setEndPoint("EndToEnd",i),o.text.length}var e=0,a=n.createTextRange(),o=document.selection.createRange().duplicate(),s=o.getBookmark();for(a.moveToBookmark(s);0!==a.moveStart("character",-1);)e++;return e}return 0}if(-1==e&&(e=this[r?"text":"val"]().length),window.getSelection)r?(n.focus(),window.getSelection().collapse(n.firstChild,e)):n.setSelectionRange(e,e);else if(document.body.createTextRange){var a=document.body.createTextRange();a.moveToElementText(n),a.moveStart("character",e),a.collapse(!0),a.select()}return r||n.focus(),e},TRIGGER:function(t,n,r){if(ISWINDOW(t))t=e;else if(t=FSINGLE(t)[0],ISNOTHING(t))throw new Error("ELTRIGGER는 element를 찾을수 없습니다. => 들어온값"+TOS(t));var i;return"createEvent"in document?(i=e.document.createEvent("HTMLEvents"),i.initEvent(n,!0,!0)):i={},r&&PROPEACH(r,function(t,e){i[e]=t}),t.dispatchEvent(i),t},ONTARGET:function(t){return ISWINDOW(t)||ISDOCUMENT(t)?t:FSINGLE(t)},ON:function(t,e,n,r){if("string"!=typeof e||"function"!=typeof n)return console.erro("ELON 노드 , 이벤트이름, 이벤트헨들러 순으로 파라메터를 입력하세요",t,e,n);var i=ELONTARGET(t),o=e.split(" ");return DATAEACH(i,function(t){DATAEACH(o,function(e){t.addEventListener(e,n,1==r?!0:!1)})}),i},OFF:function(t,e,n,r){if("string"!=typeof e||"function"!=typeof n)return console.erro("ELON 노드 , 이벤트이름, 이벤트헨들러 순으로 파라메터를 입력하세요",t,e,n);var i=ELONTARGET(t),o=e.split(" ");return DATAEACH(i,function(t){DATAEACH(o,function(e){t.removeEventListener(e,n,1==r?!0:!1)})}),i},ONETIME:function(t,e,n,r){if("function"==typeof n)console.error("ELTIME:: eventHandler는 만드시 존재해야 합니다");else{var i=function(t){this.time=t}(isNaN(r)?1:parseInt(r));i.events=e.split(" "),i.handler=function(e){if(i.time>0&&(timeCounter.time=timeCounter.time-1,CALL(handler,t,e)),i.time<1)for(var n=0,r=this.events.length;r>n;n++)ELOFF(t,events[n],timeCounter.handler)};for(var o=0,a=this.events.length;a>o;o++)ELON(t,e,i.handler)}return t},DATA:function(t,e,n){var r=FSINGLE(t);if(0!=r.length)return 1==arguments.length?CLONE(DATAZERO(r).dataset):2==arguments.length?DATAZERO(r).dataset[e]:3==arguments.length?(DATAEACH(r,function(t){t.dataset[e]=n}),r):void 0},DISABLED:function(t,e){var n=new NFArray(FSINGLE(t));n.isNothing()?console.error("ELDISABLED:: node를 찾을수 없습니다. => 들어온값"+TOS(t)):n.each(function(t){if("disabled"in t){if("undefined"==typeof e)return t.disabled;if(1==e||"true"==e)return t.disabled=!0,t;if(0==e||"false"==e)return t.disabled=!1,t}})},READONLY:function(t,e){var n=new NFArray(FSINGLE(t));n.isNothing()?console.error("ELREADONLY:: node를 찾을수 없습니다. => 들어온값"+TOS(t)):n.each(function(t){if("readOnly"in t){if("undefined"==typeof e)return t.readOnly;if(1==e||"true"==e)return t.readOnly=!0,t;if(0==e||"false"==e)return t.readOnly=!1,t}})},CommonNFString:new NFString,ADDCLASS:function(t,e){var n=FSINGLE(t);if("string"!=typeof e)return n;for(var r=0,i=n.length;i>r;r++)n[r].setAttribute("class",EL.CommonNFString.set(n[r].getAttribute("class")).getAddModel(e));return n},HASCLASS:function(t,e){var n=FSINGLE(t);if("string"!=typeof e)return!1;for(var r=0,i=n.length;i>r;r++)if(!EL.CommonNFString.set(n[r].getAttribute("class")).hasModel(e))return!1;return!0},REMOVECLASS:function(t,e){var n=FSINGLE(t);if("string"!=typeof e)return n;for(var r=0,i=n.length;i>r;r++){var o=EL.CommonNFString.set(n[r].getAttribute("class")).getRemoveModel(e).trim();o.length?n[r].setAttribute("class",o):n[r].removeAttribute("class")}return n},SWITCHCLASS:function(t,e){if("string"==typeof e){var n=FSINGLE(t);return DATAEACH(n,function(t){ELHASCLASS(t,e)?ELREMOVECLASS(t,e):ELADDCLASS(t,e)}),n}},COORDS:function(t,e,n,r,i,o){var a=FSINGLE(t,0);if(a&&"string"==typeof e){o="number"==typeof o?o:1;var s=[];switch(e.replace(/(-|)\d+/g,function(t){s.push(t)}),DATAEACH(s,function(t,e){var n;switch(e){case 0:n="left";break;case 1:n="top";break;case 2:n="width";break;case 3:n="height";break;default:return!1}var s=TONUMBER(t)*o;switch(e){case 0:s+=TONUMBER(r);break;case 1:s+=TONUMBER(i)}ELSTYLE(a,n,s+"px")}),n){case!0:case"absolute":ELSTYLE(a,"position","absolute");break;case"relative":ELSTYLE(a,"position","relative")}}return t}}),EL.eachGetterWithPrefix(),nody.extendModule("NFArray","NFQuery",{find:function(t,e){return new NFQuery(t,this,e)},hasFocus:function(){return EL.HASFOCUS(this)},caretPossible:function(){return EL.CARETPOSSIBLE(this)},attr:function(t){return arguments.length>1?(FLATTENCALL(EL.ATTR,void 0,this,arguments),this):0==arguments.length?CALL(EL.ATTR,void 0,this):CALL(EL.ATTR,void 0,this,t)},hasAttr:function(){return FLATTENCALL(EL.ATTR,EL,this,arguments)},addClass:function(t){return CALL(EL.ADDCLASS,EL,this,t)},hasClass:function(t){return CALL(EL.HASCLASS,EL,this,t)},removeClass:function(t){return CALL(EL.REMOVECLASS,EL,this,t)},is:function(){return FLATTENCALL(EL.IS,EL,this,arguments)},filter:function(){return this.replace(FLATTENCALL(EL.FILTER,EL,this,arguments)),this},value:function(t){return arguments.length>0?(FLATTENCALL(EL.VALUE,EL,this,arguments),this):CALL(EL.VALUE,EL,this,t)},trace:function(){return FLATTENCALL(EL.TRACE,EL,this,arguments)},currentIndex:function(){return FLATTENCALL(EL.INDEX,EL,this,arguments)},append:function(){return FLATTENCALL(EL.APPEND,EL,this,arguments),this},prepend:function(){return FLATTENCALL(EL.PREPEND,EL,this,arguments),this},appendTo:function(t){return CALL(EL.APPENDTO,EL,this,t),this},prependTo:function(t){return CALL(EL.PREPENDTO,EL,this,t),this},put:function(){return FLATTENCALL(EL.PUT,EL,this,arguments),this},putTo:function(t){return CALL(EL.PUT,EL,t,this),this},before:function(){return arguments.length>0?(FLATTENCALL(EL.BEFORE,EL,this,arguments),this):CALL(EL.BEFORE,EL,this)},after:function(){return arguments.length>0?(FLATTENCALL(EL.AFTER,EL,this,arguments),this):CALL(EL.AFTER,EL,this)},beforeAll:function(){return CALL(EL.BEFOREALL,EL,this)},afterAll:function(){return CALL(EL.AFTERALL,EL,this)},replace:function(){return FLATTENCALL(EL.REPLACE,EL,this,arguments),this},up:function(){return CALL(EL.UP,EL,this)},down:function(){return CALL(EL.DOWN,EL,this)},style:function(t){return arguments.length>1?(FLATTENCALL(EL.STYLE,EL,this,arguments),this):0==arguments.length?CALL(EL.STYLE,EL,this):CALL(EL.STYLE,EL,this,t)},empty:function(){return CALL(EL.EMPTY,EL,this),this},remove:function(){return CALL(EL.REMOVE,EL,this),this},caret:function(){FLATTENCALL(EL.CARET,EL,this,arguments)},trigger:function(t){return CALL(EL.TRIGGER,EL,this,t),this},on:function(){return FLATTENCALL(EL.ON,EL,this,arguments),this},off:function(){return FLATTENCALL(EL.OFF,EL,this,arguments),this},onetime:function(){return FLATTENCALL(EL.ONETIME,EL,this,arguments),this},data:function(t){return arguments.length>1?(FLATTENCALL(EL.DATA,EL,this,arguments),this):0==arguments.length?CALL(EL.DATA,EL,this):CALL(EL.DATA,EL,this,t)},disabled:function(){return FLATTENCALL(EL.DISABLED,EL,this,arguments),this},readonly:function(){return FLATTENCALL(EL.READONLY,EL,this,arguments),this}},function(t,e,n){this.setSource(FIND(t,e,n))}),nody.extendModule("NFQuery","NFMake",{},function(t,e,n){this.setSource(GUT.CREATE(t,e,n))}),nody.extendModule("NFQuery","NFTemplate",{clone:function(t,e){return new NFTemplate(this.TemplateNode,t,e||this._persistantDataFilter,!0)},cloneMap:function(t,e){t=TOARRAY(t);for(var n=[],r=0,i=t.length;i>r;r++)n.push(this.clone(t[r],e));return n},render:function(t,e){return this.clone(t,e).get()},renderMap:function(t,e){return DATAMAP(this.cloneMap(TOARRAY(t),e),function(t){return t.get()})},renderTo:function(t,e,n){var r=FSINGLE(t)[0],i=this.renderMap("object"!=typeof e?[{}]:e,n);return r&&ELAPPEND(r,i),i},renderAfterQuery:function(){return new NFQuery(this.render.apply(this,Array.prototype.slice.call(arguments)))},partialAttr:function(t,e){return this.find("["+t+"]").each(function(n){e(n.getAttribute(t),n,t),n.removeAttribute(t)}),this},partialNodeProps:function(t,e,n){for(var r=t,i=n&&n.pKeys?n.pKeys:new NFArray(r).getMap(function(t){return"nf-"+t}),o=n&&n.sKeys?n.sKeys:new NFArray(i).getMap(function(t){return"["+t+"]"}),a=this.find(o.join(",")),s=0,u=a.length;u>s;s++)for(var c=0,l=o.length;l>c;c++)NUT.THE(a[s],o[c])&&(e(a[s].getAttribute(i[c]),a[s],r[c]),a[s].removeAttribute(i[c]))},__nodeDataDefaultKeys:["value","class","dataset","href","append","prepend","put","display","custom"],__nodeDataAttrKeys:["nf-value","nf-class","nf-dataset","nf-href","nf-append","nf-prepend","nf-put","nf-display","nf-custom"],__nodeDataSelectKeys:["[nf-value]","[nf-class]","[nf-dataset]","[nf-href]","[nf-append]","[nf-prepend]","[nf-put]","[nf-display]","[nf-custom]"],setNodeData:function(t,e){if(this.TemplatePartials||(this.TemplatePartials={}),"object"!=typeof t)return console.error("nodeData의 파라메터는 object이여야 합니다",t);var n=this,r=CLONEOBJECT(t),i=this.TemplatePartials;e=e||this._persistantDataFilter,this.partialNodeProps(this.__nodeDataDefaultKeys,function(t,e,n){n in i||(i[n]={}),t.replace(/\S+/g,function(t){i[n][t]||(i[n][t]=[]),i[n][t].push(e)})},{pKeys:this.__nodeDataAttrKeys,sKeys:this.__nodeDataSelectKeys}),"object"==typeof e&&PROPEACH(e,function(t,e){r[e]="function"==typeof t?i.custom&&e in i.custom?t:t.call(r,r[e],e,r):t});for(var o in i)for(var a in i[o])if(a in r&&null!==r[a])for(var s=i[o][a],u=0,c=s.length;c>u;u++){var l=s[u];switch(o){case"value":ELVALUE(l,r[a]);break;case"href":l.setAttribute("href",r[a]);break;case"class":ELADDCLASS(l,r[a]);break;case"put":ELEMPTY(l);case"append":ELAPPEND(l,r[a]);break;case"prepend":ELPREPEND(l,r[a]);break;case"display":r[a]||ELSTYLE(l,"display","none");break;case"dataset":PROPEACH(r[a],function(t,e){l.dataset[e]=t});break;case"custom":"function"==typeof r[a]&&r[a].call(l,l,a)}}return this},setDataFilter:function(t){return"object"==typeof t&&(this._persistantDataFilter=t),this},removeDataFilter:function(){return delete this._persistantDataFilter,this},getFormData:function(){return INJECT(this,function(t,e){EXTEND(t,new NFForm(e).getFormData())})},setFormData:function(t){return"object"==typeof t&&this.each(function(e){new NFForm(e).setFormData(t)}),this},reset:function(t,e){return 0===this.TemplateNode.length&&console.error("tamplate 소스를 찾을수 없습니다.",this.initNode),this.TemplateNode.length>1&&console.warn("tamplate 소스는 반드시 1개만 선택되어야 합니다.",this.initNode),this.setSource(IMPORTNODE(this.TemplateNode)),"object"==typeof t&&this.setNodeData(t,e),this}},function(t,e,n,r){this.initNode=t,this.TemplateNode="string"==typeof t&&/^<.+>$/.test(t)?[MAKETEMP(t)]:FSINGLE(t),this.TemplateNode?(n&&this.setDataFilter(n),(e===!0||n===!0||r===!0)&&this.reset(e,n)):console.error("template init falid!")},function(t){var e=FSINGLE(this);return 1===e.length?e[0]:e}),nody.method("$Q",function(t,e,n){return new NFQuery(t,e,n)}),nody.method("$M",function(t,e,n){return new NFMake(t,e,n)}),nody.method("$T",function(t,e,n,r){return new NFTemplate(t,e,n,r)}),nody.method("$C",function(t,e){return new NFContext2D(t,e)})}(window,nody.env),function(W,ENV){nody.module("NFControls",{getSelects:function(){return this.Source},find:function(t){return t?FIND(t,this.Source):[]},statusFunction:function(t,e,n,r){var i=n?function(r){return ELIS(r,n)?t(r,e):void 0}:function(n){return t(n,e)},o=new NFArray(this.getSelects()).map(i).filter();return 1==r?o.toArray():this},disabled:function(t,e){return this.statusFunction(ELDISABLED,t!==!1?!0:!1,e)},readonly:function(t,e){return this.statusFunction(ELREADONLY,t!==!1?!0:!1,e)},empty:function(t){return t=t?t+",:not(button):not(select)":":not(button):not(select)",this.statusFunction(ELVALUE,"",t)},map:function(t,e){return this.statusFunction(function(e){var n=t(e);ISTEXT(n)&&ELVALUE(e,n)},"",e)},controls:function(t,e){return this.statusFunction(function(e){var n=t.call(e,e)},"",e)},removePartClass:function(rmClass,filter,req){var r=this.statusFunction(function(node,param){var classes=ELATTR(node,"class");return"string"==typeof classes?(classes=_NFString(classes).getRemoveModel(eval("/^"+param+"/")),ELATTR(node,"class",classes),node):void 0},rmClass,filter,!0);return 1==req?r:this},changePartClass:function(t,e,n){return new NFArray(this.removePartClass(t,n,!0)).each(function(n){var r=ELATTR(n,"class");ELATTR(n,"class",_NFString(r).getAddModel(t+e))}),this}},function(t,e){this.Source=FIND(t,e)}),nody.extendModule("NFControls","NFForm",{isValid:function(t){return"function"==typeof t?t.call(this):ISELNODE(this.Source)},getSelects:function(){return FIND(this.SelectRule,this.Source)},getSelectTokens:function(){return new NFArray(this.SelectRule.split(",")).map(function(t){var e=/\[([a-zA-Z0-9\-]+)(.*)\]/.exec(t);if(null!==e)return e[1]}).filter().toArray()},getCheckoutElement:function(){return FIND(new NFArray(this.getSelectTokens()).map(function(t){return"["+t+"]"}).join(","),this.Source)},getCheckoutElementsWithToken:function(){var t=new NFArray(this.getSelectTokens());return new NFArray(this.getCheckoutElement()).inject({},function(e,n){var r;t.each(function(t){if(1==ELHASATTR(e,t)){var r=ELATTR(e,t);if(!ISNOTHING(r))return r in n||(n[r]=[]),n[r].push(e),!1}})})},checkoutFilter:function(t){this.FrameCheckoutFilter=t},checkinFilter:function(t){this.FrameCheckinFilter=t},checkout:function(){return new NFObject(this.getCheckoutElementsWithToken()).map(function(t,e){var n=ELVALUE(t);return null==n?"":n}).get()},checkin:function(t,e){if("string"==typeof t){"string"!=typeof e&&(e=TOSTRING(e));var n={};n[t]=e,t=n}if("object"==typeof t){var r=this.getCheckoutElementsWithToken();for(var i in t)i in r&&ELVALUE(r[i],t[i])}else console.warn("Frame::checkin set data를 object형으로 넣어주세요");return this},clearFormData:function(){return this.empty()},setFormData:function(t,e){return this.checkin(t,e)},getFormData:function(t){return"string"==typeof t?this.checkout()[t]:this.checkout()}},function(t,e){switch(this.Source=FSINGLE(t)[0],this.form=this.Source,ISELNODE(this.Source)||console.error("Frame::Context를 처리할 수 없습니다. => ",this.Source," <= ",t),typeof e){case"string":this.SelectRule=e+",[name]";break;default:this.SelectRule="[name]"}}),nody.module("NFActiveStatus",{whenAnyWillActive:function(t){this.StatusEvents.AnyWillActive=t},whenAnyDidActive:function(t){this.StatusEvents.AnyDidActive=t},whenAnyWillInactive:function(t){this.StatusEvents.AnyWillInactive=t},whenAnyDidInactive:function(t){this.StatusEvents.AnyDidInactive=t},whenAllActive:function(t){this.StatusEvents.AllInactive=t},whenAllInactive:function(t){this.StatusEvents.AllInactive=t},whenWillActive:function(t,e){this.StatusEvents.StatusWillActive[t]=e},whenDidActive:function(t,e){this.StatusEvents.StatusDidActive[t]=e},whenWillInactive:function(t,e){this.StatusEvents.StatusWillInactive[t]=e},whenDidInactive:function(t,e){this.StatusEvents.StatusDidInactive[t]=e},setInactiveStatus:function(t,e,n){if(this.ActiveKeys.has(t)){if(1===this.ActiveKeys.length&&!this.AllowInactive)return;APPLY(this.StatusEvents.AnyWillInactive,n,e)!==!1&&CALL(this.StatusEvents.StatusWillInactive[t],n,e)!==!1&&(this.ActiveKeys.remove(t),CALL(this.StatusEvents.AnyDidInactive,n,e),CALL(this.StatusEvents.StatusDidInactive[t],n,e),0===this.ActiveKeys.length&&CALL(this.StatusEvents.AnyActive))
}},setActiveStatus:function(t,e,n){var r=this;e=TOARRAY(e),this.ActiveKeys.has(t)||(this.AllowMultiStatus||0===this.ActiveKeys.length?APPLY(this.StatusEvents.AnyWillActive,n,e)!==!1&&APPLY(this.StatusEvents.StatusWillActive[t],n,e)!==!1&&(this.ActiveKeys.push(t),APPLY(this.StatusEvents.AnyDidActive,n,e),APPLY(this.StatusEvents.StatusDidActive[t],n,e),this.ActiveKeys.length===PROPLENGTH(this.Source)&&APPLY(this.AllActive,n,e)):APPLY(this.StatusEvents.AnyWillActive,n,e)!==!1&&APPLY(this.StatusEvents.StatusWillActive[t],n,e)!==!1&&(this.ActiveKeys.each(function(t){r.setInactiveStatus(t,e,n)}),this.ActiveKeys.push(t),APPLY(this.StatusEvents.AnyDidActive,n,e),APPLY(this.StatusEvents.StatusDidActive[t],n,e),this.ActiveKeys.length===PROPLENGTH(this.Source)&&APPLY(this.AllActive,n,e)))},getActiveStatus:function(){return this.ActiveKeys.join(" ")}},function(t,e){lastll=this,this.AllowMultiStatus=!!t,this.AllowInactive=!!e,this.StatusEvents={AnyWillActive:void 0,AnyDidActive:void 0,AnyWillInactive:void 0,AnyDidInactive:void 0,AllActive:void 0,AllInactive:void 0,StatusWillActive:{},StatusDidActive:{},StatusWillInactive:{},StatusDidInactive:{}},this.ActiveKeys=new NFArray}),nody.extendModule("NFActiveStatus","NFFormController",{isStatus:function(t){return this.ActiveKeys.has(t)},statusReset:function(t){"string"==typeof name&&(this.ActiveKeys.remove(name),this.setActiveStatus(t,Array.prototype.slice.call(arguments,1),this))},statusTo:function(t){"string"==typeof name&&this.setActiveStatus(t,Array.prototype.slice.call(arguments,1),this)},addStatus:function(t,e){if(t)if("object"==typeof t)for(var n in t)this.addStatus(n,t[n]);else this.whenDidActive(t,e)},setFormData:function(t,e){return this.FormControl.checkin(t,e)},getFormData:function(){return this.FormControl.checkout()},find:function(){return this.FormControl.find.apply(this.FormControl,Array.prototype.slice.call(arguments))}},function(t,e,n){if(this.view=FSINGLE(t)[0],this.view){this.FormControl=_NFForm(this.view),this._super(!1,!0),e&&this.addStatus(e),"function"==typeof n&&(n={init:n});var r=this;PROPEACH(n,function(t,e){e in r.constructor.prototype||("init"===e?"function"==typeof t&&t.apply(r,Array.prototype.slice.call(arguments)):r[e]="function"==typeof t?function(){t.apply(r,Array.prototype.slice.call(arguments))}:t)})}else console.warn("FormController에 view를 정상적으로 로드할수 없었습니다.",t,this.view)}),nody.module("NFContexts",{getContexts:function(){return FSINGLE(this.initCall[0])},getSelects:function(t){if(t!==!0&&this._selectPoolCount>0)return CLONEARRAY(this._selectPoolList);switch(typeof this.initCall[1]){case"function":return this.initCall[1]();break;default:var e=ISNOTHING(this.initCall[1])?">*":this.initCall[1];return"self"==e?this.getContexts():">"==e.charAt(0)?FINDON(this.getContexts(),e.substr(1)):FINDIN(this.getContexts(),e)}},"+_selectPoolCount":0,selectPoolStart:function(){0===this._selectPoolCount&&(this._selectPoolList=this.getSelects(!0)),this._selectPoolCount=this._selectPoolCount+1},selectPoolEnd:function(){this._selectPoolCount=this._selectPoolCount-1,0===this._selectPoolCount&&(this._selectPoolList=null)},getGroups:function(){var t=ISNOTHING(this.initCall[2])?"self":this.initCall[2];return"self"==t?DATAMAP(this.getSelects(),function(t){return[t]}):">"==t.charAt(0)?DATAMAP(this.getSelects(),function(e){return FINDON(e,t.substr(1))}):DATAMAP(this.getSelects(),function(e){return FINDIN(e,t,"*")})},getTargets:function(){return DATAFLATTEN(this.getGroups())},getContext:function(t){return this.getContexts()[t]},getSelect:function(t){return this.getSelects()[t]},getTarget:function(t){return this.getTargets()[t]},getGroup:function(t){return this.getGroups()[t]},onSelects:function(t,e,n){var r=this;if("string"==typeof t&&"number"==typeof e){this.selectPoolStart();var i=this.getSelect(e);return ISELNODE(i)?ELTRIGGER(i,t,arguments.length>2?{arguments:Array.prototype.slice.call(arguments,2)}:void 0):console.warn("Contexts::onSelects::트리깅할 대상이 없습니다."),this.selectPoolEnd(),this}return"string"==typeof t&&"function"==typeof e?ELON(this.getContexts(),t,function(t){var i=new NFArray(r.getSelects());if(i.has(t.target)){var o=i.indexOf(t.target),a=e.call(t.target,t,o,r);return 0==a?!1:("function"==typeof n&&i.each(function(e,i){return t.target!==e?n.call(e,t,i,r):void 0}),a)}var s;return i.each(function(e){return FIND(t.target,e,0)?(s=e,!1):void 0}),s?(ELTRIGGER(s,t.type),!1):void 0}):console.error("onSelect::초기화 할수 없습니다. 글자함수필요",t,e),this},trace:function(t){switch(t="string"==typeof t?t:"console.log"){case"a":case"alert":var e=["K [trace] <alert> !"];return e.push("contexts => "+TOS(this.contexts)),e.push("selects => "+TOS(this.selects)),e.push("targets => "+TOS(this.targets)),e.push("groups => "+TOS(this.groups)),e.push("options => "+TOS(this.options)),alert(e.join("\n::")),!0;break;case"c":case"l":case"console":case"log":case"console.log":console.info("#start# K [trace] <console.log>"),console.info("initCall =>",this.initCall),console.info("contexts => ",this.getContexts()),console.info("selects => ",this.getSelects()),console.info("targets => ",this.getTargets()),console.info("groups =>  ",this.getGroups()),console.info("options => {");for(var n in this.options)console.info(":"+n," => ",this.options[n]);console.info("}"),console.info("#end# K [trace] <console.log>")}return!1},needFilterController:function(t,e){return new NFFilterController(this.initCall[0],this.initCall[1],t,e)},injectSelects:function(t){return"function"!=typeof t?{}:INJECT(this.getSelects(),function(e,n,r){t(e,n,r)})}},function(t,e,n){ISNOTHING(FSINGLE(t))&&console.warn("Contexts::init::error 첫번째 파라메터의 값을 현재 찾을 수 없습니다. 들어온값",t,e,n),this.initCall=[t,e,n]}),nody.extendModule("NFContexts","NFFilterController",{needFiltering:function(t){var e=this.getSelects(),n=this.filterMethod,r=[];if(this.filterClass){var i=this.filterClass;DATAEACH(this.getSelects(),function(e,o){n.call(e,e,o,t)===!0?ELREMOVECLASS(e,i):(ELADDCLASS(e,i),r.push(o))})}else DATAEACH(this.getSelects(),function(e,i){n.call(e,e,i,t)===!0?ELSTYLE(e,"display",null):(ELSTYLE(e,"display","none"),r.push(i))});return r}},function(t,e,n,r){this._super(t,e),"function"!=typeof n&&console.error("NFFilter::세번째 파라메터는 반드시 함수를 넣어주세요",n),this.filterMethod=n,"string"==typeof r&&(this.filterClass=r),r===!0&&(this.filterClass="hidden")}),nody.extendModule("NFContexts","NFActiveController",{whenWillActive:function(t){return this.ContextsEvents.willActive=t,this},whenDidActive:function(t){return this.ContextsEvents.didActive=t,this},whenDidInactive:function(t){return this.ContextsEvents.didInactive=t,this},whenWillChange:function(t){return this.ContextsEvents.willChange=t,this},whenDidChange:function(t){return this.ContextsEvents.didChange=t,this},whenActiveToggle:function(t,e){return this.whenDidActive(t),this.whenDidInactive(e)},whenActiveStart:function(t){return this.ContextsEvents.activeStart=t,this},whenActiveEnd:function(t){return this.ContextsEvents.activeEnd=t,this},shouldTriggering:function(t,e){var n=this;if("number"!=typeof t&&console.warn("index는 반드시 number이여야 합니다."),0===e||e===!1)n.onSelects(n.ContextsEventName,t,e);else var r=setTimeout(function(){n.onSelects(n.ContextsEventName,t,e),clearTimeout(r)},"number"==typeof e?e:TONUMBER(e));return this},getActiveIndexes:function(t){this.selectPoolStart();var e=[];return DATAEACH(this.getSelects(),function(t,n){ELHASCLASS(t,"active")&&e.push(n)}),this.selectPoolEnd(),"number"==typeof t?e[t]:t===!0?e[e.length-1]:e},setActiveIndexes:function(t,e){this.selectPoolStart();var n=new NFArray(t);if(e===!1)DATAEACH(this.getSelects(),function(t,e){n.has(e)?ELHASCLASS(t,"active")||ELADDCLASS(t,"active"):ELHASCLASS(t,"active")&&ELREMOVECLASS(t,"active")});else{var r=this;DATAEACH(this.getSelects(),function(t,i){n.has(i)?ELHASCLASS(t,"active")||r.shouldTriggering(i,e):ELHASCLASS(t,"active")&&r.shouldTriggering(i,e)})}return this.selectPoolEnd(),this},shouldActive:function(t,e,n){if("number"==typeof t){this.selectPoolStart();var r=this.getActiveIndexes();DATAHAS(r,t)||(n===!0?this.setActiveIndexes([t],e):(r.push(t),this.setActiveIndexes(r,e))),this.selectPoolEnd()}return this},shouldInactive:function(t,e){if("number"==typeof t){this.selectPoolStart();var n=new NFArray(this.getActiveIndexes());DATAHAS(n,t)&&(n.remove(t),this.setActiveIndexes(n,e)),this.selectPoolEnd()}return this},getActiveSelects:function(){this.selectPoolStart();var t=DATAFILTER(this.getSelects(),function(t){return ELHASCLASS(t,"active")});return this.selectPoolEnd(),t},getInactiveSelects:function(){this.selectPoolStart();var t=DATAFILTER(this.getSelects(),function(t){return!ELHASCLASS(t,"active")});return this.selectPoolEnd(),t},activeAll:function(t){return this.selectPoolStart(),this.setActiveIndexes(DATAMAP(this.getSelects(),function(t,e){return e}),t),this.selectPoolEnd(),this},inactiveAll:function(t){return this.selectPoolStart(),this.setActiveIndexes([],t),this.selectPoolEnd(),this},hasActive:function(){var t=!1;this.selectPoolStart();for(var e=this.getSelects(),n=0,r=e.length;r>n;n++)if(ELIS(e[n],".active")){t=!0;break}return this.selectPoolEnd(),t},isActiveAll:function(){var t;return this.selectPoolStart(),t=this.getActiveSelects().length==this.getSelects().length,this.selectPoolEnd(),t},resetActiveTargetWithContexts:function(t,e,n){var r=this.getActiveIndexes();CALL(n),this.initCall[0]=t||this.initCall[0],this.initCall[1]=e||this.initCall[1],r.length&&this.setActiveIndexes(r,!1)},resetActiveTarget:function(t){this.resetActiveTargetWithContexts(void 0,t)},resetActiveTargetWithPool:function(t,e){this.resetActiveTargetWithContexts(void 0,t,e)}},function(t,e,n,r,i,o,a){this._super(t,e),this.ContextsEvents={},this.ContextsEventName="string"==typeof n?n:"click",this.preventDefault=!0,this.allowAutoActive=!0,this.allowMultiActive="boolean"==typeof o?o:!1,this.allowInactive="boolean"==typeof a?a:this.allowMultiActive;var s=this;this.onSelects(this.ContextsEventName,function(t,e){var n=t.arguments?!(t.arguments[0]===!1):!0,r=s.getSelects();if(s.preventDefault&&t.preventDefault(),n&&CALL(s.ContextsEvents.willActive,this,t,e)===!1)return!1;if(s.allowAutoActive){if(ELHASCLASS(this,"active"))return s.allowInactive?(n&&CALL(s.ContextsEvents.willChange,this,e),ELREMOVECLASS(this,"active"),n&&CALL(s.ContextsEvents.didChange,this,e),n&&0==FIND(".active",r).length&&CALL(s.ContextsEvents.activeEnd,this,e),!1):!1;var i=FIND(".active",r);return s.allowMultiActive?(n&&CALL(s.ContextsEvents.willChange,this,e),ELADDCLASS(this,"active"),n&&0===i.length&&CALL(s.ContextsEvents.activeStart,this,e),n&&CALL(s.ContextsEvents.didActive,this,e),n&&CALL(s.ContextsEvents.didChange,this,e),!1):(new NFArray(r).remove(this).each(function(t){s.allowAutoActive&&(ELREMOVECLASS(t,"active"),n&&CALL(s.ContextsEvents.didInactive,t))}),n&&CALL(s.ContextsEvents.willChange,this,e),ELADDCLASS(this,"active"),n&&0===i.length&&CALL(s.ContextsEvents.activeStart,this,e),n&&CALL(s.ContextsEvents.didActive,this,e),n&&CALL(s.ContextsEvents.didChange,this,e),!1)}}),r&&this.whenWillActive(r),"function"==typeof i&&(i=i.call(this)),"number"==typeof i&&this.shouldActive(i,1)}),nody.module("NFActiveControllerManager",{getActiveIndexes:function(t){var e=this.Source[t||this.Source.length-1];return e?e.getActiveIndexes():[]},setActiveIndexes:function(t,e,n){return _NFArray(this.Source).remove(n).each(function(n,r){n.setActiveIndexes(t,0===r?e&&!0:!1)}),this},shouldInactive:function(t,e,n){return _NFArray(this.Source).remove(n).each(function(n,r){n.shouldInactive(t,0===r?e&&!0:!1)}),this},shouldActive:function(t,e,n){return DATAEACH(this.Source,function(r,i){r.shouldActive(t,0===i?e&&!0:!1,n)}),this},activeAll:function(t,e){var n=this.Source[e||this.Source.length-1];return n&&this.setActiveIndexes(DATAMAP(n.getSelects(),function(t,e){return e}),t&&!0),this},inactiveAll:function(t){this.setActiveIndexes([],t&&!0)},getActiveSelects:function(t){var e=this.Source[t||this.Source.length-1];return e.getActiveSelects()},hasActive:function(t){var e=this.Source[t||this.Source.length-1];return e.hasActive()},syncActiveController:function(t,e){this.Source.push(t);var n=this;if(t.whenWillActive(function(t){var e=this;return CALL(n.ContextsEvents.willActive,e,t)}),t.whenDidActive(function(e){var r=this;return n.setActiveIndexes(t.getActiveIndexes(),!1,t),CALL(n.ContextsEvents.didActive,r,e)}),t.whenDidInactive(function(e){n.setActiveIndexes(t.getActiveIndexes(),!1,t);var r=this;return CALL(n.ContextsEvents.didInactive,r,e)}),t.whenWillChange(function(){var t=this;return CALL(n.ContextsEvents.willChange,t)}),t.whenDidChange(function(e){var r=this;return n.setActiveIndexes(t.getActiveIndexes(),!1,t),CALL(n.ContextsEvents.didChange,r,e)}),t.whenActiveStart(function(t){var e=this;return CALL(n.ContextsEvents.activeStart,e,t)}),t.whenActiveEnd(function(t){var e=this;return CALL(n.ContextsEvents.activeEnd,e,t)}),e===!0){var r=this.Source[this.Source.length-1];r&&t.setActiveIndexes(r.getActiveIndexes(),!1)}return t},makeActiveController:function(){return this.syncActiveController(_NFActiveController.apply(NFActiveController,Array.prototype.slice.call(arguments)))},whenWillActive:function(t){return this.ContextsEvents.willActive=t,this},whenDidActive:function(t){return this.ContextsEvents.didActive=t,this},whenDidInactive:function(t){return this.ContextsEvents.didInactive=t,this},whenWillChange:function(t){return this.ContextsEvents.willChange=t,this},whenDidChange:function(t){return this.ContextsEvents.didChange=t,this},whenActiveToggle:function(t,e){return this.whenDidActive(t),this.whenDidInactive(e)},whenActiveStart:function(t){return this.ContextsEvents.activeStart=t,this},whenActiveEnd:function(t){return this.ContextsEvents.activeEnd=t,this}},function(t){this.ContextsEvents={},this.Source=[]}),nody.module("NFFire",{complete:function(){return this.FireCurrent=this.FireMax,this.FireFunction.apply(this,arguments)},touch:function(){return this.FireCurrent++,this.FireCurrent>=this.FireMax?this.complete.apply(this,arguments):void 0},back:function(){return this.FireCurrent--,this},each:function(t){var e=this,n=function(){return e.touch()};return ISARRAY(this.Source)&&"function"==typeof t?new NFArray(this.Source).each(function(r,i){return CALL(t,e,r,i,n)}):console.warn("Fire::조건이 충족되지 못해 fire를 실행하지 못하였습니다. source=> ",this.Source,"each f=>",t),this}},function(t,e){this.Source=t,this.FireMax=1==ISARRAY(t)?t.length:1==isNaN(t)?0:parseInt(t),this.FireFunction=e,this.FireCurrent=0}),nody.method("FIRE",function(t,e,n){return new NFFire(t,n).each(e)}),nody.module("NFRequest",{__debug:function(t,e,n){var r={method:this.option.method,url:this.url,param:e,data:t,dataTrace:void 0,dataTraceMax:400},i="function"==typeof n.debugTrace?n.debugTrace:!1;if(i){var o=i(r);"object"==typeof o?r=o:console.error("Request::debugTrace시 결과값은 반드시 Object이여야 합니다")}return r.dataTrace="undefined"==typeof r.data?"none":r.data,console.info("Request::Success:: [\n - method => ",r.method,"\n - url    => ",r.url,"\n - param  => ",TOS(r.param),"\n]\n:::result==> ",MAX(TOS(r.data),r.dataTraceMax),"\n\n"),r},onFinal:function(t,e,n){CALL(this.option["final"],e,t)},onSuccess:function(t,e,n,r){1==n.debug&&this.__debug(t,e,n);var i=CALL(n.requestSuccess,n.scope,t);"string"==typeof i&&i.indexOf("error")>-1&&(console.error("Request::통신을 완료하였지만 [requestSuccess]에서 dataError를 보고하고 있습니다. => ",i.substr(5)),CALL(this.option,void 0,i),i=!1);var o;i!==!1&&("function"==typeof this.option.success?o=this.option.success.apply(n.scope,[t,e]):console.warn("Request::통신을 완료하였지만 [success] 후처리가 없습니다. data => ",{responseText:TOS(t)})),this.onFinal(o,n.scope)},onError:function(t,e,n,r){var i=r,o=r.statusText,a=CALL(n.requestError,n.scope,i,o,t),s;if(a!==!1){if("function"==typeof error)var u=this.option.error(i,o,t);u!==!1&&console.error("Request::load : '"+this.url+"' 호출이 실패되었습니다. JSON 파라메터와 에러코드를 출력합니다. ==> \n------\n",TOS(this.option),"\n------\n",o,TOS(this.option.data)),s=u}this.onFinal(s,n.scope)},onStateChangeWithRequest:function(t){switch(t.readyState){case 4:switch(t.status){case 200:case 0:var e;switch(this.option.dataType){case"json":case"object":TRYCATCH(function(){e=JSON.parse(t.responseText)},function(e){throw console.error("json 포멧이 올바르지 않습니다. =>",t.status,"::",t.responseText),e});break;case"dom":case"node":var n=document.createElement("div");n.innerHTML=t.responseText,e=n.childNodes;break;case"http":case"html":case"js":case"javascript":case"css":case"stylesheets":default:e=t.responseText}this.onSuccess(e,_NFMeta(t).lastProp("requestParam"),this.moduleOption,t);break;default:if(1==this.moduleOption.debug)switch(t.status){case 404:console.info("Request:: 404 페이지가 존재하지 않음");break;case 500:console.info("Request:: 500 응답서버 내부오류")}this.onError(e,_NFMeta(t).lastProp("requestParam"),this.moduleOption,t)}break;case 1:case 2:case 3:break;default:1==this.moduleOption.debug&&console.info("Request debug",t.readyState,t.responseText)}},requestForm:function(t){"function"==typeof t&&(t={success:t}),t=TOOBJECT(t,"method");var e={},n=!1;return e.method="string"==typeof t.method?t.method:"get",e.dataType=t.dataType?t.dataType:"html",e.data=t.data,e.success=t.success,e.error=t.error,this.option=e,this.option},getRequestObject:function(){var t=this,e=window.XMLHttpRequest?new XMLHttpRequest:window.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):function(){console.error("XMLHTTPRequest를 지원하지 않는 브라우져입니다")};return e.onreadystatechange=function(){t.onStateChangeWithRequest.call(t,e)},e},send:function(t,n){"function"==typeof t&&(this.option.success=t),"function"==typeof n&&(this.option.error=n),"success"in this.option||console.warn("Request Warning :: success메서드가 정의되지 않은 상태로 호출되었습니다.");var r=this.getRequestObject(),i=new NFObject("object"==typeof this.moduleOption.constData?new NFObject(this.moduleOption.constData).concat(this.option.data):this.option.data),o=new NFObject(i.getEncodeObject()).join("=","&");_NFMeta(r).setProp("requestParam",i.get()),TRYCATCH(function(){"post"==this.option.method.toLowerCase()?(r.open("POST",this.url,!0),TRYCATCH(function(){r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.setRequestHeader("Content-type","application/x-www-form-urlencoded")},function(){throw console.warn("XMLHttpRequest:: setRequestHeader를 지원하지 않는 브라우져입니다"),e},this),r.send(o)):(r.open("GET",this.url+(1==ISNOTHING(o)?"":"?"+o),!0),r.send())},function(){throw e.message.indexOf("denied")>0?new Error("Cross Domain Error (if current browser is IE)"):e},this)}},function(t,e,n){this.url=t,"string"==typeof e&&"function"==typeof n?(this.option=this.requestForm({dataType:e,success:n}),this.moduleOption={}):(this.option=this.requestForm(e),this.moduleOption=TOOBJECT(n,"debug"))}),nody.extendModule("NFRequest","NFOpen",{},function(t,e,n){this._super(t,e,n),this.send()}),nody.extendModule("NFRequest","NFHTMLOpen",{send:function(){var t=CREATE("iframe",{src:this.url+(this.url.indexOf("?")>-1?"&token=":"?token=")+NFUtil.base36Random(2),style:"display:none;"}),e={readyState:4,status:200,responseText:""};_NFMeta(e).setProp("requestParam",{});var n=this;t.onload=function(){e.responseText=Array.prototype.slice.call(IFRAMEDOCUMENT(t).body.children),n.onStateChangeWithRequest(e)},t.onerror=function(){e.readyState=4,e.status=404,n.onStateChangeWithRequest(e)},ELAPPEND(document.body,t)}},function(t,e,n){this._super(t,{success:e,error:n,dataType:"html"}),this.send()}),nody.module("NFContentLoaderBase",{"+_ActiveController":void 0,getActiveController:function(){return this._ActiveController},_setEvent:function(t,e,n){var r=this;DATAEACH(e,function(e){if("!global"==e)"function"==typeof n&&(r.NFContentLoaderBaseEvents[t]=n);else if("string"==typeof e&&"function"==typeof n)return r.NFContentLoaderBaseEvents[t][e]=n})},whenAnyLoad:function(t){this._setEvent("AnyLoadEvent","!global",t)},whenAnyActive:function(t){this._setEvent("AnyActiveEvent","!global",t)},whenAnyInactive:function(t){this._setEvent("AnyInactiveEvent","!global",t)},whenAnyActiveToggle:function(t,e){this.whenAnyActive(t),this.whenAnyInactive(e)},whenLoad:function(t,e){this._setEvent("ContainerLoadEvents",t,e)},whenActive:function(t,e){this._setEvent("ContainerOpenEvents",t,e)},whenInactive:function(t,e){this._setEvent("ContainerInactiveEvents",t,e)},whenActiveToggle:function(t,e,n){this.whenActive(t,e),this.whenInactive(t,n)},getNameOfActive:function(){return this.ContainerActiveKeys.join(" ")},getURLOfActive:function(){return this.Source[this.ContainerActiveKeys.last()]},_triggeringActiveEvents:function(t,e,n,r){n.match("load")&&(APPLY(this.NFContentLoaderBaseEvents.AnyLoadEvent,t,r),APPLY(this.NFContentLoaderBaseEvents.ContainerLoadEvents[e],t,r)),n.match("active")&&(APPLY(this.NFContentLoaderBaseEvents.AnyActiveEvent,t,r),APPLY(this.NFContentLoaderBaseEvents.ContainerOpenEvents[e],t,r))},_triggeringInactiveEvents:function(t,e){APPLY(this.NFContentLoaderBaseEvents.AnyInactiveEvent,t),APPLY(this.NFContentLoaderBaseEvents.ContainerInactiveEvents[e],t)},loadHTML:function(t,e,n,r){var i=this;switch("function"==typeof e&&(e=e(APPLY(e,this))),typeof e){case"string":new NFOpen(e+(e.indexOf("?")>-1?"&token=":"?token=")+NFUtil.base36Random(2),{dataType:"dom",success:function(e){i.saveContainerContents(e,t),CALL(n,i,t,e)},error:function(){console.error("NFContentLoaderBase::URL링크에서 데이트럴 찾지 못했습니다"+e),CALL(r,i,t)}});break;case"object":var o=FSINGLE(e);o.length<1&&!ISARRAY(e)?(console.error("NFContentLoaderBase::불러올 엘리먼트가 존재하지 않습니다."+e),CALL(r,i,t)):(i.saveContainerContents(o,t),CALL(n,i,t,o));break;default:return console.log("NFContentLoaderBase::올바르지 않은 loadPath =>",e,t),CALL(r,i,t),!1}return!0},saveContainerContents:function(t,e){"string"==typeof e&&(this.ContainerContents[e]=TOARRAY(t))},loadContainerContents:function(t){return this.ContainerContents[t]},removeContainer:function(t){return delete Containers[t],this},addContainer:function(t,e){var n=FSINGLE(t)[0];return n?(this.ContainerPlaceholder[e]=n,this):console.warn(e,"의 컨테이너를 찾을 수 없습니다.")},needActiveController:function(){return this._ActiveController=APPLY(_NFActiveController,void 0,arguments),this._ActiveController},currentActiveController:function(){return this._ActiveController}},function(t,e){switch(this.Source={},this.ContainerPlaceholder={},this.ContainerContents={},this.ContainerActiveKeys=new NFArray,this.NFContentLoaderBaseEvents={AnyLoadEvent:void 0,AnyActiveEvent:void 0,AnyInactiveEvent:void 0,ContainerLoadEvents:{},ContainerOpenEvents:{},ContainerInactiveEvents:{}},CALL(e,this),typeof t){case"object":EXTEND(this.Source,t);break;case"function":var n=this,r=t.call(this,this);"object"==typeof r&&EXTEND(this.Source,r)}});var nody_loader_script_start=function(t){FIND("script",t,DATAEACH,function(t){var e=t.innerHTML;TRYCATCH(function(){eval.call(e)},function(t){throw console.error("다음의 스크립트 구문 오류로 스크립트 실행이 정지되었습니다. => ",MAX(e,200)),t})})};nody.extendModule("NFContentLoaderBase","NFMultiContentLoader",{loadWithProperty:function(t,e){if("object"!=typeof t)return console.error("loadAll이 중지되었습니다.");var n=this,r=new NFFire(PROPLENGTH(t),function(){CALL(e,n)});PROPEACH(t,function(t,e){var i=n.ContainerPlaceholder[e];return i?void n.loadHTML(e,t,function(o,a){n.Source[e]=n.Source[t],ELAPPEND(i,a),nody_loader_script_start(i),n._triggeringActiveEvents(i,o,"load"),r.touch()},function(){r.touch()}):(r.touch(),console.error("미리 정의되어있지 않은 플레이스 홀드키가 존재함 =>",e))})},active:function(t){var e=this.loadContainerContents(t);if(!e)return console.warn("정의되지 않은 컨테이너를 active하려고 함 => ",t);if(this.ContainerActiveKeys.has(t))return!1;if(0==this.multiActive){var n=this;this.ContainerActiveKeys.each(function(t){n.inactive(t)})}var r=Array.prototype.slice.call(this,1);this._triggeringActiveEvents(this.ContainerPlaceholder[t],t,"active",r),this.ContainerActiveKeys.push(t)},inactive:function(t){this.ContainerActiveKeys.has(t)&&(this.ContainerActiveKeys.remove(t),this._triggeringInactiveEvents(this.ContainerPlaceholder[t],t))},inactiveAll:function(){var t=this;this.ContainerActiveKeys.each(function(t){this._triggeringInactiveEvents(this.ContainerPlaceholder[t],t)}),this.ContainerActiveKeys.clear()}},function(t,e){var n=this;this._super(e,function(){PROPEACH(t,function(t,e){n.addContainer(t,e)}),this.multiActive=!1})}),nody.extendModule("NFContentLoaderBase","NFContentLoader",{_inactiveActivatedContents:function(t){var e=this;this.ContainerActiveKeys.each(function(n){e.saveContainerContents(e.ContainerPlaceholder[n].children,n),e._triggeringInactiveEvents(e.ContainerPlaceholder[n],n),t&&(e.ContainerPlaceholder[n].innerHTML="")}),this.ContainerActiveKeys.clear()},load:function(t){if(t in this.Source){var e=this,n=Array.prototype.slice.call(arguments,1);return this._inactiveActivatedContents(!0),this.loadHTML(t,this.Source[t],function(t,r){ELAPPEND(e.ContainerPlaceholder[t],r),nody_loader_script_start(e.ContainerPlaceholder[t]),e.ContainerActiveKeys.push(t),e._triggeringActiveEvents(e.ContainerPlaceholder[t],t,"load active",n)})}console.warn("불러올 소스의 경로가 존재하지 않습니다. => ",t,this.ContainerPlaceholder,this.Source)},active:function(t){if(this.ContainerActiveKeys.has(t))return!1;var e=Array.prototype.slice.call(arguments),n=this.loadContainerContents(t);return n?(this._inactiveActivatedContents(!0),ELAPPEND(this.ContainerPlaceholder[t],n),this.ContainerActiveKeys.push(t),e.shift(),this._triggeringActiveEvents(this.ContainerPlaceholder[t],t,"active",e),!0):this.load.apply(this,e)},link:function(t){loadHTML(t,void 0,function(t,e){var n=this.ContainerPlaceholder[this.ContainerActiveKeys.last()];n.innerHTML="",ELAPPEND(n,e)})}},function(t,e){var n=FSINGLE(t)[0],r=this;n?(this._super(e,function(){var t="initialContainer";this.addContainer(n,t),this.saveContainerContents(n.children,t),this.ContainerActiveKeys.push(t)}),PROPEACH(this.Source,function(t,e){r.addContainer(n,e)})):console.error("NFContentLoader::해당 컨테이너를 찾을수 없습니다. Navigation Controller의 작동을 완전히 중지합니다.=> ",t)}),nody.extendModule("NFContentLoaderBase","NFTabContents",{_inactiveActivatedContents:function(t){var e=this;this.ContainerActiveKeys.each(function(t){e._triggeringInactiveEvents(e.ContainerPlaceholder[t],t),ELSTYLE(e.ContainerPlaceholder[t],"display","none")}),this.ContainerActiveKeys.clear()},callAsLoad:function(t,e,n){if(t in this.Source){var r=this;return this.loadHTML(t,this.Source[t],function(t,i){ELAPPEND(r.ContainerPlaceholder[t],i),nody_loader_script_start(r.ContainerPlaceholder[t]),r._triggeringActiveEvents(r.ContainerPlaceholder[t],t,"load",e),CALL(n,this)})}console.warn("불러올 소스의 경로가 존재하지 않습니다. [loadKey : ",t,"] [placeholder(all) => ",this.ContainerPlaceholder,"] [Source => ",this.Source,"]")},load:function(t){this.callAsLoad(t,Array.prototype.slice.call(arguments,1))},active:function(t){if(this.ContainerActiveKeys.has(t))return!1;var e=Array.prototype.slice.call(arguments);return this._inactiveActivatedContents(!0),this.ContainerActiveKeys.push(t),ELSTYLE(this.ContainerPlaceholder[t],"display","block"),this._triggeringActiveEvents(this.ContainerPlaceholder[t],t,"active",e.slice(1)),!0},addContainer:function(t,e,n){var r=MAKE("div",{style:"height:100%;display:none;","data-container-name":e},t);this._super(r,e),n!==!1&&ELAPPEND(this.view,r),"initial-contents"!==e&&this.callAsLoad(e)},needFormController:function(t){return t&&"object"!=typeof t?"string"!=typeof t&&"number"!=typeof t?console.error("문자열 타겟이 아니면 폼컨트롤러를 반환할수 없습니다."):this.ContainerPlaceholder[t]?(this._viewsFormController||(this._viewsFormController=[]),this._viewsFormController[t]||(this._viewsFormController[t]=new NFFormController(this.ContainerPlaceholder[t])),this._viewsFormController[t]):console.error("존재하지 않은 컨트롤러 키의 폼컨트롤러를 호출하였습니다",t):(this._globalFormController||(this._globalFormController=new NFFormController(this.view)),this._globalFormController.addStatus(t),this._globalFormController)}},function(t,e){if(this.view=FSINGLE(t)[0],r=this,this.view){var n=!1,r=this,i=this.view.children;this._super(function(){if("function"==typeof e){var t=e.call(r,r);return t?t:INJECT(i,function(t,e,n){t[n]=e})}return e},function(){this.addContainer(i,"initial-contents")}),PROPEACH(this.Source,function(t,e){r.addContainer(n?t:void 0,e)})}else console.error("NFTabContents::해당 컨테이너를 찾을수 없습니다. Navigation Controller의 작동을 완전히 중지합니다.=> ",t)}),nody.singleton("NFDataContextNotificationCenter",{addObserver:function(t){t&&this.notificationObservers.push(t)},notification:function(t,e){DATAEACH(this.notificationObservers,function(n){"function"==typeof n[t]?n[t].apply(n,e):console.warn("NFDataContextNotificationCenter",t," : 노티피케이션 api가 존재하지 않습니다. =>",n)})},managedDataNeedRerender:function(t){this.notification("nManagedDataNeedRerender",[t])},managedDataChangePosition:function(t,e){this.notification("nManagedDataChangePosition",[t,e])},removeManagedData:function(t){this.notification("nManagedDataRemove",[t])},addChildData:function(t,e){this.notification("nManagedDataAppend",[t,e])},managedDataBindEvent:function(t,e,n,r){var i=this.notificationBindEventLock;this.notificationBindEventLock||(this.notificationBindEventLock=!0,this.notification("nManagedDataBindEvent",[t,e,n,r]),this.notificationBindEventLock=i)},managedDataBindEventLock:function(t){"boolean"==typeof t&&(this.notificationBindEventLock=t)}},function(){this.notificationObservers=new NFArray,this.notificationBindEventLock=!1}),nody.module("NFDataContext",{_clearPath:function(t){if(ISARRAY(t))return t;if("string"!=typeof t)throw new Error("DataContext::_clearPath::1:Invaild path => "+t);t=t.trim(),t=0==t.indexOf("/")?t.substr(1):t,t=this.ID+"/"+t;var e=new NFArray,n=t.split("/");return DATAEACH(n,function(t){var n=t.match(/\d/g);return null!=n&&n.join("")==t?void e.push(parseInt(t)):void e.push(t)}),e.remove(""),e},_clearStringPath:function(t){var e=this._clearPath(t);return ISARRAY(e)?e.join("/"):void 0},_clearData:function(t){var t=CLONE(t);return"object"==typeof t?ISARRAY(t)?{}:new NFObject(t).remove(this.SourceChildrenKey).get():void 0},_childrenData:function(t){if("object"==typeof t){if(ISARRAY(t))return CLONE(t);var e=t[this.SourceChildrenKey];if("object"==typeof e)return ISARRAY(e)?CLONE(e):[CLONE(e)]}},getFullDataWithPath:function(t){var t=this._clearPath(t);if(ISARRAY(t)){var e="",n=[this.Source],r=this;return DATAEACH(t,function(t){if("string"==typeof t)switch(t){case"/":case r.ID:break;case"*":n=new NFArray(n).getMap(function(t){return ISARRAY(t)?t:r.Source[r.SourceChildrenKey]}).flatten().remove(void 0)}else"number"==typeof t&&(n=new NFArray(n).getMap(function(e){if(ISARRAY(e))return e[t];var n=e[r.SourceChildrenKey];return ISARRAY(n)?n[t]:void 0}).remove(void 0))}),n}},feedDownManagedDataMake:function(t,e){if("object"==typeof t){var n=ISARRAY(t)?new NFManagedData(this,this._clearData(t),"array"):new NFManagedData(this,this._clearData(t),"object"),r=this._childrenData(t),i=[],o=this;return ISARRAY(r)&&DATAEACH(r,function(t){var e=o.feedDownManagedDataMake(t,n);e&&i.push(e)}),"object"==typeof e&&e.appendChild(n),n}console.warn("data초기 값은 반드시 object타입이여야 합니다.")},trace:function(t){var e=this;t||(t=this.RootManagedData);var n="array"==t.SourceType,r=n?"[":"{",i=n?"]":"}",o=[];for(var a in t.Source)o.push('"'+a+'":"'+t.Source[a]+'"');return t.Child.length>0&&o.push((n?"":'"'+this.SourceChildrenKey+'":[')+t.Child.getMap(function(t){return e.trace(t)}).join(", ")+(n?"":"]")),r+o.join(", ")+i},getJSONString:function(){return this.trace()},getJSONObject:function(){return JSON.parse(this.getJSONString())},getManagedData:function(t,e){if("/"==typeof t)return this.RootManagedData;0==t.indexOf("/")&&(t=this.ID+t);var n=t.split("/"),r=this.ID,i=this.RootManagedData,o;return DATAEACH(n,function(t){o=r==t?i:o.Child[parseInt(t)]}),o},querySelectData:function(t){var e=[this.RootManagedData];if("/"==t||""==t)return e;var n=[];return t.replace(/\*\*.+/g,"**").replace(/\/[^\/]+/g,function(t){n.push(t.substr(1))}),DATAEACH(n,function(t,n){var r=e,i=[];if(""==t)return!1;if("*"==t)DATAEACH(r,function(t){i=i.concat(t.Child.toArray())});else if("**"==t)DATAEACH(r,function(t){t.feedDownManagedData(function(){i.push(this)})});else if(/\[[^\]]+\]/.test(t)){var o={};
t.replace(new RegExp("\\[[\\w\\-\\_]+\\]|\\[\\'[\\w\\-\\_]+\\'\\]|\\[\\\"[\\w\\-\\_]+\\\"\\]","gi"),function(t){return o[t.substr(1,t.length-2)]=null,""}).replace(new RegExp("\\[[\\w\\-\\_]+\\=[^\\]]+\\]|\\[\\'[\\w\\-\\_]+\\'\\=\\'[^\\]]+\\'\\]|\\[\\\"[\\w\\-\\_]+\\\"\\=\\\"[^\\]]+\\\"\\]","gi"),function(e){var n=/\[([\"\'\w\-\_]+)(=|~=|)(.*|)\]$/.exec(e);n?o[UNWRAP(n[1],["''",'""'])]=n[3]?UNWRAP(n[3],["''",'""']):null:console.warn("//!devel target parse err",n,t)}),/\[[^\]]+\]\*\*$/.test(t)?DATAEACH(r,function(t){t.feedDownManagedData(function(){var t=this,e=!0;PROPEACH(o,function(n,r){return e=null===n||""===n?t.hasValue(r):t.value(r)==n}),e===!0&&i.push(t)})}):DATAEACH(r,function(t){var e=[];DATAEACH(t.Child,function(t){var e=!0;PROPEACH(o,function(n,r){return e=null===n||""===n?t.hasValue(r):t.value(r)==n}),e===!0&&i.push(t)})})}else ISNUMBERTEXT(t)?DATAEACH(r,function(e){var n=e.Child[parseInt(t)];n&&i.push(n)}):DATAEACH(r,function(e){DATAEACH(r,function(e){e.BindID==t&&i.push(e)})});e=i}),e},getManagedDataWithID:function(t){return this.RootManagedData.getManagedDataWithID(t)},getManagedDataWithOffset:function(t,e){var n=/(.*)\/([\d]+)$/.exec(t);return void(null===n&&console.error("getNextManagedData 에러",t));var r=this.getManagedData(n[1]+"/"+(parseInt(n[2])+e));return ISARRAY(r)&&(r=r[0]),r},getRootManagedData:function(){return this.RootManagedData}},function(t,e){this.ID=NFUtil.base36UniqueRandom(5,"co"),this.Source=TOOBJECT(t,"value"),this.SourceChildrenKey=e||"data",this.RootManagedData=this.feedDownManagedDataMake(this.Source,"root")}),nody.module("NFViewModel",{needRenderView:function(t,e,n,r){var i=1==ISTYPE(this.Source[t],"NFTemplate")?e.template(this.Source[t]):this.Source[t].call(e,e,n);if(i!==!1){if("object"==typeof i&&"nodeName"in i)return i;if(ISARRAY(i)){if(1==i.length)return i[0];var o=DATAZERO(i);return console.log("경고::NFViewModel의 최종 렌더 노드는 하나만 반환되어야 합니다",i),o}console.error("오류::NFViewModel의 렌더값이 올바르지 않습니다. 대체 렌더링이 실시됩니다.=>",i,this.Source[t])}return MAKE("div",{html:TOSTRING(e.value()),style:"padding-left:10px;"},e.placeholder("div"))},clone:function(){for(var t=this.Source.clone(),e=0,n=arguments.length;n>e;e++)arguments[e]&&(t[e]=arguments[e]);return _NFViewModel.apply(void 0,t.toArray())}},function(t){this.Source=new NFArray(Array.prototype.slice.call(arguments)).getMap(function(t){return"string"==typeof t?new NFTemplate(t):t})}),nody.module("NFManagedData",{appendChild:function(t){var e=this;DATAEACH(t,function(t){e.Child.push(t),t.Parent=e})},removeFromParent:function(){this.Parent&&(this.Parent.Child.remove(this),this.Parent=void 0)},removeChildren:function(t){var e=this;DATAEACH(t,function(t){var n=e.Child.indexOf(t),r=e.Child[n];r&&r.removeFromParent()})},breakableFeedDownManagedData:function(t,e){var n=t.call(this,e);return n!==!1&&DATAEACH(this.Child,function(e){return e.breakableFeedDownManagedData(t,n)}),n},feedDownManagedData:function(t,e){var n=t.call(this,e);return DATAEACH(this.Child,function(e){e.feedDownManagedData(t,n)}),this},feedUpManageData:function(t,e){var e=e?e:0,n=this.Child;return e++,DATAEACH(n,function(n){n.feedUpManageData(t,e)}),t(this,e-1),this},chainUpMangedData:function(t){"function"==typeof t&&(t.call(this),this.Parent&&this.Parent.chainUpMangedData(t))},replaceValue:function(t,e){ISTYPE(t,"NFManagedData")&&(t=t.value()),"object"==typeof t&&(this.Source=CLONE(t)),e===!0&&this.rerender()},hasValue:function(t){return t in this.Source},value:function(t,e,n){if(0==arguments.length)return CLONE(this.Source);if(1==arguments.length){if("object"==typeof t){for(var r in t)this.value(r,t[r],n);return this}return this.Source[t]}return this.Source[t]=e,NFDataContextNotificationCenter.managedDataBindEvent(this.BindID,t,e,n),this},removeValue:function(t,e){t in this.Source&&(delete this.Source[t],NFDataContextNotificationCenter.managedDataBindEvent(this.BindID,t,"",e))},text:function(t){return MAKETEXT(this.value.apply(this,arguments))},bind:function(t,e,n){if(this.scope){var r=ISELNODE(e)?e:CREATE("undefined"==typeof e?"input!"+e:e);return this.scope.addBindNode(r,this,t,!this.hasValue(t)),r}console.warn("view컨트롤러 스코프 내에서만 bind를 사용할수 있습니다.")},hidden:function(t){return this.bind(t,"hidden!"+t)},action:function(t,e,n){if(this.scope){var r=ISELNODE(e)?e:CREATE(e);return this.scope.addActionNode(t,r,this,n),r}console.warn("view컨트롤러 스코프 내에서만 action을 사용할수 있습니다.")},placeholder:function(t){if(this.scope){var e=ISELNODE(t)?t:CREATE(t);return this.scope.addPlaceholderNode(this.BindID,e),e}},template:function(t,e){var n,r=this;if("object"==typeof e&&(e=PROPMAP(e,function(t){return"function"==typeof t?function(){return t.apply(r,Array.prototype.slice.call(arguments))}:t})),"object"==typeof t)n=t.clone(this.value(),e);else{if("string"!=typeof t)return console.error("template 값이 잘못되어 랜더링을 할수 없었습니다.",t),!1;n=new NFTemplate(t,this.value(),e,!0)}return n.isEmpty()?(console.error("template :: 렌더링할 template를 찾을수 없습니다",n),!1):(n.partialNodeProps(["bind","action","placeholder"],function(t,e,n){switch(n){case"bind":r.bind(t,e);break;case"action":"nf-param"in e.attributes?(r.action(t,e,TOOBJECT(e.getAttribute("nf-param"))),e.removeAttribute("nf-param")):r.action(t,e);break;case"placeholder":r.placeholder(e)}}),n)},revertData:function(){this.context.getDataWithPath(this.path)},getPath:function(){var t=new NFArray;return this.chainUpMangedData(function(){t.push(this.Parent?this.Parent.Child.indexOf(this):this.context.ID)}),t.reverse().join("/")},querySelectData:function(t){return""==t||"/"==t?[this]:this.context.querySelectData(this.getPath()+"/"+t)},getManagedDataWithID:function(t){if("string"==typeof t){var e;return this.breakableFeedDownManagedData(function(){return this.BindID==t?(e=this,!1):void 0}),e}},getParentManagedData:function(){return this.Parent},getChildManagedData:function(){return this.Child},hasParentManagedData:function(){return!!this.Parent},hasChildManagedData:function(){return!!this.Child.length},getDepth:function(){var t=0;return this.feedUpManageData(function(e,n){n+1>t&&(t=n+1)}),t},getLevel:function(){var t=0;return this.chainUpMangedData(function(){this.Parent?t++:void 0}),t},getIndex:function(){return this.Parent.Child.indexOf(this)},getBindID:function(){return this.BindID},getContextID:function(){return this.context.ID},findById:function(t){if(this.BindID==t)return this;var e;return this.Child.each(function(n){return e=n.findById(t),e?!1:void 0}),e},rerender:function(){NFDataContextNotificationCenter.managedDataNeedRerender(this)},managedDataIndexExchange:function(t){if(t){var e=this.BindID,n=t.BindID,r=this.getIndex(),i=t.getIndex();return this.Parent.Child.changeIndex(r,i),NFDataContextNotificationCenter.managedDataChangePosition(e,n),!0}return!1},managedDataIncrease:function(){var t=this.Parent.Child[this.Parent.Child.indexOf(this)+1];return t?this.managedDataIndexExchange(t):!1},managedDataDecrease:function(){var t=this.Parent.Child[this.Parent.Child.indexOf(this)-1];return t?this.managedDataIndexExchange(t):!1},removeManagedData:function(t){t===!0?(this.removeFromParent(),NFDataContextNotificationCenter.removeManagedData(this.BindID)):this.feedUpManageData(function(t){t.removeManagedData(!0)})},addChildData:function(t){if("function"==typeof t&&(t=t()),"object"==typeof t){this.context.feedDownManagedDataMake(t||{},this);var e=this.Child.getLast();return NFDataContextNotificationCenter.addChildData(this.BindID,e),e}console.warn("addChildData :: append data가 들어오지 않았습니다",t)},addMemberData:function(t){return this.Parent?this.Parent.addChildData(t):void 0}},function(t,e,n){this.BindID=NFUtil.base62UniqueRandom(8,"ma"),this.context=t,this.Source=e,this.SourceType=n||"object",this.Child=new NFArray,this.Parent=void 0,this.scope=void 0}),nody.module("NFPresentor",{"+events":{up:function(t,e,n){"function"==typeof t?0!=t(this,element)&&this.managedDataDecrease():this.managedDataDecrease()},down:function(t,e,n){"function"==typeof t?0!=t(this,element)&&this.managedDataIncrease():this.managedDataIncrease()},"delete":function(t,e,n){this.removeManagedData()},append:function(t,e,n){this.addChildData(t)}},addActionEvent:function(t,e){"function"==typeof e&&(this.events[t]=e)},nManagedDataChangePosition:function(t,e){var n=this.structureNodes[t],r=this.structureNodes[e];if(n&&r){var i=CREATE("div"),o=CREATE("div");ELBEFORE(n,i),ELBEFORE(r,o),ELBEFORE(i,r),ELBEFORE(o,n),ELREMOVE(i),ELREMOVE(o),CALL(this.dataDidChange,this)}},nManagedDataRemove:function(t){if(this.structureNodes[t]){var e=this,n=new NFArray;DATAEACH(this.bindValueNodes,function(r){var i=FIND(r[2],e.structureNodes[t],0);i&&n.push(r)}),n.each(function(t){e.bindValueNodes.remove(t)}),ELREMOVE(this.structureNodes[t]),delete this.structureNodes[t],CALL(this.dataDidChange,this)}this.placeholderNodes[t]&&delete this.placeholderNodes[t]},nManagedDataNeedRerender:function(t){var e=t.getParentManagedData();if(e){var n=this.placeholderNodes[e.getBindID()],r=this.structureNodes[t.getBindID()],i=this.placeholderNodes[t.getBindID()];r||console.error("rerender 대상의 데이터를 찾을 수 없습니다."),n?(this.needDisplay(t,n,!0),ELBEFORE(r,this.structureNodes[t.BindID]),i&&ELAPPEND(this.placeholderNodes[t.BindID],i.children),ELREMOVE(r),CALL(this.dataDidChange,this)):console.error("부모의 placeholder가 존재해야 rerender가 작동할수 있습니다.")}else this.needDisplay(t),CALL(this.dataDidChange,this)},nManagedDataAppend:function(t,e){this.placeholderNodes[t]&&(this.needDisplay(e,this.placeholderNodes[t]),CALL(this.dataDidChange,this))},nManagedDataBindEvent:function(t,e,n,r){var i=!1;DATAEACH(this.bindValueNodes,function(o){o[0]==t&&o[1]==e&&(i=!0,o[2]!=r&&ELVALUE(o[2],n))}),1==i&&CALL(this.dataDidChange,this)},addPlaceholderNode:function(t,e){"string"==typeof t&&ISELNODE(e)&&(this.placeholderNodes[t]=e)},addBindNode:function(t,e,n,r){if(ISELNODE(t))switch(ELVALUE(t,e.value(n)),this.bindValueNodes.push([e.BindID,n,t]),t.tagName.toLowerCase()){case"input":ELON(t,"keyup",function(i){setTimeout(function(){var i=ELVALUE(t);return 1==r&&""==i?e.removeValue(n,t):void e.value(n,i,t)},0)});break;case"select":ELON(t,"change",function(i){setTimeout(function(){var i=ELVALUE(t);return 1==r&&""==i?e.removeValue(n,t):void e.value(n,i,t)},0)})}else console.warn("DataBehavior::bind::element를 바인딩할 수 없습니다. 지시자의 오류입니다. =>=>",bindEl,t)},addActionNode:function(t,e,n,r){var i=this;ELON(e,"click",function(){"function"==typeof i.events[t]?i.events[t].call(n,r,e,i):console.warn(t,"에 해당하는 이벤트가 없습니다.")})},setManagedData:function(t){return ISTYPE(t,"NFDataContext")&&(t=t.getRootManagedData()),ISTYPE(t,"NFManagedData")?(this.managedData=t,CALL(this.dataDidChange,this),!0):"object"==typeof t?(this.managedData=new NFDataContext(t).getRootManagedData(),!0):(console.warn("setManagedData::managedData 오브젝트가 필요합니다. 들어온 값->",t),!1)},needDisplay:function(t,e,n){this.managedData||console.warn("DataContextViewController:: Must need set NFManagedData before needdisplay"),this.viewModel||console.warn("DataContextViewController:: Must need set NFViewModel before needdisplay"),t||e||(this.view.innerHTML="",this.bindValueNodes=new NFArray,this.structureNodes={},this.placeholderNodes={},this.selectIndexes=new NFArray),t=t||this.managedData,e=e||this.view;var r=this,i=ARRAYARRAY(this.managedData.getDepth()),o=null,a=this.managedData.getLevel(),s=t.getLevel(),u=function(t,e,n){t.setAttribute("data-managed-id",e.BindID),t.setAttribute("data-managed-depth",n)};if(1==n){t.scope=r;var c=r.viewModel.needRenderView(s-a,t,[],r);u(c,t,s-a),e.appendChild(c),(ISELNODE(c)||ISTEXTNODE(c))&&(r.structureNodes[t.BindID]=c),t.scope=void 0}else t.feedUpManageData(function(t,n){null==o&&(o=n),t.scope=r;var c;if(n==s)c=r.viewModel.needRenderView(n-a,t,i[n+1],r),u(c,t,n),e.appendChild(c),r.placeholderNodes[t.BindID]&&ELAPPEND(r.placeholderNodes[t.BindID],i[n+1]),i[n+1]=[];else if(o>n){var c=r.viewModel.needRenderView(n-a,t,i[o],r);u(c,t,n),r.placeholderNodes[t.BindID]&&ELAPPEND(r.placeholderNodes[t.BindID],i[o]),i[o]=[],i[n].push(c)}else{var c=r.viewModel.needRenderView(n-a,t,[],r);u(c,t,n),i[n].push(c)}o=n,(ISELNODE(c)||ISTEXTNODE(c))&&(r.structureNodes[t.BindID]=c),t.scope=void 0},s)},needDisplayWithViewModel:function(t){this.viewModel=t,this.needDisplay()},needDisplayWithData:function(t){this.setManagedData(t)?this.needDisplay():console.warn("데이터를 초기화하는데 실패하였습니다. 데이터의 형식이 잘못되었습니다.",t)},getManagedDataWithNode:function(t,e){if(e===!0){for(var n in this.structureNodes)if(this.structureNodes[n]===t)return this.managedData.getManagedDataWithID(n)}else{if(ELIS(t,"[data-managed-id]"))return this.getManagedDataWithNode(t,!0);var r=FINDPARENT(t,"[data-managed-id]");if(r)return this.getManagedDataWithNode(r,!0)}},findWithManagedData:function(t){return this.structureNodes[t.getBindID()]},findWithBindID:function(t){return this.structureNodes[t]},needActiveController:function(t,e,n,r,i){if(t.indexOf("/")>=0){var o=this,a=this.managedData;return t="string"==typeof t?t:"/*",new NFActiveController(this.view,function(){return DATAMAP(a.querySelectData(t),function(t){return o.structureNodes[t.BindID]},DATAFILTER)},"click",function(t){return CALL(e,this,t,o.getManagedDataWithNode(this))},i,n,r)}var o=this;return new NFActiveController(this.view,t,"click",function(t){return CALL(e,this,t,o.getManagedDataWithNode(this),o)},i,n,r)},whenDataDidChange:function(t){("function"==typeof t||void 0==t)&&(this.dataDidChange=t)},"+dataDidChange":void 0},function(t,e,n,r){this.view=FSINGLE(t)[0],this.view||console.error("초기화 실패 View를 찾을수 없음 => ",t),e&&this.setManagedData(e),this.viewModel=n?ISARRAY(n)?_NFViewModel.apply(void 0,TOARRAY(n)):n:new NFViewModel,this.bindValueNodes=[],this.structureNodes={},this.placeholderNodes={},NFDataContextNotificationCenter.addObserver(this),"function"==typeof r&&(r=CALL(r,this)),r===!0&&this.needDisplay()}),nody.module("NFTimeCounter",{timeoutHandler:function(){if(this._timeout&&clearTimeout(this._timeout),this._moveEnd>+new Date){CALL(this._whenMoving,this,100-(this._moveEnd-+new Date)/this.duration*100);var t=this;this._timeout=setTimeout(function(){t.timeoutHandler.call(t)},this.rate)}else this.moveStart=null,this.moveEnd=null,CALL(this._whenMoving,this,100),CALL(this._whenMoveFinish,this,100)},start:function(){var t=this;this._moveStart=+new Date,this._moveEnd=this._moveStart+this.duration,this.timeoutHandler()},whenCounting:function(t){this._whenMoving=t},whenCountFinish:function(t){this._whenMoveFinish=t}},function(t,e,n,r,i){t&&this.whenCounting(t),e&&this.whenCountFinish(e),this.duration="number"==typeof n?n:300,this.rate="number"==typeof r?r:20,(e===!0||n===!0||r===!0||i===!0)&&this.start()}),nody.module("NFTimeFire",{cancel:function(t){t!==!1&&CALL(this._whenCancle,this),clearTimeout(this._timeout),this._timeout=null},trigger:function(t){if(t===!1||CALL(this.whenTriggering,this)!==!1){this._timeout&&clearTimeout(this._timeout);var e=this;this._timeout=setTimeout(function(){CALL(e._whenWillFire,e)!==!1&&(CALL(e._whenFire,e),CALL(e._whenDidFire,e)),e.cancel(!1)},this.initFireTime)}},whenTriggering:function(t){this._whenTriggering=t},whenCancle:function(t){this._whenCancel=t},whenWillFire:function(t){this._whenWillFire=t},whenFire:function(t){"function"!=typeof t&&console.error("NFTimeFire:: Fire시 메서드가 들어오지 않았습니다."),this._whenFire=t},whenDidFire:function(t){this._whenDidFire=t}},function(t,e,n,r){this.initFireTime="number"==typeof t?t:300,this.rate="number"==typeof r?r:50,this.whenFire(e),this._timeout=null,n===!0&&this.trigger()}),nody.method("ATOB",function(t,e,n){return t=TONUMBER(t),e=TONUMBER(e),n=TONUMBER(n),(e-t)/100*n+t}),nody.module("NFResize",{width:function(){return this.Source.offsetWidth},height:function(){return this.Source.offsetHeight},trigger:function(t){this.Handler(t)},destroy:function(){ELOFF(window,"resize",this.Handler)}},function(t,e,n,r){if(this.Source=FSINGLE(t)[0],this.TriggeringMethod=e,this.Delay=TONUMBER(r),this.Source&&this.TriggeringMethod){n!==!0&&(this.lastWidth=this.Source.offsetWidth,this.lastHeight=this.Source.offsetHeight);var i=this;this.Handler=function(t){if(i.Delay)var e=setTimeout(function(){(0!=i.Source.offsetWidth&&0!=i.Source.offsetHeight||"HTML"===FINDPARENTS(i.Source,DATALAST).tagName)&&((i.lastWidth!==i.Source.offsetWidth||i.lastHeight!==i.Source.offsetHeight)&&(i.lastWidth=i.Source.offsetWidth,i.lastHeight=i.Source.offsetHeight,i.TriggeringMethod.call(i.Source,t,i)),clearTimeout(e))},i.Delay);else{if(0==i.Source.offsetWidth&&0==i.Source.offsetHeight)return;(i.lastWidth!==i.Source.offsetWidth||i.lastHeight!==i.Source.offsetHeight)&&(i.lastWidth=i.Source.offsetWidth,i.lastHeight=i.Source.offsetHeight,i.TriggeringMethod.call(i.Source,t,i))}},n===!0&&this.Handler({}),ELON(window,"resize",this.Handler)}}),nody.module("NFTouch",{getPinchDistance:function(t,e,n,r){return Math.sqrt(Math.pow(t-n,2),Math.pow(e-r,2))},setAllowVirtureTouch:function(t,e){if(!this.AllowVirtureTouch&&t){this.AllowVirtureTouch=!0;var n=!1,r=this.Source,i=this.AllowOuterEvent?document.body:this.Source;if(ELON(r,"mousedown",function(t){n=!0,t.preventDefault(),ELTRIGGER(r,"touchstart",{touches:[{pageX:t.pageX,pageY:t.pageY}]})}),ELON(i,"mousemove",function(t){n&&(t.preventDefault(),ELTRIGGER(i,"touchmove",{touches:[{pageX:t.pageX,pageY:t.pageY}]}))}),ELON(i,"mouseup",function(t){n=!1,t.preventDefault(),ELTRIGGER(i,"touchend",{touches:[{pageX:t.pageX,pageY:t.pageY}]})}),0==this.AllowOuterEvent&&ELON(r,"mouseout",function(t){t.target==t.currentTarget&&(n=!1,t.preventDefault(),ELTRIGGER(r,"touchend",{touches:[{pageX:t.pageX,pageY:t.pageY}]}))}),this.AllowVirtureTouchScale=!!e,this.AllowVirtureTouchScale){var o=this;ELON(r,"mousewheel",function(t){t.preventDefault(),CALL(o.GestureListener.pinch,this,t.wheelDelta/1500)})}}},applyTouchEvent:function(t){if("boolean"==typeof t){if("undefined"==typeof this._applyTouchEvent){var e=this;this._currentTouchStartEvent=function(t){return e.GestureListener.pinch&&2===t.touches.length?(t.stopPropagation(),t.preventDefault(),e.StartPinchValue=e.getPinchDistance(t.touches[0].pageX,t.touches[0].pageY,t.touches[1].pageX,t.touches[1].pageY),void CALL(e.GestureListener.pinchStart,e.Source,t)):(e.GestureListener.touchMove&&1===t.touches.length&&(t.stopPropagation(),e.StartTouchMoveX=e.TouchMoveX=t.touches[0].pageX,e.StartTouchMoveY=e.TouchMoveY=t.touches[0].pageY),void(e.GestureListener.touchStart&&1===t.touches.length&&(t.stopPropagation(),CALL(e.GestureListener.touchStart,e.Source,t.touches[0].pageX,t.touches[0].pageY,t))))},this._currentTouchMoveEvent=function(t){if(e.GestureListener.pinch&&e.StartPinchValue&&2===t.touches.length){if(!e.AllowPinch)return;t.stopPropagation(),t.preventDefault();var n=e.getPinchDistance(t.touches[0].pageX,t.touches[0].pageY,t.touches[1].pageX,t.touches[1].pageY);CALL(e.GestureListener.pinch,e.Source,-(e.StartPinchValue/n-1))}if(e.StartPinchValue)return e.StartTouchMoveX=e.TouchMoveX=void 0,void(e.StartTouchMoveY=e.TouchMoveY=void 0);if(e.GestureListener.touchMove&&1===t.touches.length){if(void 0===e.StartTouchMoveX)return;var r=t.touches[0].pageX-e.TouchMoveX,i=t.touches[0].pageY-e.TouchMoveY;e.TouchMoveX=t.touches[0].pageX,e.TouchMoveY=t.touches[0].pageY,CALL(e.GestureListener.touchMove,e.Source,r,i,t)!==!1?(t.stopPropagation(),t.preventDefault()):e._currentTouchStartEvent(t)}},this._currentTouchEndEvent=function(t){t.stopPropagation(),e.StartTouchMoveX=e.TouchMoveX=void 0,e.StartTouchMoveY=e.TouchMoveY=void 0,e.StartPinchValue=void 0,CALL(e.GestureListener.touchEnd,t)},this._applyTouchEvent=!1}if(this._applyTouchEvent!==t){var n=this.AllowOuterEvent?document.body:this.Source;t?(ELON(this.Source,"touchstart",this._currentTouchStartEvent),ELON(n,"touchmove",this._currentTouchMoveEvent),ELON(n,"touchend",this._currentTouchEndEvent)):(ELOFF(this.Source,"touchstart",this._currentTouchStartEvent),ELOFF(n,"touchmove",this._currentTouchMoveEvent),ELOFF(n,"touchend",this._currentTouchEndEvent)),this._applyTouchEvent=t}}},getGestureX:function(){return this.TouchMoveX-this.StartTouchMoveX},getGestureY:function(){return this.TouchMoveY-this.StartTouchMoveY},whenPinchStart:function(t){this.GestureListener.pinchStart=t},whenPinch:function(t){this.GestureListener.pinch=t},whenTouchStart:function(t){this.GestureListener.touchStart=t},whenTouchBegin:function(t){this.GestureListener.touchBegin=t},whenTouchMove:function(t){this.GestureListener.touchMove=t},whenTouchEnd:function(t){this.GestureListener.touchEnd=t},destroy:function(){this.applyTouchEvent(!1)}},function(t,e,n){this.Source=FSINGLE(t)[0],this.GestureListener={},this.StartPinchValue,this.StartTouchMoveX,this.StartTouchMoveY,this.TouchMoveX,this.TouchMoveY,this.AllowOuterEvent=!(e!==!0),this.AllowPinch=!0;var r=this;this.Source&&this.applyTouchEvent(!0),n===!0&&this.setAllowVirtureTouch(!0)}),nody.module("NFScrollBox",{needScrollingOffsetX:function(t){if(!this.allowScrollX||0==t||"number"!=typeof t)return!1;var e=this.Source.scrollLeft+-t;return 0>e&&(e=0),e>this.Source.scrollWidth&&(e=this.Source.scrollWidth),this.Source.scrollLeft!=e?(this.Source.scrollLeft=e,!0):!1},needScrollingOffsetY:function(t){if(!this.allowScrollY||0==t||"number"!=typeof t)return!1;var e=this.Source.scrollTop+-t;return 0>e&&(this.needNegativeDrawItem(),e=this.Source.scrollTop+-t,0>e&&(e=0)),e>this.Source.scrollHeight-this.Source.offsetHeight&&(this.needPositiveDrawItem(),e>this.Source.scrollHeight&&(e=this.Source.scrollHeight)),this.Source.scrollTop!==e?(this.Source.scrollTop=e,!0):!1},needScrollingToX:function(t){return this.needScrollingOffsetX(this.Source.scrollLeft-t)},needScrollingToY:function(t){return this.needScrollingOffsetY(this.Source.scrollTop-t)},needScrollingTo:function(t,e){return this.needScrollingToX(t),this.needScrollingToY(e)},needScrollingPercentY:function(t){if("number"==typeof t){0>t&&(t=0),t>100&&(t=100);var e=(this.Source.scrollHeight-this.Source.offsetHeight)/100*t;this.Source.scrollTop=e}},drawAxisYItem:function(t){this._drawAxisYItem=t},setAllowMakeAxisYItem:function(t,e){"boolean"==typeof t?this.axisYPositiveLength=t?100:0:"number"==typeof t&&(this.axisYPositiveLength=t),"boolean"==typeof e?this.axisYNegativeLength=e?100:0:"number"==typeof e&&(this.axisYNegativeLength=e),this.needPositiveDrawItem()},focusTo:function(t){var e=FIND(t,this.Source,0);if(e){var n=FINDOFFSET(e,this.ClipView);if(n)return this.needScrollingToX(n.x+n.width/2-this.Source.offsetWidth/2),this.needScrollingToY(n.y+n.height/2-this.Source.offsetHeight/2),e}return!1},needPositiveDrawItem:function(){if("function"==typeof this._drawAxisYItem)for(var t=this.axisYPositiveItems.length,e=this.axisYPositiveLength;e>t;t++){var n=this._drawAxisYItem(t);if(ISELNODE(n)){if(this.axisYPositiveItems.push(n),ELAPPEND(this.ClipView,n),this.Source.offsetHeight<this.ClipView.offsetHeight-this.Source.offsetTop)break}else console.warn("needPositiveDrawItem::렌더링 에러 더이상 드로잉 할수 없습니다.")}},needNegativeDrawItem:function(){if("function"==typeof this._drawAxisYItem&&this.axisYNegativeItems.length<this.axisYNegativeLength){var t=-1*this.axisYNegativeItems.length-1,e=this._drawAxisYItem(t);if(!ISELNODE(e))return console.warn("drawAxisYItem의 값이 잘못되었습니다 노드를 반환해주세요",e);this.axisYNegativeItems.push(e),ELPREPEND(this.ClipView,e),this.Source.scrollTop=this.Source.scrollTop+e.offsetHeight}},restUp:function(){return this.Source.scrollTop},restDown:function(){return this.Source.scrollHeight-this.Source.offsetHeight-this.Source.scrollTop},restYSpace:function(){var t=this.Source.scrollTop,e=this.Source.scrollHeight-this.Source.offsetHeight-this.Source.scrollTop;return e>t?t:e},setAllowVirtureTouch:function(t){this.Touch.setAllowVirtureTouch(!0)},whenScroll:function(t){this.ScrollEvent.Scroll=t?BINDFUNCTION(this.ScrollEvent.Scroll,t):void 0},applyScrollEvent:function(t){if("boolean"==typeof t){if("undefined"==typeof this._applyScrollEvent){var e=this;this._currentMouseWheelEvent||(this._currentMouseWheelEvent=function(t){t.wheelDeltaY?(0!==t.wheelDeltaY&&1==e.needScrollingOffsetY(t.wheelDeltaY/3)&&0!==e.restYSpace()&&(t.stopPropagation(),t.preventDefault()),0!==t.wheelDeltaX&&1==e.needScrollingOffsetX(t.wheelDeltaX/3)&&(t.stopPropagation(),t.preventDefault())):t.wheelDelta&&0!==t.wheelDelta&&e.needScrollingOffsetY(t.wheelDelta/3)!==!1&&0!==e.restYSpace()&&(t.stopPropagation(),t.preventDefault())}),this._currentScrollEvent||(this._currentScrollEvent=function(t){return t.stopPropagation(),t.preventDefault(),CALL(e.ScrollEvent.Scroll,e,t)}),this._applyScrollEvent=!1}this._applyScrollEvent!==t&&(t?(ELON(this.Source,"mousewheel",this._currentMouseWheelEvent),ELON(this.Source,"scroll",this._currentScrollEvent),this.Touch.applyTouchEvent(!0)):(ELOFF(this.Source,"mousewheel",this._currentMouseWheelEvent),ELOFF(this.Source,"scroll",this._currentScrollEvent),this.Touch.applyTouchEvent(!1)),this._applyScrollEvent=t)}},getBoundsInfo:function(){return{frame:{width:this.Source.offsetWidth,height:this.Source.offsetHeight},clipview:{x:this.Source.scrollLeft,y:this.Source.scrollTop,width:this.ClipView.offsetWidth,height:this.ClipView.offsetHeight||this.Source.offsetHeight},contents:{width:this.Source.scrollWidth,height:this.Source.scrollHeight}}}},function(t,e,n){if(this.Source=FSINGLE(t)[0],this.isMoving=!1,this.Source){switch(this.axisYPositiveLength=0,this.axisYNegativeLength=0,this.axisYPositiveItems=[],this.axisYNegativeItems=[],this.ClipView=MAKE("div.nody-scroll-box-clip-view[style=min-height:100%]"),ELSTYLE(this.ClipView,"transform","matrix(1,0,0,1,0,0)"),ELSTYLE(this.ClipView,"position","relative"),ELAPPEND(this.ClipView,this.Source.childNodes),ELAPPEND(this.Source,this.ClipView),this.ScrollEvent={},this.Touch=new NFTouch(this.Source),e){case"horizontal":this.allowScrollX=!0,this.allowScrollY=!1;break;case"vertical":this.allowScrollX=!1,this.allowScrollY=!0;break;default:void 0!==e&&console.warn("NFScrollBox :: direction 파라메터 영역에 알수없는 커멘드가 들어왔습니다.",e),this.allowScrollX=!0,this.allowScrollY=!0}ELSTYLE(this.Source,"overflow","hidden"),ELSTYLE(this.Source,"position","relative");var r=this;this.Touch.whenTouchMove(function(t,e,n){var i=!1;return 0!==e&&1==r.needScrollingOffsetY(e)&&0!==r.restYSpace()&&(i=!0),0!==t&&1==r.needScrollingOffsetX(t)&&(i=!0),i&&(r.isMoving=!0),i}),this.Touch.whenTouchEnd(function(){var t=setTimeout(function(){r.isMoving=!1,clearTimeout(t)},10)}),this.applyScrollEvent(!0),n===!0&&this.setAllowVirtureTouch(!0)}else console.warn("ScrollBox제대로 불러오지 못했습니다.",t)}),nody.extendModule("NFScrollBox","NFZoomBox",{needZoom:function(t){if(t=TONUMBER(t),t<this.zoomMin&&(t=this.zoomMin),t>this.zoomMax&&(t=this.zoomMax),t===this.ZoomValue)return!1;var e=Math.floor((this.ClipView.offsetWidth*t-this.ClipView.offsetWidth)/2),n=Math.floor((this.ClipView.offsetHeight*t-this.ClipView.offsetHeight)/2),r=this.ZoomValue-t;0!==r&&(this.needScrollingOffsetX(this.Source.offsetWidth*r/2),this.needScrollingOffsetY(this.Source.offsetHeight*r/2)),ELSTYLE(this.ClipView,"transform","matrix("+t+",0,0,"+t+","+e+","+n+")");var i=this;return this.wasClipTimeout||clearTimeout(this.wasClipTimeout),this.wasClipTimeout=setTimeout(function(){CALL(i.ZoomEvent,i)},305),CALL(this.ZoomEvent,this),this.ZoomValue=t,!0},needZoomWithOffset:function(t){return this.needZoom(this.ZoomValue+t)},whenZoom:function(t){this.ZoomEvent=t},resizeFix:function(){this.nzClipWidth=this.Source.scrollWidth,this.nzClipHeigth=this.Source.scrollHeight},getBoundsInfo:function(){var t=this._super();return t.clipview.zoom=this.ZoomValue,t.contents.nzWidth=this.nzClipWidth,t.contents.nsHeight=this.nzClipHeigth,t},setAllowZoom:function(t){return this.Touch.allowPinch=!!t,this._allowZoom=!!t,this}},function(t,e){var n=this;this._currentMouseWheelEvent=function(t){t.preventDefault(),n._allowZoom&&t.wheelDelta&&n.needZoomWithOffset(t.wheelDelta/1500)},this._super(t),this.ZoomValue=1,this.zoomMin=1,this.zoomMax=3,this.ZoomEvent,this.resizeFix(),this._allowZoom=!0,this.Touch.whenPinch(function(t,e){n._allowZoom&&n.needZoomWithOffset(t/30)}),this.setAllowVirtureTouch(!0),"number"==typeof e&&this.needZoom(e)}),nody.module("NFScrollTrack",{resizeFix:function(){if(this._autoScrollTrackHeight&&this._autoScrollBoxSync){var t=this._autoScrollBoxSync,e=100/t.Source.scrollHeight*t.Source.offsetHeight/100;ELSTYLE(this.ScrollHanlde,"height",TOPX(this.ScrollTrack.offsetHeight*e))}this.scrollLength=this.ScrollTrack.offsetHeight-this.ScrollHanlde.offsetHeight,"number"!=typeof this.scrollPoint&&(this.scrollPoint=0)},needScrollOffset:function(t){var e=this.scrollPoint+t;this.scrollPoint=0>e?0:e>this.scrollLength?this.scrollLength:e,ELSTYLE(this.ScrollHanlde,"top",TOPX(this.scrollPoint)),CALL(this._whenScroll)},needScrollPercent:function(t){ELSTYLE(this.ScrollHanlde,"top",TOPX(this.scrollLength/100*t))},whenScroll:function(t){var e=this;"function"==typeof t&&(this._whenScroll=function(){t.call(e,100/e.scrollLength*e.scrollPoint)})},syncWithScrollBox:function(t){if("object"==typeof t&&"needScrollingPercentY"in t){var e=this;this.whenScroll(function(e){t.needScrollingPercentY(e)}),t.whenScroll(function(n,r,i){e.needScrollPercent(100/(t.Source.scrollHeight-t.Source.offsetHeight)*t.Source.scrollTop)}),this._autoScrollBoxSync=t,this.resizeFix()}}},function(t,e,n,r){if(this.Source=FSINGLE(t)[0],!this.Source)return console.warn("스크롤바 초기화 실패하였습니다.");this.ScrollHanlde=MAKE("div.nody-scroll-handle",{style:"position:relative;"}),this.ScrollTrack=MAKE("div.nody-scroll-track",{style:"position:absolute;"},this.ScrollHanlde),ELPUT(this.Source,this.ScrollTrack),this.Touch=new NFTouch(this.ScrollHanlde,!0),this.Touch.setAllowVirtureTouch(!0);var i=this;this.Touch.whenTouchMove(function(t,e){i.ScrollTrack.offsetHeight-i.ScrollHanlde.offsetHeight>0&&i.needScrollOffset(e)}),n!==!1&&ELON(window,"resize",function(){i.resizeFix()}),this._autoScrollTrackHeight=r,this.resizeFix()})}(window,nody.env);