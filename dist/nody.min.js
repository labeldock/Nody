/* Nody js
 * GIT         // https://github.com/labeldock/Nody
 * Copyright HOJUNG-AHN. and other contributors
 * Released under the MIT license
 */
!function(){var N=function(){return N.API.apply(window,Array.prototype.slice.call(arguments))};!function(W,NGetters,NSingletons,NModules,NStructure,nody){N.VERSION="0.28.3",N.BUILD="1240",N.CORE_VERSION="2.0.4",N.CORE_BUILD="90","object"!=typeof W.console&&(W.console={}),"log info warn error count assert dir clear profile profileEnd".replace(/\S+/g,function(t){t in W.console||(W.console[t]=function(){if("object"==typeof air&&"trace"in air){for(var t=Array.prototype.slice.call(arguments),e=[],n=0,r=t.length;r>n;n++)switch(typeof t[n]){case"string":case"number":e.push(t[n]);break;case"boolean":e.push(t[n]?"true":"false");break;default:e.push(N.toString(t[n]))}air.trace(e.join(", "))}})});var MARKO={};W.MARK=function(t){if("string"==typeof t||"number"==typeof t){if(t+="","number"==typeof MARKO[t]){var e=+new Date-MARKO[t];return console.info("MARK::"+t+" => "+e),delete MARKO[t],e}console.info("MARK START::"+t),MARKO[t]=+new Date}},String.prototype.trim||(String.prototype.trim=function(){return this.replace(/(^\s*)|(\s*$)/gi,"")}),"undefined"==typeof W.JSON&&(W.JSON={parse:function(s){var r;try{r=eval("("+s+")")}catch(e){r=N.toObject(s)}return r},stringify:function(){return W.N.toString(obj,Number.POSITIVE_INFINITY,!0)}}),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,i.prototype=new r,i}),"function"==typeof W.success&&(W.success="success");var IS_MODULE=function(t,e){if(1==arguments.length){if("object"==typeof t&&"__NativeHistroy__"in t)return!0}else if("object"==typeof t&&null!==t&&"string"==typeof e&&"__NativeHistroy__"in t)for(var n=t.__NativeHistroy__.length-1;n>-1;n--)if(t.__NativeHistroy__[n]===e)return!0;return!1};N.API=function(t){if(0===arguments.length)return"Nody "+N.VERSION+" ("+N.BUILD+")";if("string"==typeof t&&NModules[t]){var e=t+"("+/\(([^\)]*)\)/.exec(NModules[t].prototype.set+"")[1]+")",n=0;for(var r in NModules[t].prototype)switch(r){case"set":case"get":case"__NativeType__":case"__NativeHistroy__":case"__NativeHistroy__":case"constructor":case"__NativeClass__":case"_super":case"__NativeInitializer__":break;default:"function"==typeof NModules[t].prototype[r]&&(e+="\n "+n+" : "+r+"("+/\(([^\)]*)\)/.exec(NModules[t].prototype[r]+"")[1]+")"),n++}return e}return t+"is not found"},N.ALL=function(){var t,e,n=[],r="# Native Getter";for(t=0,l=NGetters.length;t<l;t++)r+="\n"+t+" : "+NGetters[t];n.push(r);var i="# Native Singleton";t=0;for(e in NSingletons){i+="\n"+t+" : "+e;var o,a=0;switch(e){case"PARTICU":case"ELUT":case"NODY":case"Finder":case"ElementFoundation":case"ElementGenerator":var s=0;for(o in NSingletons[e].constructor.prototype)s++;i+="\n ["+s+"]...";break;default:for(o in NSingletons[e].constructor.prototype)i+="\n"+a++ +" : "+o}t++}n.push(i);var u="# Native Module";t=0;for(e in NModules)u+="\n MODULE("+t+") ::"+N.API(e),t++;return n.push(u),n.join("\n")};var NativeFactoryObject=function(t,e,n,r){if(e in NModules)return console.error("NodyNativeCore :: already exsist module =>",e),!1;var i,o,a,s;switch(t){case"object":i={},o="function"==typeof n?function(){return n.apply(this,Array.prototype.slice.call(arguments)),this}:function(t){return this.Source=t,this},a=r?r:function(){return this.Source};var u=function(){if("function"==typeof this.set){for(var t in NModules[e].prototype)/^\+[^+]+/.test(t)&&(this[t.substr(1)]=NModules[e].prototype[t]);this.set.apply(this,Array.prototype.slice.apply(arguments))}};s=u;break;case"array":i=[],o="function"==typeof n?n:function(t){return this.setSource(t)},a=function(){return this.toArray.apply(this,arguments)};var c=function(){if("function"==typeof this.set){for(var t in NModules[e].prototype)/^\+[^+]+/.test(t)&&(this[t.substr(1)]=NModules[e].prototype[t]);this.set.apply(this,Array.prototype.slice.apply(arguments))}};s=c;break;default:throw new Error("NativeFactoryObject :: \uc633\uc9c0\uc54a\uc740 \ud0c0\uc785\uc774 \uc774\ub2c8\uc15c\ub77c\uc774\uc9d5 \ub418\uace0 \uc788\uc2b5\ub2c8\ub2e4. => "+t)}return NModules[e]=s,NModules[e]["new"]=function(t){return function(){return new(Function.prototype.bind.apply(t,[t].concat(Array.prototype.slice.call(arguments))))}}(NModules[e]),NModules[e].prototype=i,NModules[e].prototype.__NativeType__=t,NModules[e].prototype.__NativeHistroy__=[e],NModules[e].prototype.constructor=s,NModules[e].prototype.__NativeModule__=function(t){return 0===arguments.length?this.__NativeHistroy__[this.__NativeHistroy__.length-1]:this.__NativeHistroy__[this.__NativeHistroy__.length-1]==t},NModules[e].prototype.set=o,NModules[e].prototype.get=a,NModules[e].prototype._super=function(){var t,e,n,r,i=arguments.callee.caller,o=0;for(scopeMax=this.__NativeHistroy__.length;o<scopeMax;o++){t=this.__NativeHistroy__.length-1-o,e=this.__NativeHistroy__[t],n=NModules[e].prototype.constructor.prototype;for(var a in n)if("_super"!==a&&n[a]==i){r=a;break}if("undefined"!=typeof r)break}if("undefined"==typeof r)return void console.error("NodyNativeCore::_super::\ud574\ub2f9 \ud568\uc218\uc5d0 \uadf8\ub7ec\ud55c \ud504\ub85c\ud1a0\ud0c0\uc785\uc774 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.",i);for(var s=0,u=void 0,s=0,c=t;c>s;s++){var f=this.__NativeHistroy__.length-o-2,l=this.constructor.prototype.__NativeHistroy__[f],h=NModules[l],d=(h.prototype,h.prototype[r]);if(o++,"function"!=typeof d)break;if(i!==d){u=d.apply(this,Array.prototype.slice.call(arguments));break}}return u},!0},NativeFactoryExtend=function(t,e,n,r){if("object"==typeof e&&t in NModules){var i=NModules[t].prototype;"function"==typeof n&&(e.set=n,n=!0),"function"==typeof r&&(e.get=r,r=!0);for(var o in e)switch(o){case"constructor":case"_super":break;case"__NativeHistroy__":i[o]=Array.prototype.slice.call(e[o]);break;case"set":1==n&&(i[o]=e[o]);break;case"get":1==r&&(i[o]=e[o]);break;default:/^\+\+[^\+]+/.test(o)&&!function(t,e,n){e&&(t[e]="function"==typeof n?function(){return n.apply(t,Array.prototype.slice.call(arguments))}:n)}(NModules[t],o.substr(2),e[o]),i[o]=e[o]}return!0}return!1},NativeFactoryDeploy=function(t){t in NModules&&!function(e){nody[t]=e,e.prototype.__NativeInitializer__=e["new"]}(NModules[t])};N.MODULE=function(t,e,n,r){NativeFactoryObject("object",t)&&("function"==typeof e&&(r=n,n=e,e={}),NativeFactoryExtend(t,e,n,r),NativeFactoryDeploy(t))},N.MODULE_PROPERTY=function(t,e,n){return NModules[t][e]=n,NModules[t]},N.ARRAY_MODULE=function(t,e,n,r){NativeFactoryObject("array",t)&&(NativeFactoryExtend(t,e,n,r),NativeFactoryDeploy(t))},N.EXTEND_MODULE=function(t,e,n,r,i){"function"==typeof n&&(i=r,r=n,n={});var o=NModules[t];if("undefined"==typeof o)throw new Error("\ud655\uc7a5\ud560 behavior ("+t+")\uac00 \uc5c6\uc2b5\ub2c8\ub2e4"+N.toString(NModules));if(NativeFactoryObject(o.prototype.__NativeType__,e)){var a=NModules[e];NativeFactoryExtend(e,o.prototype,!0,!0),NativeFactoryExtend(e,n,r,i),a.prototype.__NativeHistroy__.push(e),NativeFactoryDeploy(e)}},N.METHOD=function(t,e,n){if(N[t]=e,NGetters.push(t),"object"==typeof n)for(var r in n)"function"==typeof n[r]&&(e[r]=function(){var t=new function(){var t=this;this.getter=function(){return e.apply(t,Array.prototype.slice.call(arguments))}};return n[r].apply(t,Array.prototype.slice.call(arguments))});return e},structruePrototype={get:function(t){return t?this.Source[t]:this.Source},empty:function(){for(var t in this.Source)delete this.Source[t];return this.Source},setSource:function(t){this.empty();for(var e in t)this.Source[e]=t[e];return this.Source},keymap:function(t,e){var n=0,r={};for(var i in t)r[t[i]]=e(t[i],i,n++);return this.setSource(r)},each:function(t){var e=0;for(var n in this.Source){var r=t(this.Source[n],n,e++);if(0==r)break}return this.Source},map:function(t){var e=[];return this.each(function(n,r,i){e.push(t(n,r,i))}),e},trace:function(t){console.log((t?t+" ":"")+N.toString(this.Source))}},N.STRUCTURE=function(t,e){if("string"!=typeof t||"function"!=typeof e)return console.warn("N.STRUCTURE::worng arguments!");NStructure[t]=function(){this.Source={},e.apply(this,Array.prototype.slice.call(arguments))},NStructure[t].prototype={constructor:e};for(var n in structruePrototype)NStructure[t].prototype[n]=structruePrototype[n];window[t]=NStructure[t]},N.INIT_STRUCTURE=function(t,e){return e instanceof W[t]?e:new W[t](e)},N.SINGLETON=function(t,e,n){var r=n?n:function(){};for(var i in e)if("string"==typeof i&&0===i.indexOf("Structure#")){var o=i.substr(10);o.length>0&&N.STRUCTURE(o,e[i]),delete e[i]}r.prototype=e,r.prototype.constructor=r,r.prototype.EACH_TO_METHOD_WITH_PREFIX=function(){for(var e in r.prototype)switch(e){case"EACH_TO_METHOD":case"EACH_TO_METHOD_WITH_PREFIX":case"constructor":break;default:N.METHOD(t+e,r.prototype[e])}},r.prototype.EACH_TO_METHOD=function(){for(var t in r.prototype)switch(t){case"EACH_TO_METHOD":case"EACH_TO_METHOD_WITH_PREFIX":case"constructor":break;default:N.METHOD(t,r.prototype[t])}},N[t]=new r,NSingletons[t]=N[t]},N.CONTINUE_FUNCTION=function(t,e,n){return e=e||1,function(){if(arguments.length>=e)for(var r=e,i=arguments.length;i>r;r++)if("function"==typeof arguments[r])return arguments[r].apply(n,[t.apply(n,Array.prototype.slice.call(arguments,0,r))].concat(Array.prototype.slice.call(arguments,r+1,i)));return t.apply(n,Array.prototype.slice.call(arguments))}},N.BIND_FUNCTION=function(t,e,n){if("function"!=typeof t)return e;if("function"!=typeof e)return t;var r=t._nodyBindFunction?t._nodyBindFunction:[t],i=e._nodyBindFunction?e._nodyBindFunction:[e],o=r.concat(i),a=n===!1?function(){N.dataEach(a._nodyBindFunction,function(t){return t()})}:function(){return N.dataMap(a._nodyBindFunction,function(t){return t()})};return a._nodyBindFunction=o,r=i=o=null,a},N.TRY_CATCH=function(t,e,n){try{return t.call(n)}catch(r){if("function"==typeof e)return e.call(n,r)}},N.url={info:function(t){if("object"==typeof t)return t.ConstructorMark==="ClientURLInfo"+W.nody?t:null;var n;return N.TRY_CATCH(function(){n=/([\w]+)(\:[\/]+)([^/]*\@|)([\w\d\.\-\_\+]+)(\:[\d]+|)(\/|)([\w\d\.\/\-\_]+|)(\?[\d\w\=\&\%]+|)(\#[\d\w]*|)/.exec(t?t:window.document.URL.toString())},function(){n=null}),null===n?(console.error("N.url.info::faild get url info",e),null):{ConstructorMark:"ClientURLInfo"+W.nody,url:window.document.URL.toString(),protocol:n[1],divider:n[2],userinfo:n[3],hostname:n[4],port:n[5].substring(1),path:n[6]+n[7],query:n[8],fragment:n[9],filename:/(\/|)([\w\d\.\-\_]+|)$/.exec(n[6]+n[7])[2]}},root:function(t){var e=N.url.info(t),n=e.protocol+e.divider+e.hostname+(""!==e.port?":"+e.port:e.port);return/\/$/.test(n)?n:n+"/"},script:function(){var t,e=document.getElementsByTagName("script"),n=e[e.length-1];return n?t=n.src:console.warn("GETSCRIPTURL faild"),/^[\w]+\:\//.test(t)||(t=N.url.root()+t),t},scriptRoot:function(){return N.url.script().replace(/([^\/]+$)/,"")}},N.include=function(t){var e,n=/\.([^\.]+)$/.exec(t)[1];"js"===n?(e=document.createElement("script"),e.setAttribute("type","text/javascript"),e.setAttribute("src",t)):"css"===n&&(e=document.createElement("link"),e.setAttribute("rel","stylesheet"),e.setAttribute("type","text/css"),e.setAttribute("href",t)),document.getElementsByTagName("head")[0].appendChild(e)};var nody_cache;N.cache={has:function(t,e){return t in nody_cache&&e in nody_cache[t]?!0:!1},set:function(t,e,n){t in nody_cache||(nody_cache[t]={}),nody_cache[t][e]=n},get:function(t,e){return N.cache.has(t,e)?nody_cache[t][e]:void 0},clear:function(){nody_cache={"N.selectorInfo":{"":{}},AreaContent:{}}},trace:function(){return JSON.stringify(nody_cache)}},N.cache.clear();var nody_typemap={string:"isString",number:"isNumber",likenumber:"likeNumber",likestring:"likeString",array:"isArray",object:"isObject",email:"isEmail",ascii:"isAscii","true":"isTrue","false":"isFalse",nothing:"isNothing",ok:"isOk"};N.SINGLETON("TYPE",{isUndefined:function(t){return"undefined"==typeof t?!0:!1},isDefined:function(t){return"undefined"!=typeof t?!0:!1},isNull:function(t){return null===t?!0:!1},isNil:function(t){return null===t||"undefined"==typeof t?!0:!1},isFunction:function(t){return"function"==typeof t?!0:!1},isBoolean:function(t){return"boolean"==typeof t?!0:!1},isObject:function(t){return"object"==typeof t?!0:!1},isString:function(t){return"string"==typeof t?!0:!1},isNumber:function(t){return"number"==typeof t?!0:!1},likeNumber:function(t){return"number"==typeof t?!0:"string"==typeof t?parseFloat(t)+""==t+"":!1},isJquery:function(t){return"object"==typeof t&&null!==t&&"jquery"in t?!0:!1},isArray:function(t){return"object"==typeof t&&null!==t?!(t instanceof Array||t instanceof NodeList||N.isJquery(t)||!isNaN(t.length)&&isNaN(t.nodeType))||t instanceof Window?!1:!0:!1},isArguments:function(t){return"object"==typeof t&&null!==t&&"callee"in t?!0:!1},isEmail:function(t){return N.likeString(t)?/^[\w]+\@[\w]+\.[\.\w]+/.test(t):!1},isAscii:function(t){return N.likeString(t)?/^[\x00-\x7F]*$/.test(t):!1},isTrue:function(t){return t?!0:!1},isFalse:function(t){return t?!0:!1},likeString:function(t){return"string"==typeof t||"number"==typeof t?!0:!1},isWindow:function(t){return"object"==typeof t?"navigator"in t:!1},isDocument:function(t){return"object"==typeof t&&9==t.nodeType?!0:!1},isNode:function(t){return null==t?!1:"object"==typeof t&&1==t.nodeType?!0:!1},hasNode:function(t){if(N.isArray(t)){for(var e=0,n=t.length;n>e;e++)if(N.isNode(t[e]))return!0;return!1}return N.isNode(t)},isTextNode:function(t){return null==t?!1:"object"!=typeof t||3!=t.nodeType&&8!=t.nodeType?!1:!0},isNothing:function(t){if("undefined"==typeof t)return!0;if("string"==typeof t)return t.trim().length<1?!0:!1;if("object"==typeof t){if(t instanceof RegExp)return!1;if(N.isNode(t))return!1;if(null==t)return!0;if(N.isArray(t))t=t.length;else{var e=0;for(var n in t){e=1;break}t=e}}return"number"==typeof t?1>t?!0:!1:"function"==typeof t?!1:"boolean"==typeof t?!this.Source:(console.warn("N.isNothing::\uc774 \ud0c0\uc785\uc5d0 \ub300\ud574 \uc54c\uc544\ub0b4\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4. nothing\uc73c\ub85c \uac04\uc8fc\ud569\ub2c8\ub2e4.",t),!0)},isOk:function(t){return!N.isNothing(t)},toLength:function(t,e){switch(typeof t){case"number":return(t+"").length;case"string":return t.length;case"object":if("length"in t)return t.length}return"undefined"==typeof e?0:e},toSize:function(t,e){switch("undefined"!=typeof e&&"string"!=typeof e&&console.error("N.toSize::type\uc740 \ubc18\ub4dc\uc2dc string\uc73c\ub85c \ubcf4\ub0b4\uc8fc\uc138\uc694",e),e){case"likenumber":return parseFloat(t);case"number":return parseFloat(t);case"likestring":case"text":case"email":case"ascii":return(t+"").length;case"string":case"array":return t.length;case"object":default:return N.toLength(t)}},is:function(t,e,n,r){if(N.isNothing(e))return N.isTrue(t);var i;switch(typeof e){case"string":var o=[];e.trim().replace(/\S+/g,function(t){o.push(t)});for(var a=0,s=o.length;s>a;a++){if(/^(\!|)(\w*)([\>\<\=\:]{0,3})([\S]*)/.test(o[a]))var u=/^(\!|)(\w*)([\>\<\=\:]{0,3})([\S]*)/.exec(o[a]);else console.warn("\ud3ec\uba67\uc774 \uc62c\ubc14\ub974\uc9c0 \uc54a\uc740 \ud0a4\uc6cc\ub4dc \uc785\ub2c8\ub2e4.",o[a]);var c=nody_typemap[u[2]];if(nody_typemap[u[2]]){if(i=N.TYPE[c](t),"!"==u[1]&&(i=!i),!i)break;if(""!=u[3]&&""!=u[4]){if(N.likeNumber(u[4]))switch(u[3]){case">":i=N.toSize(t,u[2])>parseFloat(u[4]);break;case"<":i=N.toSize(t,u[2])<parseFloat(u[4]);break;case"<=":case"=<":case"<==":case"==<":i=N.toSize(t,u[2])<=parseFloat(u[4]);break;case">=":case"=>":case">==":case"==>":i=N.toSize(t,u[2])>=parseFloat(u[4]);break;case"==":case"===":i=N.toSize(t,u[2])==parseFloat(u[4]);break;case"!=":case"!==":i=N.toSize(t,u[2])!=parseFloat(u[4])}else if(":"===u[3]&&/\d+\~\d+/.test(u[4])){var f=/(\d+)\~(\d+)/.exec(u[4]);if(f[1]==f[2])i=N.toSize(t,u[2])==parseFloat(u[4]);else{var l=1*f[1],h=1*f[2],d=N.toSize(t,u[2]);i=l>h?l>=d&&d>=h:h>=d&&d>=l}}if(!i)break}}else console.warn("Nody::IS::\uc778\uc2dd\ud560\uc218 \uc5c6\ub294 \ud0c0\uc785\uc758 \ud0a4\uc6cc\ub4dc \uc785\ub2c8\ub2e4. => ",u[2]+"("+typeof u[2]+")")}break;case"object":i=e instanceof RegExp&&N.likeString(t)?e.test(t+""):!1}return i===!0?"function"==typeof n?n(t):"undefined"!=typeof n?n:!0:i===!1?"function"==typeof r?r(t):"undefined"!=typeof r?r:!1:!1},like:function(t,e,n,r){return N.isString(t)&&(t=t.trim()),N.is(t,e,n,r)}}),N.TYPE.EACH_TO_METHOD();var CLONE_ARRAY_PROC=function(t){if(N.isArray(t)){if("toArray"in t)return Array.prototype.slice.apply(t.toArray());for(var e=[],n=0,r=t.length;r>n;n++)e.push(t[n]);return e}return t||0==t?[t]:[]},TO_ARRAY_PROC=function(t,e){return"object"==typeof t&&N.isArray(t)?t instanceof NodeList||t instanceof HTMLCollection?N.cloneArray(t):t:"undefined"==typeof t&&arguments.length<2?[]:"string"==typeof t&&"string"==typeof e?t.split(e):[t]},DATA_ANY_PROC=function(t,e){var n=!1,r="function"==typeof e?e:function(t){return t===e};return e=e||function(t){return"undefined"==typeof t?!1:!0},N.dataFilter(t,function(t,e){var i=r(t,e);return i===!0?(n=!0,!1):void 0}),n},DATA_ALL_PROC=function(t,e){var n=!0,r="function"==typeof e?e:function(t){return t===e};return e=e||function(t){return"undefined"==typeof t?!1:!0},N.dataFilter(t,function(t,e){var i=r(t,e);return i===!1?n=!1:void 0}),n};N.SINGLETON("KIT",{dataCall:N.CONTINUE_FUNCTION(function(t,e){return"undefined"==typeof t?N.cloneArray(e):e===!0?N.cloneArray(t):N.toArray(t)},1),dataHas:function(t,e){t=N.toArray(t);for(var n=0,r=t.length;r>n;n++)if(t[n]===e)return!0;return!1},dataMatching:function(t,e){t=N.toArray(t),e=N.toArray(e);for(var n=0,r=t.length;r>n;n++)for(var i=0,o=e.length;o>i;i++)if(t[n]==e[i])return t[n];return!1},dataFirst:function(t){return"object"==typeof t?"undefined"==typeof t[0]?void 0:t[0]:t},dataLast:function(t){return N.isArray(t)?t[t.length-1]:t},dataEach:N.CONTINUE_FUNCTION(function(t,e){for(var n=N.toArray(t),r=0,i=n.length;i>r;r++)if(e.call(n[r],n[r],r)===!1)return!1;return n},2),dataReverseEach:N.CONTINUE_FUNCTION(function(t,e){for(var n=N.toArray(t),r=n.length-1;r>-1;r--)if(e.call(n[r],n[r],r)===!1)return!1;return n},2),dataMap:N.CONTINUE_FUNCTION(function(t,e){for(var n=[],r=N.toArray(t),i=0,o=r.length;o>i;i++)n.push(e.call(r[i],r[i],i));return n},2),arrayMap:N.CONTINUE_FUNCTION(function(t,e){for(var n=N.toArray(t),r=0,i=n.length;i>r;r++)n[r]=e.call(n[r],n[r],r);return n},2),ownerMap:function(t,e){return N.dataMap(e,function(e){return"function"==typeof e?function(){return e.apply(t,Array.prototype.slice.call(arguments))}:e})},arrayRemoveIndex:function(t,e){if(N.isArray(t)){var n=0;N.dataEach(N.dataUnique(e).sort(),function(e){"number"==typeof e&&t.splice(e+n++,1)})}},arrayRemove:function(t,e){if(N.isArray(t)){for(var n=[],r=0,i=t.length;i>r;r++)t[r]===e&&n.push(r);n.length&&N.arrayRemoveIndex(t,n)}},arrayInsert:function(t,e,n){N.isArray(t)&&t.splice(n,0,e)},dataReverseMap:N.CONTINUE_FUNCTION(function(t,e){for(var n=[],r=N.toArray(t),i=this.length-1;i>-1;i--)n.push(e.call(r[i],r[i],i));return n},2),inject:function(t,e,n){n="object"==typeof n?n:{},t=N.toArray(t);for(var r=0,i=t.length;i>r;r++)e(n,t[r],r);return n},dataFilter:N.CONTINUE_FUNCTION(function(t,e){var n=N.toArray(t);if(e=e||function(t){return"undefined"==typeof t?!1:!0},"function"==typeof e){var r=[];return N.dataEach(n,function(t,n){1==e(t,n)&&r.push(t)}),r}return[]},2),dataAny:DATA_ANY_PROC,dataAll:DATA_ANY_PROC,arrayAny:function(t,e){return N.isArray(t)?DATA_ANY_PROC(t,e):void 0},dataAny:function(){return N.isArray(arr,filter)?DATA_ANY_PROC(arr,filter):void 0},dataUnique:function(){for(var t=[],e=0,n=arguments.length;n>e;e++)for(var r=N.cloneArray(arguments[e]),i=0,o=r.length;o>i;i++){for(var a=!0,s=0,u=t.length;u>s;s++)if(r[i]==t[s]){a=!1;break}1==a&&t.push(r[i])}return t},dataRandom:function(t,e){if(t=N.cloneArray(t),"undefined"==typeof e)return t[Math.floor(Math.random()*t.length)];e>t.length&&(e=t.length);for(var n=[],r=0,i=e;i>r;r++){var o=Math.floor(Math.random()*t.length);n.push(t[o]),t.splice(o,1)}return n},dataShuffle:function(t){t=N.cloneArray(t);for(var e,n,r=t.length;r;e=parseInt(Math.random()*r),n=t[--r],t[r]=t[e],t[e]=n);return t},dataIndex:function(t,e){var n=N.toArray(t);for(var r in n)if(e==n[r])return N.toNumber(r)},arrayIndex:function(t,e){if(N.isArray(t))for(var n=0,r=t.length;r>n;n++)if(t[n]===e)return n;return-1},dataFlatten:N.CONTINUE_FUNCTION(function(){return N.argumentsFlatten(arguments)},1),argumentsFlatten:function(){function t(n){N.dataEach(n,function(n){return N.isArray(n)?N.dataEach(n,t):void e.push(n)})}var e=[];return t(arguments),e},APPLY:function(t,e,n){return"function"==typeof t?(n=N.cloneArray(n),n.length>0?t.apply(e,n):t.call(e)):void 0},FLATTENCALL:function(t,e){return N.APPLY(t,e,N.argumentsFlatten(Array.prototype.slice.call(arguments,2)))},CALL:function(t,e){return"function"==typeof t?arguments.length>2?t.apply(e,Array.prototype.slice.call(arguments,2)):t.call(e):void 0},CALLBACK:function(t,e){return"function"==typeof t?arguments.length>2?t.apply(e,Array.prototype.slice.call(arguments,2)):t.call(e):t},toArray:TO_ARRAY_PROC,cloneArray:CLONE_ARRAY_PROC,arrays:function(t){t=N.toNumber(t);for(var e=[],n=0;t>n;n++)e.push([]);return e},toNumber:function(t,e){switch(typeof t){case"number":return t;case"string":var n=1*t.replace(/[^.\d\-]/g,"");return isNaN(n)?0:n}switch(typeof e){case"number":return e;case"string":var n=1*e;return isNaN(n)?0:n}return 0},toObject:function(t,e,n){if("object"==typeof t)return t?t:{};if(1==n&&("string"==typeof t||"string"==typeof e)){var r={};return r[e]=t,r}if("string"==typeof t||"boolean"==typeof t)var i=N.TRY_CATCH(function(){if(JSON==aJSON)throw new Error("not json supported browser");var e=JSON.parse(t);if("object"!=typeof e)throw new Error("pass")},function(){if("plain"==new N.StringSource(t).isDataContent()){var n="string"==typeof e?e:"value",r={};return r[n]=t,r}return new N.StringSource(t).getContentObject()});return i||{}},times:N.CONTINUE_FUNCTION(function(t,e,n){t=N.toNumber(t);for(var r="number"==typeof n?n:0;t>r;r++){var i=e(r);if(0==i)break}return t},2),timesMap:N.CONTINUE_FUNCTION(function(t,e,n){t=N.toNumber(t);var r=[];if("string"==typeof e)var i=e,e=function(t){return N.exp.seed(t)(i)};for(var o="number"==typeof n?n:0;t>o;o++)r.push(e(o));return r},2),flagRandom:function(t){return"number"!=typeof t&&(t=.5),!!t&&Math.random()<=t},indexForReverse:function(t,e){return e-1-t},indexForTurn:function(t,e){if(0>t){var n=Math.abs(t);t=e-(n>e?n%e:n)}return e>t?t:t%e},indexForSpring:function(t,e){return t=N.toNumber(t),e=N.toNumber(e),0==t||Math.floor(t/e)%2==0?t%e:e-t%e},isProp:function(t){return"object"==typeof t||"function"==typeof t},propEach:N.CONTINUE_FUNCTION(function(t,e){if(N.isProp(t))for(k in t)if(e(t[k],k)===!1)break;return t},2),propChange:N.CONTINUE_FUNCTION(function(t,e,n){return N.isProp(t)&&"string"==typeof e&&"string"==typeof n&&(t[n]=t[e],delete t[e]),t}),propSet:N.CONTINUE_FUNCTION(function(t,e){if(N.isProp(t)&&("string"==typeof e||"number"==typeof e))for(var n=2,r=arguments.length;r>n;n++)if(void 0!==arguments[n]||0/0!==arguments[n]){t[e]=arguments[n];break}return t}),propShift:N.CONTINUE_FUNCTION(function(t,e){var n;return N.isProp(t)&&("string"==typeof e||"number"==typeof e)&&e in t&&(n=t[e],delete t[e]),n}),propMap:N.CONTINUE_FUNCTION(function(t,e){var n={};if(N.isProp(t))for(var r in t)n[r]=e(t[r],r);return n},2),propData:N.CONTINUE_FUNCTION(function(t,e){var n=[];if("function"!=typeof e&&(e=function(t){return t}),"object"==typeof t){for(var r in t)n.push(e(t[r],r));return n}return n},2),propKey:N.CONTINUE_FUNCTION(function(t,e,n){var r=[];if("string"==typeof e)(e in t||n===!0)&&r.push(e);else if(N.isArray(e))if(n===!0)for(var i=0,o=e.length;o>i;i++)"string"==typeof e[i]&&r.push(e[i]);else for(var i=0,o=e.length;o>i;i++)e[i]in t&&r.push(e[i]);else if(e instanceof RegExp){var r=[];N.propEach(t,function(t,n){e.test(n)&&r.push(n)})}else{var r=[];N.propEach(t,function(t,e){r.push(e)})}return r},1),divideNumber:function(t){var e=[0,0],n="";if((t+"").replace(/\d|\./g,function(t){n+=t}),/\d/.test(n)){var r=n.indexOf(".");switch(r){case-1:e[0]=1*n;break;case 0:n="0"+n;default:var i=/[\d]+\./.exec(n)[0];e[0]=1*i.substr(0,i.length-1),e[1]=/\.[\d]+/.exec(n),e[1]=null===e[1]?0:e[1][0].substr(1)}}return e},decimalValue:function(t){var e=N.divideNumber(t)[0]+"";if(e.length<4)return e;var n="",r=0;return e.split("").reverse().join("").replace(/./g,function(t){n=r%3===2?","+t+n:t+n,r++}),n.replace(/^\,/,"")},parseFloat:function(t,e){var n=N.divideNumber(t),r="number"==typeof e?("."+n[1]).substr(0,e+1):"."+n[1];return 1*(n[0]+r)},padLeft:function(t,e,n){if("number"!=typeof e)return t;for(var r="",i=N.divideNumber(t),o=e-(i[0]+"").length,a=0,s=o>0?o:0;s>a;a++)r+="0";return r+(n!==!1&&i[1]?i[0]+"."+i[1]:i[0])},padRight:function(t,e){if("number"==typeof e){var n=N.divideNumber(t),r=n[0];if(0===Math.floor(e))return n[0]+"";for(var i=(n[1]+"").substr(0,e),o=0,a=e-i.length;a>o;i+="0",o++);return r+"."+i}return N.parseFloat(t)+""},parseInt:function(t){return N.divideNumber(t)[0]},parseHigh:function(){for(var t=Number.NEGATIVE_INFINITY,e=N.argumentsFlatten(arguments),n=0,r=e.length;r>n;n++){var i=N.parseFloat(e[n]);i>t&&(t=i)}return t===Number.NEGATIVE_INFINITY?0:t},parseLow:function(){for(var t=Number.POSITIVE_INFINITY,e=N.argumentsFlatten(arguments),n=0,r=e.length;r>n;n++){var i=N.parseFloat(e[n]);t>i&&(t=i)}return t===Number.POSITIVE_INFINITY?0:t},propLength:function(t){var e=0;if("object"==typeof t||"function"==typeof t)for(var n in t)e++;return e},clone:function(t,e){if(e){if(N.isArray(t)){N.isArray(e)||(e=[]);for(var n=0,r=t.length;r>n;n++)e.push("object"==typeof t[n]&&null!==t[n]?N.clone(t[n]):t[n]);return e}1==e&&(e={});for(var i in t)"object"==typeof t[i]&&null!==t[i]&&e[i]?N.clone(t[i],e[i]):e[i]=t[i];return e}switch(typeof t){case"undefined":case"function":case"boolean":case"number":case"string":return t;case"object":if(null===t)return t;if(t instanceof Date){var o=new Date;return o.setTime(t.getTime()),o}if(N.isArray(t)){for(var o=[],n=0,a=t.length;a>n;n++)o.push(t[n]);return o}if(1==N.isNode(t))return t;var o={};for(var s in t)t.hasOwnProperty(s)&&(o[s]=t[s]);return o;default:return console.error("N.clone::copy failed : target => ",t),t}},diffKeys:function(t,e){return"object"==typeof t&&"object"==typeof e?N.dataFilter(N.dataFlatten(N.propKey(t),N.propKey(e),N.dataUnique),function(n){return t[n]!==e[n]?!0:void 0}):null},extend:function(t){if("object"!=typeof t)return t;for(var e=1,n=arguments.length;n>e;e++)if("object"==typeof arguments[e])for(var r in arguments[e])t[r]=arguments[e][r];return t},marge:function(t){return"object"!=typeof t&&(t=void 0===t?{}:{data:t}),N.extend.apply(void 0,[N.clone(t,!0)].concat(Array.prototype.slice.call(arguments,1)))},extendFill:function(t,e,n){if("object"!=typeof t&&(t=void 0===t?{}:{data:t}),n!==!0&&(n=N.toArray(n)),n.length||n===!0)for(var r in e)r in t?(n===!0||N.dataHas(n,r))&&(t[r]=e[r]):t[r]=e[r];else for(var r in e)r in t||(t[r]=e[r]);return t},margeFill:function(t,e,n){return N.extendFill(N.clone(t,!0),e,n)},toString:function(t,e,n){switch(typeof t){case"string":return 1==n?'"'+(t+"")+'"':t+"";case"number":return t+"";case"object":if("undefined"==typeof e&&(e=10),1>e)return"...";if(null==t)return 1==n?'"null"':"null";if(N.isNode(t)){if(t==document)return'"[document]"';var r=t.tagName.toLowerCase(),i=N.isNothing(t.id)?"":"#"+t.id,o=N.isNothing(t.className)?"":"."+t.className.split(" ").join(".");return 1==n?'"'+r+i+o+'"':r+i+o}if(N.isTextNode(t))return"#text "+t.textContent;if(N.isArray(t)){for(var a=[],s=0,u=t.length;u>s;s++)a.push(N.toString(t[s],e-1,n));return"["+a.join(1==n?",":", ")+"]"}if(t.jquery){var a=N.dataMap(t,function(t){N.toString(t)}).join(", ");return 1==n?'"$['+a+']"':"$["+a+"]"}var c=[];for(var f in t)c.push((1==n?'"'+f+'"':f)+":"+N.toString(t[f],e-1,n));return"{"+c.join(1==n?",":", ")+"}";case"boolean":return 1==n?t?'"true"':'"false"':t?"true":"false";case"undefined":return 1==n?'"undefined"':"undefined";default:return"toString"in t?1==n?'"'+t.toString()+'"':t.toString():1==n?'"[typeof '+typeof t+']"':"[typeof "+typeof t+"]"}},tos:function(t,e){return N.toString(t,9,e)},toDataString:function(t){return"boolean"==typeof t?t?"true":"false":N.toString(t,99,!0)},fromDataString:function(v){return"string"==typeof v?'"'==v.charAt(0)&&'"'==v.charAt(v.length-1)?v.substr(1,v.length-2):eval("("+v+")"):v},max:function(t,e,n){if("string"==typeof t){if(e=isNaN(e)?100:parseInt(e),n="string"==typeof n?n:"...",t.length>e)return t.substr(0,e)+n}else N.isArray(t)&&t.length>e&&(t.length=e);return t},isModule:IS_MODULE,dateExp:function(t,e){N.isArray(t)&&(t=t.join(" "));var n=/(\d\d\d\d|)[^\d]?(\d\d|\d|).?(\d\d|\d|)[^\d]?(\d\d|\d|)[^\d]?(\d\d|\d|)[^\d]?(\d\d|\d|)/.exec(t);n[1]=n[1]||(new Date).getYear()+1900+"",n[2]=n[2]||(new Date).getMonth()+1,n[3]=n[3]||(new Date).getDate(),n[4]=n[4]||"00",n[5]=n[5]||"00",n[6]=n[6]||"00";var r=[n[1],n[2],n[3],n[4],n[5],n[6],n[0]];return r.year=n[1],r.month=n[2],r.date=n[3],r.hour=n[4],r.minute=n[5],r.second=n[6],r.init=n[7],r.format=function(t){return t.replace("YYYY",r.year).replace(/(MM|M)/,r.month).replace(/(DD|D)/,r.date).replace(/(hh|h)/,r.hour).replace(/(mm|m)/,r.minute).replace(/(ss|s)/,r.second).replace(/(A)/,N.toNumber(r.hour)>12?"PM":"AM")},"string"==typeof e?r.format(e):r},timestampExp:function(t){return 0===arguments.length?+new Date:("string"==typeof t&&(t=N.dateExp(t)),"number"==typeof t?t:(N.isArray(t)&&7==t.length&&(t=new Date(t[0],t[1],t[2],t[3],t[4],t[5])),t instanceof Date?+t:0))},timescaleExp:function(t){var e=0;return"number"==typeof t?t:("string"==typeof t&&(t=t.replace(/\d+(Y|year)/,function(t){return t.replace(/\d+/,function(t){e+=31536e6*t}),""}),t=t.replace(/\d+(M|month)/,function(t){return t.replace(/\d+/,function(t){e+=26784e5*t}),""}),t=t.replace(/\d+(D|day)/,function(t){return t.replace(/\d+/,function(t){e+=864e5*t}),""}),t=t.replace(/\d+(h|hour)/,function(t){return t.replace(/\d+/,function(t){e+=36e5*t}),""}),t=t.replace(/\d+(ms|millisecond)/,function(t){return t.replace(/\d+/,function(t){e+=1*t}),""}),t=t.replace(/\d+(m|minute)/,function(t){return t.replace(/\d+/,function(t){e+=6e4*t}),""}),t=t.replace(/\d+(s|second)/,function(t){return t.replace(/\d+/,function(t){e+=1e3*t}),""})),e)}}),N.KIT.EACH_TO_METHOD()}(window,[],{},{},{},N),function(){window.nd=window.nody=N,"function"==typeof define&&"object"==typeof define.amd&&define.amd&&define(function(){return N})}(window),function(t){t.ENV=function(){var t={};navigator?(t.os=/(win|mac|linux|iphone)/.exec(navigator.platform.toLowerCase()),t.os=null!==t.os?t.os[0].replace("sunos","solaris"):"unknown",t.browser=function(){var t,e=navigator.userAgent,n=e.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?(t=/\brv[ :]+(\d+)/g.exec(e)||[],"IE "+(t[1]||"")):"Chrome"===n[1]&&(t=e.match(/\bOPR\/(\d+)/),null!=t)?"Opera "+t[1]:(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(t=e.match(/version\/(\d+)/i))&&n.splice(1,1,t[1]),n.join(" "))}(),t.online=navigator.onLine):(t.browser=t.os="unknown",t.online=!1),t.supportComputedStyle=window&&"getComputedStyle"in window?!0:!1;var e=function(t){return t.match(/^Webkit/)?"-webkit-":t.match(/^Moz/)?"-moz-":t.match(/^O/)?"-o-":t.match(/^ms/)?"-ms-":""},n={};t.getCSSName=function(t){if("string"!=typeof t)return t+"";t.trim();for(var e in n)if(0===t.indexOf(e)){var r=n[e];if(r.length)return r+t}return t};var r=document.createElement("div");return support=!1,"transform WebkitTransform MozTransform OTransform msTransform".replace(/\S+/g,function(t){t in r.style&&(support=!0,n.transform=e(t))}),t.supportTransform=support,support=!1,"transition WebkitTransition MozTransition OTransition msTransition".replace(/\S+/g,function(t){t in r.style&&(support=!0,n.transition=e(t))}),t.supportTransition=support,t.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,t.supportGetUserMedia=!!t.getUserMedia,t.supportNodeListSlice=function(){try{return Array.prototype.slice.call(NodeList),!0}catch(t){return!1}}(),t.querySelectorAllName="querySelectorAll"in document?"querySelectorAll":"webkitQuerySelectorAll"in document?"webkitQuerySelectorAll":"msQuerySelectorAll"in document?"msQuerySelectorAll":"mozQuerySelectorAll"in document?"mozQuerySelectorAll":"oQuerySelectorAll"in document?"oQuerySelectorAll":!1,t.supportQuerySelectorAll=!!t.querySelectorAllName,t.supportStandardQuerySelectorAll="querySelectorAll"===t.querySelectorAllName,t.matchesSelectorName="matches"in r?"matches":"webkitMatchesSelector"in r?"webkitMatchesSelector":"msMatchesSelector"in r?"msMatchesSelector":"mozMatchesSelector"in r?"mozMatchesSelector":"oMatchesSelector"in r?"oMatchesSelector":!1,t.supportMatches=!!t.matchesSelectorName,t.supportStandardMatches="matches"===t.matchesSelectorName,t
}();var e=t.ENV.querySelectorAllName;if(t.QUERY_SELECTOR_ENGINE=t.ENV.supportQuerySelectorAll&&t.ENV.supportNodeListSlice?function(t,n){return Array.prototype.slice.call((t||document)[e](n.replace(/\[[\w\-\_]+\=[^\'\"][^\]]+\]/g,function(t){return t.replace(/\=.+\]$/,function(t){return'="'+t.substr(1,t.length-2)+'"]'})})))}:function(t,n){for(var r=(t||document)[e](n.replace(/\[[\w\-\_]+\=[^\'\"][^\]]+\]/g,function(t){return t.replace(/\=.+\]$/,function(t){return'="'+t.substr(1,t.length-2)+'"]'})})),i=[],o=0,a=r.length;a>o;o++)r[o]&&i.push(r[o]);return i},t.QUERY_SELECTOR_ENGINE?t.QUERY_SELECTOR_ENGINE_ID="browser":"function"==typeof Sizzle?(console.info("nody is sizzle selector engine detected"),t.QUERY_SELECTOR_ENGINE=function(t,e){return Sizzle(e,t)},t.QUERY_SELECTOR_ENGINE_ID="sizzle"):"function"==typeof jQuery&&(console.info("nody is jquery selector engine detected"),t.QUERY_SELECTOR_ENGINE=function(t,e){return jQuery(e,t).toArray()},t.QUERY_SELECTOR_ENGINE_ID="jquery"),!t.QUERY_SELECTOR_ENGINE)throw t.QUERY_SELECTOR_ENGINE_ID=null,new Error("Nody::ENV::IMPORTANT!! - querySelectorEngine is not detected");var n=t.ENV.matchesSelectorName;if(t.MATCHES_SELECTOR_ENGINE=t.ENV.supportMatches&&function(t,e){return t[n](e.replace(/\[[\w\-\_]+\=[^\'\"][^\]]+\]/g,function(t){return t.replace(/\=.+\]$/,function(t){return'="'+t.substr(1,t.length-2)+'"]'})}))},t.MATCHES_SELECTOR_ENGINE?t.MATCHES_SELECTOR_ENGINE_ID="browser":"function"==typeof Sizzle?(t.MATCHES_SELECTOR_ENGINE=function(t,e){return Sizzle.matchesSelector(t,e)},t.MATCHES_SELECTOR_ENGINE_ID="sizzle"):"function"==typeof jQuery&&(t.MATCHES_SELECTOR_ENGINE=function(t,e){return jQuery(t).is(e)},t.MATCHES_SELECTOR_ENGINE_ID="jquery"),!t.MATCHES_SELECTOR_ENGINE)throw t.MATCHES_SELECTOR_ENGINE_ID=null,new Error("Nody::ENV::IMPORTANT!! - matchesSelectorEngine is not detected")}(N),function(W,N){if(1==W.nodyLoadException)throw new Error("Nody Process Foundation init cancled");N.SINGLETON("PARTICU",{scalef:function(t,e,n){return("number"==typeof e?e:100)/("number"==typeof n?n:100)*t},scale:function(t,e,n){return Math.round(N.PARTICU.scalef(t,e,n))},ratiof:function(t){var e=N.argumentsFlatten(arguments),n=0,t=N.toNumber(e.shift())||100;return N.dataMap(e,function(t){var e=N.toNumber(t);return n+=e,e},N.arrayMap,function(e){return e/n*t})},ratio:function(t){var e=N.toNumber(t),n=N.arrayMap(N.PARTICU.ratiof.apply(this,Array.prototype.slice.call(arguments)),function(t){var n=Math.round(t);return e-=n,n});return 0!==e&&(console.log("?r",n),n[n.length-1]+=e),n},radiusArcf:function(t,e){var n=(360-e)*Math.PI/180;return[t-t*Math.sin(n),t-t*Math.cos(n)]},radiusArc:function(t,e){return N.arrayMap(N.radiusArcf(t,e),function(t){return Math.round(t)})},toPx:function(t){return/(\%|px)$/.test(t)?t:N.toNumber(t)+"px"},isWrap:function(t,e){if("string"==typeof t){t=t.trim(),e="undefined"!=typeof e?N.toArray(e):['""',"''","{}","[]"];for(var n=0,r=e.length;r>n;n++){var i=e[n].substr(0,e[n].length-1),o=e[n].substr(e[n].length-1);if(0==t.indexOf(i)&&t.substr(t.length-1)==o)return!0}}return!1},unwrap:function(t,e){if("string"==typeof t){t=t.trim(),e="undefined"!=typeof e?N.toArray(e):['""',"''","{}","[]","<>"];for(var n=0,r=e.length;r>n;n++)if(N.isWrap(t,e[n]))return t.substring(e[n].substr(0,e[n].length-1).length,t.length-1)}return t},wrap:function(t,e){return N.isWrap(t,e)?t:(t="string"==typeof t?t.trim():"",e="string"==typeof e&&e.length>1?e:'""',e.substr(0,e.length-1)+t+e.substr(e.length-1))},DQURT:function(t){return"string"==typeof t?N.isWrap(t,'""')?t:'"'+N.unwrap(t,"''")+'"':t},SQURT:function(t){return"string"==typeof t?N.isWrap(t,"''")?t:"'"+N.unwrap(t,'""')+"'":t},indexes:function(t,e){if("string"==typeof t||"number"==typeof t){var n,r=[],i=t+"",e=e+"",o=0;do{var a=i.indexOf(e,o);a>-1?(o=e.length+a,r.push(o-e.length),n=!0):n=!1}while(n);return r}},safeSplitIndexes:function(t,e,n){if("string"==typeof t&&N.isArray(e)){var r=N.clone(e);r.push(t.length);var i=[],o=0;if(1==n)for(var a=0,s=r.length;s>a;a++)a&&(i.push(t.substring(o-1,r[a])),o=r[a]+1);else for(var a=0,s=r.length;s>a;a++)i.push(t.substring(o,r[a])),o=r[a]+1;return i}},simpleRange:function(t){if(t){var e=[];e.length=t.length;for(var n=0,r=t.length;r>n;n++)for(var i=0,o=t.length;o>i;i++)n!==i&&t[n][0]<t[i][0]&&t[n][1]>t[i][1]&&(e[i]=!1);for(var a=[],s=0,u=e.length;u>s;s++)e[s]!==!1&&a.push(t[s]);return a}},indexesRange:function(t,e){if(N.isArray(t)&&N.isArray(e)){var n,r=[],i=[],o=0,a=0;do{var s=t[o],u=e[a];"undefined"==typeof s&&"undefined"==typeof u?n=!1:("undefined"==typeof u||u>s?(r.push(!0),i.push(s),o++):(r.push(!1),i.push(u),a++),n=!0)}while(n);for(var c=[],f=[],l=[],h=0,d=r.length;d>h;h++){var p=r[h],g=r[h+1];if(p)f.push(i[h]);else if(l.push(i[h]),l.length>=f.length&&(1==g||"undefined"==typeof g))for(var v=0,y=l.length;y>v;v++){if(0==f.length){l.length=0;break}c.push([f.shift(),l[l.length-1]]),l.length=l.length-1}}return c}if(N.isArray(t)&&"undefined"==typeof e){for(var c=[],m=[],h=0,d=t.length;d>h;h++)m.push(t[h]),m.length>1&&c.push(m);return c}console.warn("N.indexesRange::\ub450\ubc88\uc9f8\uae4c\uc9c0 \ud30c\ub77c\uba54\ud130\ub294 array\uc5ec\uc57c \ud569\ub2c8\ub2e4.",t,e)},safeSplit:function(t,e,n,r){if("string"==typeof t){("string"!=typeof e||0==e.length)&&(e=","),e.length>1&&(console.wran("N.safeSplit:: \ub450\ubc88\uc9f8 \ud30c\ub77c\uba54\ud130\ub294 1\uae00\uc790\ub9cc \uc9c0\uc6d0\ud569\ub2c8\ub2e4. => ",e),e=e.substr(0,1)),n="undefined"!=typeof n?N.toArray(n):["{}","[]"],t=N.unwrap(t,n);for(var i=[],o=0,a=n.length;a>o;o++){var s=n[o].substr(0,n[o].length-1),u=n[o].substr(n[o].length-1),c=N.indexes(t,s);if(s==u)i=i.concat(N.indexesRange(c));else{var f=N.indexes(t,u);i=i.concat(N.indexesRange(c,f))}}i=N.simpleRange(i);for(var l=N.indexes(t,e),h=[],d=0,p=l.length;p>d;d++){for(var g=l[d],v=!0,y=0,m=i.length;m>y;y++)if(g>i[y][0]&&g<i[y][1]){v=!1;break}1==v&&h.push(g)}return N.safeSplitIndexes(t,h,r)}},CASE_SPLIT:function(t,e){if("string"==typeof e)return t.split(e);if("string"!=typeof t)return console.error("CASE_SPLIT::\uccab\ubc88\uc9f8 \ud30c\ub77c\uba54\ud130\ub294 \ubc18\ub4dc\uc2dc String\uc774\uc5ec\uc57c \ud569\ub2c8\ub2e4. // s =>",t);t=t.replace(/^\#/,"");var n=t.split("-");if(n.length>1)return n;var r=t.split("_");return r.length>1?r:t.replace(/[A-Z][a-z]/g,function(t){return"%@"+t}).replace(/^\%\@/,"").split("%@")},pascalCase:function(t){for(var e=N.CASE_SPLIT(t),n=0,r=e.length;r>n;n++)e[n]=e[n].charAt(0).toUpperCase()+e[n].slice(1).toLowerCase();return e.join("")},camelCase:function(t){for(var e=N.CASE_SPLIT(t),n=1,r=e.length;r>n;n++)e[n]=e[n].charAt(0).toUpperCase()+e[n].slice(1).toLowerCase();return e[0]=e[0].toLowerCase(),e.join("")},snakeCase:function(t){for(var e=N.CASE_SPLIT(t),n=0,r=e.length;r>n;n++)e[n]=e[n].toLowerCase();return e.join("_")},kebabCase:function(t){for(var e=N.CASE_SPLIT(t),n=0,r=e.length;r>n;n++)e[n]=e[n].toLowerCase();return e.join("-")},dataClip:N.CONTINUE_FUNCTION(function(t,e,n){var r=N.cloneArray(t);return"number"!=typeof e||r.length===e?r:r.length>e?Array.prototype.slice.call(r,0,e):(N.times(e-r.length,function(){r.push(n)}),r)},2),dataRepeat:N.CONTINUE_FUNCTION(function(t,e){var n=N.cloneArray(t);return"number"!=typeof e||n.length===e?n:n.length>e?Array.prototype.slice.call(n,0,e):(N.times(e-n.length,function(){n.push(t)}),n)},2),dataTile:function(t,e){var n;switch(typeof t){case"string":case"number":n=t;break;case"object":if(!N.isArray(t))return console.warn("N.dataTile::Array\ub9cc \uac00\ub2a5\ud569\ub2c8\ub2e4."),t;n=t}if("undefined"!=typeof n){var r,i=N.toLength(t),o=N.toNumber(e,i);switch(typeof n){case"string":r="";for(var a=0;o>a;a++)r+=t[N.indexForTurn(a,i)];return r;case"number":var s=[];(t+"").replace(/\d/g,function(t){s.join(1*t)}),r=0;for(var a=0;o>a;a++)r+=s[N.indexForTurn(a,i)];return r;case"object":r=[];for(var a=0;o>a;a++)r.push(t[N.indexForTurn(a,i)]);return r}}},"Structure#StringNumberInfo":function(t){var e=/([\D]*)(([\d\,]+|)+(\.[\d]+|))([\D]*)/.exec(t),n=/([0]*)(.*)/.exec(e[2]);n[1].length&&!n[2].length&&(n[1]=n[1].substr(0,n[1].length-1),e[2]="0",e[3]="0"),"-"==e[1].charAt(e[1].length-1)&&e[2].length&&(e[1]=e[1].substr(0,e[1].length-1),e[2]="-"+e[2],e[3]="-"+e[3]),n[1].length&&(e[2]=n[2],e[3]=n[2]),e[2]=e[2].replace(/\,/g,""),e[3]=e[3].replace(/\,/g,""),this.Source.prefix=e[1],this.Source.prefixZero=n[1],this.Source.number=e[2],this.Source.integer=e[3],this.Source["float"]=e[4],this.Source.suffix=e[5],this.fixNumberInfo=function(){return"floatValue"in this.Source||(this.Source.floatValue=""!==this["float"]?"0"+this.Source["float"]:"0",""==this.Source.integer&&(this.Source.integer="0"),""==this.Source["float"]&&(this.Source["float"]="0"),""==this.Source.number&&(this.Source.number="0")),this}},textNumber:function(t){if("string"==typeof t){var e=new StringNumberInfo(t).get();if(e.prefix||e.prefixZero||e.suffix)return t}return N.toNumber(t)},zoneRange:function(t){var e=/^([^\~]*)\~(.*)$/.exec(t);if(e){var n=new StringNumberInfo(e[1]).get(),r=new StringNumberInfo(e[2]).get(),i=n.prefix,o=n.prefixZero?n.prefixZero.length+n.integer.length:0,a=N.toNumber(n.number),s=N.toNumber(r.number),u=0;return u=a>s?s+Math.floor(Math.random()*(a-s+1)):a+Math.floor(Math.random()*(s-a+1)),o>0&&(renVal=N.toNumber(u),renLen=N.toNumber(o),u=renLen?(renVal+Math.pow(10,renLen)+"").substr(1):renVal),i?i+u:u}return N.textNumber(t)},zoneChoice:function(t,e){if(N.isArray(t))return t[Math.floor(Math.random()*t.length)];var n=N.cache.get("N.zoneChoice",t+e);if(n)return n[Math.floor(Math.random()*n.length)];var r=t.split("string"==typeof e?e:"|");return N.cache.set("N.zoneChoice",t+e,r),r[Math.floor(Math.random()*r.length)]},zoneInfo:function(t){t=N.toString(t);var e,n,r=0==t.indexOf("\\!")?"fixed":0==t.indexOf("\\?")?"mutable":"plain";return"plain"!=r?(t=t.substr(2),/\d+\~\d+/.test(t)?(n="range",e="fixed"==r?N.zoneRange(t):t):t.indexOf("|")>-1?(n="choice",e="fixed"==r?N.zoneChoice(t):t):(console.error("setZoneParams:: \uc54c\uc218\uc5c6\ub294 \uba85\ub839\uc5b4 \uc785\ub2c8\ub2e4 ->",t),e=t)):e=t,{value:e,type:r,mutableType:n}},zoneValue:function(t){switch(t.type){case"fixed":case"plain":return t.value;case"mutable":switch(t.mutableType){case"range":return N.zoneRange(t.value);case"choice":return N.zoneChoice(t.value)}}}}),N.PARTICU.EACH_TO_METHOD(),N.METHOD("exp",function(source){var seed=this.seed||0,aPoint=[],params=N.dataMap(Array.prototype.slice.call(arguments,1),function(t){return N.zoneInfo(t)});return source.replace(/(\\\([^\)]*\)|\\\{[^\}]*\})/g,function(s){if(")"==s[s.length-1]){var dv=N.zoneValue(N.zoneInfo("\\!"+s.substring(2,s.length-1)));return aPoint.push(dv),dv}var evs=s.substring(2,s.length-1).replace(/\$i/g,function(){return seed}).replace(/\&\d+/g,function(t){var e=aPoint[parseInt(t.substr(1))];return N.likeNumber(e)?1*e:'"'+e+'"'}).replace(/\$\d+/g,function(t){var e=params[parseInt(t.substr(1))];return e?(e=N.zoneValue(e),N.likeNumber(e)?e:'"'+e+'"'):void 0}),v=eval(evs);return aPoint.push(v),v})},{seed:function(t){return this.seed=N.toNumber(t),this.getter}}),N.METHOD("expn",function(t){if(1===arguments.length)return N.toNumber(N.exp.call(void 0,"\\("+t+")"));var e=Array.prototype.slice.call(arguments);return e[0]="\\{"+e[0]+"}",N.toNumber(N.exp.apply(void 0,e))},{seed:function(t){return this.seed=N.toNumber(t),this.getter}}),N.ARRAY_MODULE("Array",{each:function(t){for(var e=0,n=this.length;n>e&&0!=t(this[e],e);e++);return this},reverseEach:function(t){for(var e=this.length-1;e>-1&&0!=t(this[e],e);e--);return this},keys:function(t){return N.propKey(this,t)},zero:function(){return N.dataFirst(this)},first:function(){return N.dataFirst(this)},last:function(){return N.dataLast(this)},has:function(t){for(var e=0,n=this.length;n>e;e++)if(this[e]===t)return!0;return!1},push:function(t,e){switch(typeof e){case"string":case"number":this[e]=t;break;default:Array.prototype.push.call(this,t)}return this},add:function(t,e){return this.has(t)||this.push(t,e),this},marge:function(t){var e=this;return N.dataEach(t,function(t){e.add(t)}),this},setSource:function(t){return N.isArray(t)?("toArray"in t?Array.prototype.splice.apply(this,[0,this.length].concat(t.toArray())):Array.prototype.splice.apply(this,[0,this.length].concat(Array.prototype.slice.call(t))),this):(t||0==t?Array.prototype.splice.call(this,0,this.length,t):Array.prototype.splice.call(this,0,this.length),this)},isNone:function(){return 0===this.length?!0:!1},isOne:function(){return 1===this.length?!0:!1},isMany:function(){return this.length>1?!0:!1},selectValue:function(t){var e=[];N.dataEach(this,function(n){n==t&&e.push(n)}),this.setSource(e)},selectIndex:function(t){return this.setSource(this[t])},selectFirst:function(){return this.setSource(this[0])},selectLast:function(){return this.setSource(this[this.length-1])},max:function(t){return this.length=t>this.length?this.length:t,this},min:function(t,e){var n=parseInt(t);if("number"==typeof n&&this.length<n)for(var r=this.length;n>r;r++)this.push(e);return this},insert:function(t,e){this.min(e);for(var n=[],e=e?e:0,r=e,i=this.length;i>r;r++)n.push(this[r]);return this.max(e).push(t).setConcat(n)},toArray:function(){return Array.prototype.slice.call(this)},clear:function(){return this.splice(0,this.length),this},clone:function(){return new N.Array(this)},sort:function(t){if("function"!=typeof t)return Array.prototype.sort.call(new N.Array(this));if(0==this.length)return this.toArray();for(var e=new N.Array([this[0]]),n=1,r=this.length;r>n;n++)for(var i=0,o=e.length;o>i;i++){if(t(this[n],e[i])===!0){e.insert(this[n],i);break}i+1===e.length&&e.push(this[n])}return e},setSort:function(t){return"function"!=typeof t?Array.prototype.sort.call(this):this.setSource(this.sortFilter(t))},callback:function(t){return"function"==typeof t?t.call(this,this):void 0},behind:function(t,e){return this.insert(t,this.length-(isNaN(e)?0:parseInt(e)))},overwrite:function(t,e){return this.min(e+1),this[e]=t,this},save:function(){return this.__NativeInitializer__(this)},flatten:function(){return new N.Array(N.argumentsFlatten(this))},setFlatten:function(){return this.setSource(this.flatten())},concat:function(){return new N.Array(arguments).inject(this.save(),function(t,e){new N.Array(t).each(function(t){e.push(t)})})},setConcat:function(){return this.setSource(this.concat.apply(this,arguments))},append:function(t){if(void 0===t||null===t)return this;if(!N.isArray(t))return this.push(t);for(var e=0,n=t.length;n>e;e++)this.push(t[e]);return this},prepend:function(t){if(void 0===t||null===t)return this;if(!N.isArray(t))return this.insert(t,0);for(var e=0,n=t.length;n>e;e++)this.insert(t[e],e);return this},changeIndex:function(t,e){var n=this[t],r=this[e];this[t]=r,this[e]=n},hasIndex:function(t){return 0>t?!1:this.length-1<t?!1:!0},inject:function(t,e){for(var n=0,r=this.length;r>n;n++){var i=e(this[n],t,n);"undefined"!=typeof i&&(t=i)}return t},mapUtil:{"&":function(t,e){return t.map(function(t){return"object"==typeof t?t[e]:void 0})}},map:function(t,e){if("function"==typeof t){for(var n=[],r="number"==typeof e?e:0,i=this.length;i>r;r++)n.push(t(this[r],r,this.length));return new N.Array(n)}if("string"==typeof getOrder){t=t.trim();for(var o in this.mapUtil)if(0==t.indexOf(o)){var a=":"==t[o.length]?!0:!1,s=t.substr(a?o.length+1:o.length);return new N.Array(this.mapUtil[o](this,s))}}return new N.Array},setMap:function(t){return this.setSource(this.map(t))},turning:function(t,e){for(var n=parseInt(t),r=function(t){if(0>t){var e=Math.abs(t);t=n-(e>n?e%n:e)}return n>t?t:t%n},i=function(t){return{turning:r(t),group:Math.floor(t/n)}},o=0;o<this.length;o++){var a=i(o);e(this[o],a.turning,a.group,o)}return this},filter:function(t){if("undefined"==typeof t&&(t=function(t){return"undefined"==typeof t?!1:!0}),"function"==typeof t){var e=[];return this.each(function(n,r){1==t(n,r)&&e.push(n)}),new N.Array(e)}return new N.Array},setFilter:function(t){return this.setSource(this.filter(t))},compact:function(){return this.filter(function(t){return void 0==t?!1:!0})},setCompact:function(){return this.setSource(this.compact())},timesmap:function(t,e,n,r){var i=this,o=i.length,a=this.clone(),s="function"==typeof e?e:function(){return e};return N.timesMap(t,function(t){t>=o?a.push(s(i[t],t)):a[t]=s(i[t],t)},n,r),a},setTimesmap:function(t,e,n,r){return this.setSource(this.timesmap(t,e,n,r))},isAll:function(t){for(var e=0,n=this.length;n>e;e++)if(1!=t(this[e],e))return!1;return!0},isAny:function(t){for(var e=0,n=this.length;n>e;e++)if(1==t(this[e],e))return!0;return!1},subarray:function(t,e,n){t=1==isNaN(t)?0:parseInt(t),e=1==isNaN(e)?0:parseInt(e);var r,i,o=new N.Array;t>e?(r=t,i=e):(r=e,i=t),n!==!0&&(r=r<this.length?r:this.length,i=i>0?i:0);for(var a=i,s=r;s>a;a++)o.push(this[a]);return o},setSubarray:function(){return this.setSource(this.subarray.apply(this,arguments))},subarr:function(t,e){return this.subarray(t,e?e+t:this.length)},setSubarr:function(t,e){return this.setSource(this.subarr(t,e))},drop:function(t){return t=t?t:0,this.subarray(t).concat(this.subarr(t+1))},setDrop:function(t){return this.setSource(this.drop(t))},getRemove:function(t){return this.filter(function(e){return e==t?!1:!0})},remove:function(t){return this.setSource(this.getRemove(t))},unique:function(){var t=new N.Array;return this.each(function(e){t.isAll(function(t){return e!=t})&&t.push(e)}),t},setUnique:function(){return this.setSource(this.unique())},has:function(t){return this.isAny(function(e){return e==t})},eq:function(t,e){return isNaN(e)&&(e=1),this.subarr(t,e)},indexOf:function(t){var e=-1;return this.each(function(n,r){return n==t?(e=r,!1):void 0}),e},lastIndexOf:function(t){var e=-1;return this.reverseEach(function(n,r){return n==t?(e=r,!1):void 0}),e},nthIndexOf:function(){},firstMatch:function(t){var e;return this.each(function(n,r){return 1==t(n,r)?(e=n,!1):void 0}),e},lastMatch:function(t){var e;return this.reverseEach(function(n,r){return 1==t(n,r)?(e=n,!1):void 0}),e},nthMatch:function(){},stringFlatten:function(){return this.save().setMap(function(t){return"string"==typeof t?t.split(" "):N.isArray(t)?new N.Array(t).setFlatten().setFilter(function(t){return N.is(t,"string")}):void 0}).remove(void 0).setFlatten()},setStringFlatten:function(){return this.setSource(this.stringFlatten())},sliceGroup:function(){var t=Array.prototype.slice.call(this),e=new N.Array;return N.dataEach(N.dataFilter(N.argumentsFlatten(arguments),function(t){return"number"==typeof t&&t>0}),function(n){return t.length?void e.push(t.splice(0,n)):!1}),t.length&&e.push(t),e},setSliceGroup:function(){this.setSource(this.sliceGroup.apply(this,Array.prototype.slice.call(arguments)))},groups:function(t,e){var n=[];return 1==e?(this.save().reverse().turning(t,function(t,e,r){n[r]||(n[r]=[]),n[r].push(t)}),new N.Array(n).setMap(function(t){return new N.Array(t).reverse().toArray()}).reverse()):(this.turning(t,function(t,e,r){n[r]||(n[r]=[]),n[r].push(t)}),new N.Array(n))},setGroups:function(t,e){return this.setSource(this.groups(t,e))},random:function(){return new N.Array(N.dataRandom(this.toArray()))},shuffle:function(){return new N.Array(N.dataShuffle(this.toArray()))},setShuffle:function(){return this.setSource(this.shuffle())},join:function(t,e,n){return(N.likeString(e)?e:"")+Array.prototype.join.call(this,t)+(N.likeString(n)?n:"")},keyPair:function(t,e){N.likeString(t)||(t="key"),N.likeString(e)||(e="value");var n={};return this.each(function(r){return("object"==typeof r||"function"==typeof r)&&t in r?(n[r[t]]=r[e],n):void 0}),n}}),N.MODULE_PROPERTY("Array","split",function(t,e){if(N.isArray(t))return new N.Array(t);if("string"==typeof t){var n;return"string"==typeof e||"number"==typeof e?(e+="",n=t.split(e)):(n=[],t.replace(/\S+/gi,function(t){n.push(t)})),new N.Array(n)}return console.warn("Array.split only text or array",t),new N.Array(t)}),N.MODULE("HashSource",{setSource:function(t,e){if(t=N.toObject(t,e),"object"==typeof t){for(var n in this.Source)delete this.Source[n];for(var e in t)this.Source[e]=t[e]}return this},keys:function(t,e){return N.propKey(this.Source,t,e)},values:function(){var t=[];if(arguments.length)for(var e=0,n=arguments.length;n>e;e++){if("function"==typeof arguments[e])return arguments[e].apply(void 0,t);t.push(this.Source[arguments[e]])}else for(key in this.Source)t.push(this.Source[key]);return t},each:function(t){for(key in this.Source){var e=t(this.Source[key],key);if(0==typeof e)break}return this},reverseEach:function(t){for(var e=this.keys(),n=e.length-1;n>-1&&0!=t(e[n],n);n--);return this},callback:function(t){"function"==typeof t&&this.call(this,this.Source)},count:function(){return N.propLength(this.Source)},clone:function(){return N.clone(this.Source)},save:function(){return this.__NativeInitializer__(N.clone(this.Source))},pushKeyValue:function(){for(var t=0,e=Math.ceil(arguments.length/2);e>t;t++)this.Source[arguments[2*t]]=arguments[2*t+1];return this},safePushKeyValue:function(){for(var t=0,e=Math.ceil(arguments.length/2);e>t;t++){var n=this.Source[arguments[2*t]];n in this.Source&&(this.Source[n]=arguments[2*t+1])}return this},hasProp:function(t){if(0===arguments.length){for(var e in this.Source)return!0;return!1}return t in this.Source},prop:function(t,e){if(0===arguments.length)return this.Source;if("string"==typeof t)return"function"==typeof e?e.call(this,this.Source[t],t in this.Source):this.Source[t];var n=this;return"function"==typeof e?N.dataMap(t,function(t){return e.call(n,n.Source[t],t in n.Source)}):N.dataMap(t,function(t){return n.Source[t]})},setProp:function(t,e){if(arguments.length<2)console.warn("arguments length must be gt 2");else if("string"==typeof t)this.Source[t]=e;else if("object"==typeof t)for(var n in key)this.setProp(n,key[n]);return this},propIs:function(t,e,n,r){return N.is(this.Source[t],e,n,r)},propLike:function(t,e,n,r){return N.like(this.Source[t],e,n,r)},has:function(t,e){return 2===arguments.length?t in this.Source?this.Source[t]===e:!1:t in this.Source},hasValue:function(t){var e=!1;return this.each(function(n){return t==n?(e=!0,!1):void 0}),e},hasDataProp:function(t){return N.isModule(this.Source[t],"Array")},touchDataProp:function(t,e){return"string"==typeof t?this.hasDataProp(t)?this.Source[t]:e===!1?new N.Array(this.Source[t]):this.Source[t]=new N.Array(this.Source[t]):(console.warn("Manage::touchDataProp parameter is must be string",t),new N.Array)},defineDataProp:function(){for(var t=N.argumentsFlatten(arguments),e=0,n=t.length;n>e;e++)this.touchDataProp(t[e]);return this},dataProp:function(t,e){var n=this.touchDataProp(t,!1);return"function"==typeof e?n.map(e):n},pushDataProp:function(t,e,n){var r=this.touchDataProp(t);return arguments.length<2?console.warn("pushDataProp is must be length gt 1"):(r[n?"add":"push"](e),this)},extend:function(t){return N.extend(this.Source,t),this},marge:function(t){return N.marge(this.Source,t)},extendFill:function(t){return N.extendFill(this.Source,t),this},margeFill:function(t){return N.margeFill(this.Source,t)},arrangementObjectsDataProp:function(){for(var t=new N.Array(this.keys()),e=Array.prototype.slice.call(arguments),n=this,r=0,i=arguments.length;i>r;r++)"object"==typeof e[r]&&t.marge(N.propKey(e[r]));for(var r=0,i=e.length;i>r;r++)t.each(function(t){n.pushDataProp(t,e[r][t])});return this},setDataPropFix:function(){for(var t in this.Source)N.isModule(this.Source[t],"Array")&&(this.Source[t]=this.Source[t].toArray());return this},getDataPropFix:function(){var t={};for(var e in this.Source)t[e]=N.isModule(this.Source[e],"Array")?this.Source[e].toArray():this.Source[e];return t},map:function(t,e){if("function"==typeof t){for(var n=N.clone(this.Source),r=this.keys(e,!0),i=0,o=r.length;o>i;i++)n[r[i]]=t(this.Source[r[i]],r[i]);return n}},setMap:function(t,e){if("function"==typeof t){for(var n=this.keys(e,!0),r=0,i=n.length;i>r;r++)this.Source[n[r]]=t.call(this,this.Source[n[r]],n[r]);return this}},inject:function(t,e,n){return"function"==typeof e?(this.map(function(n,r){var i=e(n,t,r);"undefined"!=typeof i&&(t=i)},n),t):void 0},join:function(t,e){return t="string"==typeof t?t:":",e="string"==typeof e?e:",",this.inject([],function(e,n,r){n.push(r+t+N.toString(e))}).join(e)},toParameter:function(t){return this.inject({},function(e,n,r){n[0==t?r:new N.StringSource(r).encode()]=0==t?e:new N.StringSource(e).encode()})},stringify:function(){return JSON.stringify(this.getDataPropFix())},toString:function(){return JSON.stringify(this.getDataPropFix())},change:function(t,e){return N.propChange(this.Source,t,e),this.Source},removeAll:function(){for(var t in this.Source)delete this.Source[t];return this.Source},getRemove:function(){var t=this.Source;return new N.Array(arguments).setStringFlatten().each(function(e){delete t[e]}),this.Source},remove:function(t){return delete this.Source[t],this},concat:function(){for(var t=this.clone(),e=0,n=arguments.length;n>e;e++)new N.HashSource(arguments[e]).each(function(e,n){t[n]=e});return t},setConcat:function(){return this.setSource(this.concat.apply(this,arguments)),this},safeConcat:function(){for(var t=this.clone(),e=0,n=arguments.length;n>e;e++)new N.HashSource(arguments[e]).each(function(e,n){n in t==0&&(t[n]=e)});return t},setSafeConcat:function(){return this.setSource(this.getSafeConcat.apply(this,arguments)),this}},function(t,e,n){"string"==typeof n?(this.Source={},this[n].apply(this,new N.Array(arguments).setSubarr(0,2).toArray())):this.Source=N.toObject(t,e)},function(t){return this.setDataPropFix(),0==arguments.length?this.Source:this.Source[t]});var htmlSafeMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};N.MODULE("StringSource",{encode:function(){return encodeURI(this.Source)},decode:function(){return decodeURI(this.Source)},setEncode:function(){return this.Source=this.encode(),this},setDecode:function(){return this.Source=this.decode(),this},raw:function(){return this.Source},HTMLSafe:function(){return new String(this.Source).replace(/[&<>"'\/]/g,function(t){return htmlSafeMap[t]})},byteSize:function(){return unescape(escape(this.Source).replace(/%u..../g,function(){return"uu"})).length},lines:function(){return Array.split(this.Source,"\n").toArray()},lineEach:function(t,e){return"function"==typeof t?new N.Array(this.lines()).setMap(function(e,n){return t(e,n)}).setCompact().join(e?e:"\n"):void 0},tabSize:function(){var t=/^([\s\t]*)(.*)/.exec(this.Source),e=t[1].replace(/[^\t]*/g,"").length,n=t[1].replace(/[^\s]*/g,"").length-e;return e+Math.floor(n/4)},tabAbsolute:function(t,e){t=N.toNumber(t),arguments.length<2&&(e="	"),0>t&&(t=0);for(var n="",r=0;t>r;r++)n+=e;return n+/^([\s\t]*)(.*)/.exec(this.Source)[2]},tabsOffset:function(t,e){return t=parseInt(t),"number"==typeof t?N.Array.split(this.Source,"\n").setMap(function(n){return new N.StringSource(n).tabAbsolute(new N.StringSource(n).tabSize()+t,e)}).join("\n"):this.Source},tabsSize:function(){var t;return this.lineEach(function(e){var n=new N.StringSource(e).tabSize();(void 0==t||t>n)&&(t=n)}),t},tabsAlign:function(){var t,e=0;return this.lineEach(function(n){var r=new N.StringSource(n).tabSize();return void 0==t?(t=0,n):(r>t?e++:t>r&&e--,t=r,new N.StringSource(n).tabAbsolute(e))})},setTabsAlign:function(){return this.Source=this.tabsAlign(),this},trimLine:function(){return this.lineEach(function(t){var e=t.trim();return""==e?void 0:t})},setTrimLine:function(){return this.Source=this.trimLine(),this},trim:function(){return this.Source.trim()},setTrim:function(){return this.Source=this.trim(),this},abilityFunction:function(t,e,n){var r=1==n?N.safeSplit(this.Source,t,["{}","[]",'""',"''"]):this.Source.trim().split(t);return""==r[r.length-1].trim()&&(r.length=r.length-1),new N.Array(r).isAll(function(t){return t.indexOf(e)>0})?r.length:0},abilityObject:function(){return this.abilityFunction(",",":",!0)},abilityParameter:function(){return this.abilityFunction("&","=")},abilityCss:function(){return this.abilityFunction(";",":")},isDataContent:function(t){var e=this.abilityObject(),n=this.abilityCss(),r=this.abilityParameter();return N.isWrap(this.Source,"[]")?"array":1==t&&1==N.isWrap(this.Source,"''",'""')?"plain":1==t&&N.isWrap(this.Source,"{}")||e>0&&e>=n&&e>=r?"object":r>0?/^<\w+/i.test(this.Source)&&/\w+>$/i.test(this.Source)?"plain":"parameter":e>0?"css":"plain"},isDataContentFunction:function(t,e,n){return new N.Array(1==n?N.safeSplit(this.Source,t,["{}","[]",'""',"''"]):this.Source.trim().split(t)).inject({},function(t,r){var i=t.substr(t.indexOf(e)+1);return t.trim().length>0&&(r[N.unwrap(t.substr(0,t.indexOf(e)),['""',"''"])]=N.unwrap(1==n?new N.StringSource(i).getContentObject(!0):i,['""',"''"])),r})},getContentObject:function(t){switch(this.isDataContent(t)){case"object":return this.isDataContentFunction(",",":",!0);case"parameter":return this.isDataContentFunction("&","=");case"css":return this.isDataContentFunction(";",":");case"array":var e=N.safeSplit(this.Source,",",["{}","[]",'""',"''"]);return""==e?[]:new N.Array(e).inject([],function(t,e){return e.push(N.unwrap(new N.StringSource(t).getContentObject(!0),["''",'""'])),e});case"plain":return isNaN(this.Source)||""===this.Source?this.Source:parseFloat(this.Source)}},JSON:function(){return JSON.stringify(this.getContentObject())},reverse:function(){return this.Source.split("").reverse().join("")},setReverse:function(){return this.Source=this.reverse(),this},getRemove:function(t){var e=this.Source.indexOf(t);if(0>e)return this.Source;var n=t.length;return this.Source.substr(0,e)+this.Source.substr(e+n,this.Source.length)},remove:function(t){return this.Source=this.getRemove(t),this},removeModel:function(t,e){e=e?e:" ";var n=this.Source.split(e),r=[];if(t instanceof RegExp)for(var i=0,o=n.length;o>i;i++)0==t.test(n[i])&&r.push(n[i]);else for(var i=0,o=n.length;o>i;i++)n[i]!==t&&r.push(n[i]);return r.join(e)},setRemoveModel:function(t,e){return this.Source=this.removeModel(t,e),this},hasModel:function(t,e){e=e?e:" ";for(var n=this.Source.split(e),r=0,i=n.length;i>r;r++)if(n[r]==t)return!0;return!1},addModel:function(t,e){return e=e?e:" ",this.hasModel(t,e)?this.Source:this.Source+e+t},setAddModel:function(t,e){return this.Source=this.addModel(t,e),this},fixString:function(t,e){return("string"==typeof t?t:"")+this.Source+("string"==typeof e?e:"")}},function(t,e){return this.Source="undefined"==typeof t||null==t?"":N.toString(t,10,e),this});var UNIQUE_RANDOM_KEYS=[];N.SINGLETON("Util",{base64Token:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",base64Random:function(t,e,n){t=isNaN(t)?1:parseInt(t),e=isNaN(e)?0:parseInt(e),n=isNaN(n)?64-e:parseInt(n);for(var r="",i=0,o=t;o>i;i++)r+=this.base64Token.charAt(e+parseInt(Math.random()*n));return r},base64UniqueRandom:function(t,e,n,r){var i,o=0;e="string"==typeof e?e:"";do{var a=!1;i=e+this.base64Random(t,n,r),N.dataEach(UNIQUE_RANDOM_KEYS,function(t){return t==i&&(a=!0),!1}),o++,o>100&&(console.log("base64UniqueRandom 1000\ud68c \uc774\uc0c1 \ub79c\ub364\uc744 \uc0dd\uc131\ud558\uc600\uc9c0\ub9cc unique \uac12\uc744 \uad6c\ud560\uc218 \uc5c6\uc5c8\uc2b5\ub2c8\ub2e4"),a=!1,i=void 0)}while(a);return i&&UNIQUE_RANDOM_KEYS.push(i),i},base62Random:function(t){return this.base64Random(t,0,62)},base62UniqueRandom:function(t,e){return this.base64UniqueRandom(t||6,e,0,62)},random:function(t){return parseInt(this.base64Random(t,52,10))},numberRandom:function(t){return this.base64Random(t,52,10)},base36Random:function(t){return this.base64Random(t,26,36)},base36UniqueRandom:function(t,e){return this.base64UniqueRandom(t||6,e,26,36)},base26Random:function(t){return this.base64Random(t,0,52)},base26UniqueRandom:function(t,e){return this.base64UniqueRandom(t||6,e,0,52)}}),N.SINGLETON("Client",{agent:function(t){return"string"==typeof t?(navigator.userAgent||navigator.vendor||window.opera).toLowerCase().indexOf(t.toLowerCase())>-1:navigator.userAgent||navigator.vendor||window.opera},info:N.ENV,width:function(){return window.innerWidth||document.documentElement.clientWidth||document.getElementsByTagName("body")[0].clientWidth},height:function(){return window.innerHeight||document.documentElement.clientHeight||document.getElementsByTagName("body")[0].clientHeight},bound:function(){return{width:this.width(),height:this.height()}},url:function(){return window.document.URL.toString()},urlInfo:function(){return N.url.info()},root:function(){return N.url.root()},protocol:function(t){var e=this.urlInfo(t);return e.protocol},uri:function(t){var e=this.urlInfo(t);return e.path},filename:function(t){var e=this.urlInfo(t);return e.filename},filepath:function(t,e){var n=this.urlInfo(t),r=n.protocol+n.divider+n.hostname+(""!=n.port?":"+n.port:n.port);return r+n.path.replace(/\/[^\/]+$/,"")+(0==e?"":"/")},getAbsolutePath:function(t,e){if(N.isNothing(t))return this.url();if(N.likeString(t)&&null==this.urlInfo(t)){if(t=t.trim(),0==t.indexOf("./")&&(t=t.substr(2)),0==t.indexOf("/"))return this.root(void 0,!1)+t;
for(var n=0,r=this.filepath(e),i=t.replace(/\.\.\//gi,function(){return n++,""}),o=0;n>o;o++)r=r.replace(/[^\/]+\/$/,"");return r+i}return t},query:function(t){var e=this.urlInfo(t);return e.query},fragment:function(t){var e=this.urlInfo(t);return e.fragment},queryData:function(t){var e=this.urlInfo(t);return N.toObject(e.query)},scriptUrl:function(){var t=N.url.script();return function(){return t}}(),scriptInfo:function(t){return this.urlInfo(t?t:this.scriptUrl())},scriptName:function(t){return this.scriptInfo(t).filename},scriptPath:function(t){return this.scriptInfo(t).path},scriptRoot:function(t){return/(.*\/|\/|)[^\/]*$/.exec(this.scriptInfo(t).path)[1]},setCookie:function(t,e,n,r){document.cookie=t+"="+escape(e)+(void 0==n?"":"; expires="+n.toGMTString())+";path="+("undefined"==typeof r?"/":escape(r))},getCookie:function(t){var e=t+"=";if(document.cookie.length>0){var n=document.cookie.indexOf(e);if(-1!=n){n+=e.length;var r=document.cookie.indexOf(";",n);return-1==r&&(r=document.cookie.length),unescape(document.cookie.substring(n,r))}}return null},usingCookie:function(t){return this.getCookie(t)?!0:!1},touchCookie:function(t,e,n){if(!this.getCookie(t)){n||(n="true"),e||(e=576e5);var r=new Date,i=new Date;return i.setTime(r.getTime()+e),setCookie(t,n,i),!0}return!1},removeCookie:function(t,e){e=";path="+("undefined"==typeof e?"/":escape(e)),document.cookie=t+"="+e+";expires=Thu, 01 Jan 1970 00:00:01 GMT"},setLocalData:function(t,e){if(!this.agent("adobeair"))return this.setCookie(t,N.toDataString(e));var n=new air.ByteArray;n.writeUTFBytes(N.toDataString(e)),air.EncryptedLocalStore.setItem(t,n)},isEventSupport:function(t,e){var n="object"==typeof e?e:document.createElement("string"==typeof e?e:"div"),r=t in n;return!r&&"setAttribute"in n?(n.setAttribute(t,"return;"),"function"==typeof n[t]):r},localData:function(t){if(this.agent("adobeair")){var e=air.EncryptedLocalStore.getItem(t);return null==e?void 0:N.fromDataString(e.readUTFBytes(e.bytesAvailable))}return N.fromDataString(this.getCookie(t))},usingLocalData:function(t){return this.agent("adobeair")?air.EncryptedLocalStore.getItem(t)?!0:!1:this.usingCookie(t)},touchLocalData:function(t,e){return this.agent("adobeair")?void(this.usingLocalData||this.setLocalData(t,e)):this.touchCookie(t,e)},removeLocalData:function(t){return this.agent("adobeair")?void air.EncryptedLocalStore.removeItem(t):this.removeCookie(t)},isLocalHTML:function(){return location.href.indexOf(!1)||location.href.indexOf(!1)?!0:!1},include:function(t){return N.include(t)},setClipboard:function(t){if(window.clipboardData&&clipboardData.setData)clipboardData.setData("Text",t);else{user_pref("signed.applets.codebase_principal_support",!0),netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");var e=Components.classes["@mozilla.org/widget/clipboard;[[[[1]]]]"].createInstance(Components.interfaces.nsIClipboard);if(!e)return;var n=Components.classes["@mozilla.org/widget/transferable;[[[[1]]]]"].createInstance(Components.interfaces.nsITransferable);if(!n)return;n.addDataFlavor("text/unicode");var r=new N.HashSource,r=(new N.HashSource,Components.classes["@mozilla.org/supports-string;[[[[1]]]]"].createInstance(Components.interfaces.nsISupportsString)),i=meintext;r.data=i,n.setTransferData("text/unicode",r,i.length*[[[[2]]]]);var o=Components.interfaces.nsIClipboard;if(!e)return!1;e.setData(n,null,o.kGlobalClipboard)}},cursorPoint:function(t){t=t||window.event;var e={x:0,y:0};return t.touches&&t.touches[0]?(e.x=t.touches[0].pageX,e.y=t.touches[0].pageY):t.pageX||t.pageY?(e.x=t.pageX,e.y=t.pageY):(e.x=t.clientX+(document.documentElement.scrollLeft||document.body.scrollLeft)-document.documentElement.clientLeft,e.y=t.clientY+(document.documentElement.scrollTop||document.body.scrollTop)-document.documentElement.clientTop),e},getFlashVersion:function(){try{try{var t=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");try{t.AllowScriptAccess="always"}catch(e){return"6,0,0"}}catch(e){}return new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(e){try{if(navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin)return(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(e){}}return"0,0,0"},getMajorFlashVersion:function(){return parseInt(this.getFlashVersion().split(",")[0])}})}(window,N),function(e,n){var r=new RegExp("("+["\\:[^\\:]+","^[\\w\\-TA_]+","\\[[\\w\\-\\_]+\\]|\\[\\'[\\w\\-\\_]+\\'\\]|\\[\\\"[\\w\\-\\_]+\\\"\\]","\\[[\\w\\-\\_]+\\=[^\\]]+\\]|\\[\\'[\\w\\-\\_]+\\'\\=\\'[^\\]]+\\'\\]|\\[\\\"[\\w\\-\\_]+\\\"\\=\\\"[^\\]]+\\\"\\]","\\#[\\w\\-\\_]+","\\.[\\w\\-\\_]+","\\?[\\w\\-\\_]+","\\![\\w\\-\\_]+","::.*$"].join("|")+")","gi");safeParseMap={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"]},safeParseMap.optgroup=safeParseMap.option,safeParseMap.tbody=safeParseMap.tfoot=safeParseMap.colgroup=safeParseMap.caption=safeParseMap.thead,safeParseMap.th=safeParseMap.td,n.SINGLETON("ELUT",{parseHTML:function(t){var e=n.cache.get("N.parseHTML",t);if(e)return n.cloneNodes(e);if(!/<|&#?\w+;/.test(t))return[];var r=/<([\w]+)/.exec(t),r=r?r[1].toLowerCase():"",i=document.createElement("div"),o=0;r in safeParseMap?(i.innerHTML=safeParseMap[r][1]+t+safeParseMap[r][2],o=safeParseMap[r][0]):i.innerHTML=t;for(;o--;)i=i.lastChild;return n.cache.set("N.parseHTML",t,n.cloneNodes(i.children)),n.cloneArray(i.children)},selectorInfo:function(t,e){t="string"!=typeof t?"":t;var i=n.cache.get("N.selectorInfo",t);if(i)i=n.cloneObject(i);else{var i={},o=[],a=t;a=a.replace(r,function(t){return t&&o.push(t),""});for(var s=o.concat(n.safeSplit(a,":","()",!0)),u=0,c=s.length;c>u;u++){var f=/(.?)((.?).*)/.exec(s[u]);switch(f[1]){case"#":i.id||(i.id=f[2]);break;case".":i["class"]?(i["class"]+=" ",i["class"]+=f[2]):i["class"]=f[2];break;case":":if(":"==f[3])i["::"]=f[0].substr(2);else{i[":"]||(i[":"]={});var l=/(:([\w\-\_]+))(\((.*)\)$|)/.exec(f[0]);switch(l[1]){case":disabled":case":readonly":case":checked":i[":"][l[2]]=!0;break;case":nth-child":i[":"][l[2]]=void 0===l[4]?null:l[4].match(/^(even|odd)$/)?l[4]:n.toNumber(l[4]);break;case":contains":case":has":case":not":i[":"][l[2]]=l[4];break;case":first-child":case":last-child":case":only-child":case":even":case":odd":case":hover":i[":"][l[2]]=null;break;default:i[":"][l[2]]=l[4]}}break;case"!":i.name=f[2];break;case"?":i.type=f[2];break;case"[":var h=/\[([\"\'\w\-\_]+)(=|~=|)(.*|)\]$/.exec(f[0]);i[n.unwrap(h[1],["''",'""'])]=h[3]?n.unwrap(h[3],["''",'""']):null;break;default:switch(f[0].toLowerCase()){case"checkbox":case"file":case"hidden":case"hidden":case"password":case"radio":case"submit":case"text":case"reset":case"image":case"number":i.tagName="input",i.type=f[0];break;default:i.tagName=f[0].toLowerCase()}}}n.cache.set("N.selectorInfo",t,n.cloneObject(i))}var h=n.clone(n.toObject(e,"html"));"html"in h&&(h["::"]=h.html,delete h.html);for(var d in h)i[d]=h[d];return i},pushCSSExpression:function(t,e){if(n.isNode(t)){var r="string"==typeof e?n.selectorInfo(e):"object"==typeof e?e:void 0;if("object"==typeof r)for(var i in r)switch(i){case":":case"::":case"tagName":break;default:null===r[i]||void 0===r[i]?t.setAttribute(i,""):t.setAttribute(i,r[i])}}return t},parseTag:n.CONTINUE_FUNCTION(function(t,e){if("object"==typeof t){var r=[];return n.dataEach(t,function(t){n.isNode(t)&&r.push(t.outerHTML)}),r.join("")}if(arguments.length>1&&("string"==typeof e||"number"==typeof e)){for(var i="",o=1,a=arguments.length;a>o;o++)"undefined"!=typeof arguments[o]&&(i+=arguments[o]);e=i}var s,u,c="string"==typeof e||"undefined"==typeof e?!0:!1;if(c){u=t;var f=n.cache.get("N.parseTag",u);if(f)return e?f[0]+e+f[1]:f[0]+f[1]}var s=n.selectorInfo(t,e);"tagName"in s&&"*"!=s.tagName||(s.tagName="div");var l="";for(var h in s)switch(h){case"tagName":case"::":break;case":":for(inkey in s[h])switch(inkey){case"disabled":case"checked":case"selected":l+=" "+inkey}break;default:l+=void 0==typeof s[h]||null==s[h]?" "+h:" "+h+'="'+s[h]+'"'}l=l.trim();var d,p,h="<"+s.tagName+(l.length<1?"":" "+l),g=s["::"]||"";return"input"==s.tagName?(d=h+' value="',p='"/>'):(d=h+">",p="</"+s.tagName+">"),u&&n.cache.set("N.parseTag",u,[d,p]),d+g+p},1)}),n.ELUT.EACH_TO_METHOD(),n.SINGLETON("NodeUtil",{attr:function(t,e,r){if(!n.isNode(t))return console.error("N.NodeUtil.attr\uc740 element\ub9cc \uac00\ub2a5\ud569\ub2c8\ub2e4. => \ub4e4\uc5b4\uc628\uac12"+n.tos(t)),null;if(1===arguments.length)return n.inject(t.attributes,function(e,n){e[n.name]=t.getAttribute(n.name)});if("object"==typeof e)for(var i in e)t.setAttribute(i,e[i]);else if("string"==typeof e){var o="undefined"==typeof r,a=e.toLowerCase();switch(a){case"readonly":if("readOnly"in t)return o?t.readOnly:(t.readOnly=r,t);break;case"disabled":case"checked":if(a in t)return o?t[a]:(t[a]=r,t)}if(o){var s=t.getAttribute&&t.getAttribute(e)||null;if(!s){var u=t.attributes;if(!n.isNothing(u))for(var c=u.length,f=0;c>f;f++)u[f].nodeName===e&&(s=u[f].value,"undefined"==typeof s&&(s=u[f].nodeValue))}return s}t.setAttribute(e,r)}return t},root:function(t){if(n.isNode(t)){var e=function(t){t.parentElement?e(t.parentElement):t};return e(t)}},parents:function(t){if(n.isNode(t)){var e=[],r=function(t){t.parentElement&&(e.push(t.parentElement),r(t.parentElement))};return r(t),e}},the:function(t,e){return n.MATCHES_SELECTOR_ENGINE(t,e)},is:function(t,e){return n.isNode(t)?"undefined"==typeof e||"*"==e||""==e?!0:n.MATCHES_SELECTOR_ENGINE(t,e):!1},query:function(t,e){return"string"!=typeof t||0==t.trim().length?[]:(e="undefined"==typeof e?document:n.isNode(e)?e:document,e==document?n.QUERY_SELECTOR_ENGINE(e,t):n.MATCHES_SELECTOR_ENGINE(e,t)?[e].concat(Array.prototype.slice.call(n.QUERY_SELECTOR_ENGINE(e,t))):n.QUERY_SELECTOR_ENGINE(e,t))},feedDownWhile:function(t,e,r){if(e.call(t,t)!==!1)for(var i=n.toArray(r.call(t,t)),o=0,a=i.length;a>o;o++)n.NodeUtil.feedDownWhile(i[o],e,r)},style:function(t,e,r){if("undefined"==typeof e)return n.ENV.supportComputedStyle?window.getComputedStyle(t,null):t.currentStyle;if("string"==typeof e){var i=n.ENV.getCSSName(e);if(arguments.length<3)return n.ENV.supportComputedStyle?window.getComputedStyle(t,null).getPropertyValue(i):t.currentStyle[camelCase(i)];var o=n.node.attr(t,"style")||"";if(null===r)o=o.replace(new RegExp("(-webkit-|-o-|-ms-|-moz-|)"+e+"(.?:.?|)[^;]+;","g"),function(t){return console.log(t),""}),n.node.attr(t,"style",o);else{var a=n.ENV.getCSSName(r);o=o.replace(new RegExp("(-webkit-|-o-|-ms-|-moz-|)"+e+".?:.?[^;]+;","g"),""),n.node.attr(t,"style",i+":"+a+";"+o)}}else"object"==typeof e&&n.propEach(e,function(e,r){"string"==typeof r&&n.NodeUtil.style(t,r,e)})},position:function(t){if(!t)return null;for(var e=0,n=0;t;)e+=t.offsetLeft-t.scrollLeft+t.clientLeft,n+=t.offsetTop-t.scrollTop+t.clientTop,t=t.offsetParent;return{x:e,y:n}},mousePosition:function(t,e){e=e?e:document.documentElement;var n=this.position(e);return n.x=t.clientX-n.x,n.y=t.clientY-n.y,n}}),n.SINGLETON("Finder",{findLite:function(t){if("string"==typeof t)return n.NodeUtil.query(t);if(n.isNode(t))return[t];if(n.isArray(t)){for(var e=[],r=0,i=t.length;i>r;r++)if("string"==typeof t[r]){var o=n.NodeUtil.query(t[r]);o.length&&(e=e.concat(o))}else if(n.isNode(t[r]))e.push(t[r]);else if(n.isArray(t[r])){var a=n.findLite(t[r]);a.length&&(e=e.concat(a))}return n.dataUnique(e)}return[]},findByOnePlace:function(t,e){if("string"==typeof t)return n.NodeUtil.query(t,e);if(n.isNode(t))for(var r=n.NodeUtil.query(n.node.trace(t),e),i=0,o=r.length;o>i;i++)if(t===r[i])return[t];if(n.isArray(t)){for(var a=[],i=0,o=t.length;o>i;i++){var s=n.findByOnePlace(t[i],e);s.length&&(a=a.concat(s))}return n.dataUnique(a)}return[]},findBySeveralPlaces:function(t,r){if(1===arguments.length||"undefined"==typeof r||null===r||r===e.document)return n.findLite(t);var i=n.findLite(r);if(0===i.length)return n.findLite(t);for(var o=n.toArray(t),a=[],s=0,u=i.length;u>s;s++)for(var c=0,f=o.length;f>c;c++){var l=n.findByOnePlace(o[c],i[s]);l.length&&(a=a.concat(l))}return n.dataUnique(a)},find:n.CONTINUE_FUNCTION(function(t,e,r){return"number"==typeof e?n.findLite(t)[e]:"number"==typeof r?n.findBySeveralPlaces(t,e)[r]:n.findBySeveralPlaces(t,e)}),findMember:function(t,e){var r=n.findLite(t)[0];if(n.isNode(r)){if("number"!=typeof e)return n.toArray(r.parentElement.children);var i=-1;return n.dataEach(r.parentNode.children,function(t,e){return r==t?(i=e,!1):void 0}),r.parentNode.children[i+e]}},findIn:n.CONTINUE_FUNCTION(function(t,e,r){return"number"==typeof r?n.findBySeveralPlaces(e||"*",n.dataMap(n.findBySeveralPlaces(t),function(t){return t.children},n.argumentsFlatten))[r]:"number"==typeof e?n.findBySeveralPlaces("*",n.dataMap(n.findBySeveralPlaces(t),function(t){return t.children},n.argumentsFlatten))[e]:n.findBySeveralPlaces(e||"*",n.dataMap(n.findBySeveralPlaces(t),function(t){return t.children},n.argumentsFlatten))},2),findOn:n.CONTINUE_FUNCTION(function(t,e){var r=n.dataMap(n.findBySeveralPlaces(t),function(t){return t.children},n.argumentsFlatten);switch(typeof e){case"number":return[r[e]];case"string":return n.dataFilter(r,function(t){return n.NodeUtil.is(t,e)});default:return r}},1),findParents:n.CONTINUE_FUNCTION(function(t,e,r){return"string"==typeof e?"number"==typeof r?n.dataFilter(n.NodeUtil.parents(n.findBySeveralPlaces(t)[0]),function(t){return n.node.is(t,e)})[r]:n.dataFilter(n.NodeUtil.parents(n.findBySeveralPlaces(t)[0]),function(t){return n.node.is(t,e)}):"number"==typeof e?n.NodeUtil.parents(n.findBySeveralPlaces(t)[0])[e]:n.NodeUtil.parents(n.findBySeveralPlaces(t)[0])},1),findRoot:n.CONTINUE_FUNCTION(function(t){return n.NodeUtil.root(n.findLite(t)[0])},1),findBefore:n.CONTINUE_FUNCTION(function(t,e){t=n.findLite(t)[0];var r=n.node.index(t),i=[];if("number"==typeof r)switch(typeof e){case"string":for(var o=0,a=r;a>o;o++){var s=t.parentNode.children[o];n.node.is(s,e)&&i.push(s)}break;case"number":i.push(t.parentNode.children[r-(e+1)]);break;default:for(var o=0,a=r;a>o;o++)i.push(t.parentNode.children[o])}return i},1),findAfter:n.CONTINUE_FUNCTION(function(t,e){t=n.findLite(t)[0];var r=n.node.index(t),i=[];if("number"==typeof r)switch(typeof e){case"string":for(var o=r+1,a=t.parentNode.children.length;a>o;o++){var s=t.parentNode.children[o];n.node.is(s,e)&&i.push(s)}break;case"number":i.push(t.parentNode.children[r+(e+1)]);break;default:for(var o=r+1,a=t.parentNode.children.length;a>o;o++)i.push(t.parentNode.children[o])}return i},1),findParent:n.CONTINUE_FUNCTION(function(t,e,r){if("number"==typeof e||"string"==typeof e&&"number"==typeof r)return n.dataFirst(n.findParents(t,e,r));var i=n.findLite(t)[0];if(i){if("string"!=typeof e)return i.parentElement;var o=n.NodeUtil.parents(i);for(var a in o)if(n.NodeUtil.is(o[a],e))return o[a]}return void 0},1),findDocument:n.CONTINUE_FUNCTION(function(t){var e=n.findLite(t)[0];if(e){if("IFRAME"==e.tagName)return e.contentDocument||e.contentWindow.document;if(n.isDocument(e))return e}else console.warn("iframe\uc744 \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.",t)},1),findTree:n.CONTINUE_FUNCTION(function(t,e){var r=n.findLite(t)[0];if(!r)return[];var i=n.findParents(r,n.dataMap,function(){return e===!0?n.node.trace(this):this});return i.reverse(),i.push(e===!0?n.node.trace(r):r),i},1),inside:n.CONTINUE_FUNCTION(function(t,e){var r=n.findLite(t);return r.length&&n.find(e,t).length?!0:!1},1),outside:n.CONTINUE_FUNCTION(function(t,e){var r=n.findLite(e);return r.length&&n.find(t,r).length?!1:!0},1),findOffset:function(e,r,i){var e=n.findLite(e)[0];if(e){var o=t=0,a=e.offsetWidth,s=e.offsetHeight;for(r=n.findLite(r)[0]||document.body;;){if(o+=e.offsetLeft,t+=e.offsetTop,i===!0&&console.log(o,t,e,r),!e.offsetParent)break;if(e===r)break;e=e.offsetParent}var u=[o,t,a,s];return u.x=o,u.y=t,u.width=a,u.height=s,u}}}),n.Finder.EACH_TO_METHOD(),n.SINGLETON("Element",{create:function(t,r,i){var o,a,t="string"!=typeof t?"div":t.trim();t=t.replace(/\[\[[\w\-\=\s]+\]\]/gi,function(t){t=t.substr(2,t.length-4);var e=t.indexOf("=");return t.length-1===e?"[nd-"+t.substring(0,t.length-1)+"]":e>0?"[nd-"+t.substr(0,e)+"="+t.substr(e+1)+"]":"[nd-value="+t+"]"});var s,u,c=t,f=!1;switch(typeof r){case"object":"dataset"in r&&(s=r.dataset,r=n.clone(r),delete r.dataset),"html"in r&&(u=r.html,delete r.html),"value"in r&&(u=r.value,delete r.value),n.isNothing(r)&&(f=!0,r=void 0);break;case"number":case"boolean":r+="";case"string":u=r,f=!0,r=void 0;break;case"undefined":f=!0;break;default:console.warn("N.create\uc758 \ub450\ubc88\uc9f8 \uac12\uc740 \uae00\uc790\ub098 \uc624\ube0c\uc81d\ud2b8\uc785\ub2c8\ub2e4. \ub4e4\uc5b4\uc628 \uac12 ->",r),f=!0,r=void 0}if(f){var l=n.cache.get("N.create",c);l&&(o=n.cloneNodes(l)[0],a=!0)}if(a||(o=n.parseHTML(0!==t.indexOf("<")?n.parseTag(t,r):t)[0],f&&n.cache.set("N.create",c,n.cloneNodes(o)[0])),s)for(var h in s)o.dataset||(o.dataset={}),o.dataset[h]=s[h];return u&&("value"in o&&!o.tagName.match(/LI|BUTTON/)?o.setAttribute("value",u):o.innerHTML=u),i=n.findLite(i)[0],i&&(i==e.document&&(i=e.document.getElementsByTagName("body")[0]),i.appendChild(o)),o},makeText:n.CONTINUE_FUNCTION(function(t){return e.document.createTextNode(t)},1),make:n.CONTINUE_FUNCTION(function(t,e,r){if(n.isArray(e)||n.isNode(e)||n.isTextNode(e)){var i=n.create(t);return n.node.append(i,new n.Array(arguments).setSubarr(1).setFlatten().toArray()),i}if(n.isNode(r)||n.isTextNode(r)){var i=n.create(t,e);return n.node.append(i,new n.Array(arguments).setSubarr(2).setFlatten().toArray()),i}return n.create(t,e)},1),makes:n.CONTINUE_FUNCTION(function(t,e){if("string"!=typeof t||!t)return[];var r=n.make("div"),i=t.toLowerCase().indexOf("template")>-1?!0:!1,o=t.indexOf(">");if(o>0){var a=t.substr(0,o),s=t.substr(o+1).trim(),u=s.indexOf("^"),c=s.indexOf(">");if(u>1&&(-1==c||u<s.indexOf(">")))var f,l,s=s.replace(/\^.+/,function(t){return f=t.replace(/[\^]+/,function(t){return l=t.length,""}).trim(),""}).trim()}else var a=t,s="";var h=n.safeSplit(a,"+","{}"),d=h.length-1;n.dataEach(h,function(t,e){var i=1;t=t.replace(/\*[\d]+$/,function(t){return i=parseInt(t.substr(1)),""}),t=(t+" ").replace(/\$[^i]/,function(){return"\\{$i+1}"});var o=t.indexOf("\\{")>-1?!0:!1;n.times(i,function(i){var a=o?n.exp.seed(i)(t):t,u=n.make(a);if(r.appendChild(u),e==d&&(s.length>0&&n.makes(s,u),f)){var c=r;n.times(l-1,function(){return c&&c.parentElement?void(c=c.parentElement):!1}),c&&n.makes(f,c)}})});var p=n.toArray(r.children);if(i&&n.dataEach(n.find("template",r),function(t){"content"in t||(t.content=document.createDocumentFragment()),n.dataEach(n.toArray(t.childNodes),function(e){t.content.appendChild(e)})}),e){var g=n.findLite(e)[0];if(g)for(var v=0,N=p.length;N>v;v++)g.appendChild(p[v])}return p},1),makeWrap:n.CONTINUE_FUNCTION(function(t,e,r){var i=n.make(t),o=n.find(e,r);return o[0]&&o[0].parentElement&&n.node.before(o[0],i),n.node.append(i,o),i},1),makeCol:function(){return n.make("colgroup",n.dataMap(arguments,function(t){return n.create("col",/^\d/.test(t)?{width:t}:{"class":t})}))},makeTemplate:function(t,e){var r="string"==typeof e?'<template id="'+e+'">':"<template>";return r+=t,r+="</template>",n.parseHTML(r)[0]},makeImg:function(t,e){if("string"==typeof t){var r={src:t};return e&&(r.style="width:"+n.toPx(e)+";"),n.make("img",r)}if(n.isNode(t)&&t.files&&t.files[0]){if(!t.files[0].type.match(/image.*/))return;var i=n.make("img"),o=new FileReader;return o.onload=function(t){i.src=t.target.result},o.readAsDataURL(t.files[0]),i}},makeCanvas:function(t,e,r){function i(n){var r=document.createElement("img");r.onload=function(){o.getContext("2d").drawImage(this,0,0,t,e)},r.src=n}var o=document.createElement("canvas");if(o.setAttribute("width",t?t:"auto"),o.setAttribute("height",e?e:"auto"),n.isNode(r))if("IMG"===r.tagName)r=r.src;else if(r.files&&r.files[0]){var a=r.files[0];if(!a.type.match(/image.*/))return;var s=new FileReader;s.onload=function(t){i(t.target.result)},s.readAsDataURL(a),src=void 0}return"string"==typeof r?i(r):n.CALL(r,o,o.getContext("2d")),o},cloneNodes:function(t){return n.dataMap(n.findLite(t),function(t){return t.cloneNode(t,!0)})},importNodes:function(t){"string"==typeof t&&(t=t.trim(),t=/^<.+>$/.test(t)?n.parseHTML(t):/^\#[\w\-]+$/.test(t)?n.findLite(t):n.makes(t));var e=[],r=n.findLite(t);return 0===r.length?(console.warn("importNodes::\ubcf5\uc0ac\ud560 \ub178\ub4dc\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.",t),e):(n.dataEach(r,function(t){"content"in t?n.dataEach(document.importNode(t.content,!0).childNodes,function(t){e.push(t)}):e.push(t.cloneNode(!0))}),n.findLite(e))},makeSampleNode:function(t,e){var r,i=n.importNodes(t);if(1===i.length)r=i[0];else if(i.length>1){for(var o=n.make(e),a=0,s=i.length;s>a;a++)o.appendChild(i[a]);r=o}return r?"string"==typeof e?n.pushCSSExpression(r,e):r:console.warn("makeSampleNode::no result from",t)},cloneObject:function(t){if("object"==typeof t){var e={};for(var r in t)e[r]=t[r];return e}return n.toObject(t)}}),n.Element.EACH_TO_METHOD(),!window.addEventListener&&function(t,e,n,r,i,o,a){t[r]=e[r]=n[r]=function(t,e){var n=this;a.unshift([n,t,e,function(t){t.currentTarget=n,t.preventDefault=function(){t.returnValue=!1},t.stopPropagation=function(){t.cancelBubble=!0},t.target=t.srcElement||n,e.call(n,t)}]),this.attachEvent("on"+t,a[0][3])},t[i]=e[i]=n[i]=function(t,e){for(var n,r=0;n=a[r];++r)if(n[0]==this&&n[1]==t&&n[2]==e)return this.detachEvent("on"+t,a.splice(r,1)[0][3])},t[o]=e[o]=n[o]=function(t){return this.fireEvent("on"+t.type,t)}}(Window.prototype,HTMLDocument.prototype,Element.prototype,"addEventListener","removeEventListener","dispatchEvent",[]);var i=function(t,e,n){"number"==typeof n&&t.children[n]?t.insertBefore(e,t.children[n]):t.appendChild(e)},o={hasFocus:function(t){return document.activeElement==n.findLite(t)[0]},caretPossible:function(t){var e=n.findLite(t)[0];return 1==n.node.hasFocus(e)&&(1==e.contentEditable||window.getSelection||document.selection)?!0:!1},caretPosition:function(t){var e,n,r,i,o,a=0,s=0;return"number"==typeof t.selectionStart&&"number"==typeof t.selectionEnd?(a=t.selectionStart,s=t.selectionEnd):(n=document.selection.createRange(),n&&n.parentElement()==t&&(i=t.value.length,e=t.value.replace(/\r\n/g,"\n"),r=t.createTextRange(),r.moveToBookmark(n.getBookmark()),o=t.createTextRange(),o.collapse(!1),r.compareEndPoints("StartToEnd",o)>-1?a=s=i:(a=-r.moveStart("character",-i),a+=e.slice(0,a).split("\n").length-1,r.compareEndPoints("EndToEnd",o)>-1?s=i:(s=-r.moveEnd("character",-i),s+=e.slice(0,s).split("\n").length-1)))),{start:a,end:s}},attr:function(t){var e=n.findLite(t)[0];return e?n.NodeUtil.attr.apply(void 0,[e].concat(Array.prototype.slice.call(arguments,1))):void 0},is:function(t,e){var r=n.findLite(t)[0];return r?n.NodeUtil.is(r,e):void 0},filter:function(t,e){var r=n.findLite(t);if("string"!=typeof e)return console.warn("N.node.filter\ub294 string filter\ub9cc \ub300\uc751\ud569\ub2c8\ub2e4."),r;for(var i=[],o=0,a=r.length;a>o;o++)n.node.is(r[o],e)&&i.push(r[o]);return i},content:function(t,e){if(arguments.length<2){var r=n.findLite(t)[0];return r?r.textContent||r.innerText:void 0}return n.dataEach(n.findLite(t),function(t){"textContent"in t?t.textContent=e+"":t.innerText=e+""})},text:function(){return o.content.apply(o,Array.prototype.slice.call(arguments))},value:function(t,e,r){var i,o=n.findLite(t);if(0!=o.length){if(o.length>1){var a=o[0],s=n.node.attr(a,"name");if("radio"==n.node.attr(a,"type")&&!n.isNothing(s)){if(n.likeString(e)){var u=n.find(n.node.filter(o,"[type=radio][name="+s+"]::"+e,0));return u&&(u.checked=!0),u}return n.find(n.node.filter(o,"[type=radio][name="+s+"]:checked"),0)||""}}switch(i=n.dataFirst(o),nodeName=i.tagName.toLowerCase(),nodeName){case"img":return arguments.length<2?i.src:(i.src=e,i);case"link":return arguments.length<2?i.rel:(i.rel=e,i);case"script":var c=i.getAttribute("type");return"string"==typeof c&&c.indexOf("json")>-1?arguments.length<2?n.toObject(n.node.content(i)):n.node.content(i,n.toString(e)):arguments.length<2?i.src:(i.src=e,i);case"input":case"option":case"textarea":if("option"==nodeName){var f=n.NodeUtil.query(":selected",i);return n.isNode(f)?f.value:i.value}if("undefined"==typeof e)return i.value;return i.value=e,i;case"select":if("undefined"==typeof e)return i.value;var l=n.find("[value="+e+"]",i);if(l.length>0){var h=n.dataFirst(l);return h.selected=!0,h}return!1;default:if(arguments.length<2)return r===!0?n.node.content(i):i.innerHTML;r===!0?i.innerHTML=e:n.node.content(i,e)}return i}},unique:function(t,e){return n.find(t,e,n.dataEach,function(t){n.node.hasAttr(t,"id")||t.setAttribute("id",n.Util.base26UniqueRandom(8,"uq"))})},uniqueID:function(t,e){var r=n.find(t,e,0);return r?(n.node.unique(r),r.getAttribute("id")):void 0},trace:function(t,e){var r=n.findLite(t)[0];if(r){var i=r.tagName.toLowerCase(),o=tclass=tname=tattr=tvalue="";if(n.propEach(n.NodeUtil.attr(r),function(t,n){switch(n){case"id":var i=r.getAttribute(n);i.length&&(o="#"+i);break;case"class":tclass=r.getAttribute(n).trim().replace(/\s\s/g," ").split(" ").join("."),tclass&&(tclass="."+tclass);break;case"name":tname="[name="+r.getAttribute(n)+"]";break;case"value":break;default:1==e&&(attrValue=r.getAttribute(n),tattr+=""==attrValue||null==attrValue?"["+n+"]":"["+n+"="+attrValue+"]")}}),1==e&&!/table|tbody|thead|tfoot|ul|ol/.test(i)){var a=n.node.value(r);(void 0!==typeof a||null!==a)&&"string"==typeof a&&0!==a.length&&(tvalue="::"+a),"string"==typeof tvalue&&(tvalue=tvalue.trim())}return i+o+tclass+tname+tattr+tvalue}console.warn("N.node.trace::target is not element or selector // target =>",t)},index:function(t){var e=n.findLite(t)[0],r=n.findParent(e);return r?n.dataIndex(r.children,e):void 0},append:function(t,e,r){var o=n.findLite(t)[0];if(!n.isNode(o))return t;for(var a=n.findLite(e),s=o.tagName.toLowerCase(),u="number"==typeof r?!0:!1,c="number"==typeof r&&0>r?0:r,f=0,l=a.length;l>f;f++)if(n.isNode(a[f]))switch(s){case"table":var h=a[f].tagName.toLowerCase();switch(h){case"colgroup":case"tbody":case"thead":case"tfoot":i(o,a[f],u?c++:void 0);break;case"tr":case"td":case"th":default:window.tb=o.tBodies,o.tBodies.length||(o.tFoot?o.appendChild(n.create("tbody")):o.insertBefore(n.create("tbody"),o.tFoot));var d=o.tBodies[o.tBodies.length-1];if("tr"==h)i(d,a[f],u?c++:void 0);else{var p=d.insertRow(d.children.length);switch(h){case"td":case"th":i(p,a[f],u?c++:void 0);break;default:var g=n.create("td");p.appendChild(g),i(g,a[f],u?c++:void 0)}}}break;case"tr":var h=a[f].tagName.toLowerCase();switch(h){case"td":case"th":i(o,a[f],u?c++:void 0);break;default:var g=n.create("td");o.appendChild(g),i(g,a[f],u?c++:void 0)}break;default:i(o,a[f],u?c++:void 0)}else n.isTextNode(a[f])?i(o,a[f],u?c++:void 0):console.warn("N.node.append :: \ucd94\uac00\ud558\ub824\ub294 \uc694\uc18c\ub294 Element\uc694\uc18c\uc5ec\uc57c \ud569\ub2c8\ub2e4.",a[f]);return o},prepend:function(t,e){var r=n.findLite(t)[0],i=n.findLite(e);if(n.isOk(r),n.isOk(i)){n.node.append(r,i);var o=n.findParent(i[0]);o&&n.dataEach(i,function(t,e){o.insertBefore(t,o.childNodes[e])})}},appendTo:function(t,e){var r=n.findLite(t);return n.node.append(n.findLite(e)[0],r),r},prependTo:function(t,e){var r=n.findLite(t);return n.node.prepend(n.findLite(e)[0],r)},require:function(t,e,r){var t=n.findLite(t)[0];if(!t)return e;var i=n.findOn(t,e);if(i.length>1&&console.warn("require::require target must be single, please more specific select"),i.length>0)return i[0];var o=n.makes(e);return n.node.append(t,o,r),o.length>1?o:o[0]},css:function(t,e){return t&&"string"==typeof e?n.find(t,n.dataEach,function(t){n.pushCSSExpression(t,e)}):n.find(t)},insertAfter:n.CONTINUE_FUNCTION(function(t,e){var r=n.findLite(t)[0];if(r&&r.parentElement){var i=n.findLite(e);if(i.length){var a=o.index(r);o.append(r.parentElement,i,a+1)}}},2),insertBefore:n.CONTINUE_FUNCTION(function(t,e){var r=n.findLite(t)[0];if(r&&r.parentElement){var i=n.findLite(e);if(i.length){var a=o.index(r);o.append(r.parentElement,i,a-1)}}},2),after:n.CONTINUE_FUNCTION(function(t,e){return t=n.findLite(t)[0],n.isNode(t)?arguments.length<2?n.findMember(t,1):(o.insertAfter(t,e),t):t},1),before:n.CONTINUE_FUNCTION(function(t,e){var r=n.findLite(t)[0];return n.isNode(r)?arguments.length<2?n.findMember(r,-1):(o.insertBefore(r,e),r):t},1),change:n.CONTINUE_FUNCTION(function(t,e){if(t=n.findLite(t)[0],e=n.findLite(e)[0],t&&e){var r=t.parentNode,i=e.parentNode;if(r||i){if(r){var a=n.make("div");o.insertBefore(t,a)}if(i){var s=n.make("div");o.insertBefore(e,s)}a&&(o.insertBefore(a,e),o.remove(a)),s&&(o.insertBefore(s,t),o.remove(s))}else console.warn("node::can't change node",t,r,e,i)}else console.warn("not found",t,e);return[t,e]},1),replace:function(t,e){var r=n.findLite(e)[0];return n.node.after(t,r),n.node.remove(t),r},up:function(t){if(!n.isNode(t))return t;var e=t.parentNode;if(!n.isNode(e))return t;var r=t.previousSibling;return n.isNode(r)?void n.node.before(r,t):t},down:function(t){if(!n.isNode(t))return t;var e=t.parentNode;if(!n.isNode(e))return t;var r=t.nextSibling;return n.isNode(r)?void n.node.after(r,t):t},style:function(t,e,r){if(!(arguments.length<3))return n.dataEach(n.findLite(t),function(t){n.NodeUtil.style(t,e,r)});var i=n.findLite(t)[0];return i?n.NodeUtil.style(i,e):void 0},empty:function(t){return n.find(t,n.dataMap,function(t){return"innerHTML"in t&&(t.innerHTML=""),t})},remove:function(t){var e=n.findLite(t)[0];return n.isNode(e)&&n.isNode(e.parentNode)?(e.parentNode.removeChild(e),e):e},CARET:function(t,e){var r,i,o,a=n.findLite(t)[0],s="true"===a.contentEditable;if(arguments.length<2){if(window.getSelection){if(s){a.focus();var r=window.getSelection().getRangeAt(0),i=r.cloneRange();return i.selectNodeContents(a),i.setEnd(r.endContainer,r.endOffset),i.toString().length}return a.selectionStart}if(document.selection){if(a.focus(),s){var r=document.selection.createRange(),i=document.body.createTextRange();return i.moveToElementText(a),i.setEndPoint("EndToEnd",r),i.text.length}var e=0,o=a.createTextRange(),i=document.selection.createRange().duplicate(),u=i.getBookmark();for(o.moveToBookmark(u);0!==o.moveStart("character",-1);)e++;return e}return 0}if(-1==e&&(e=this[s?"text":"val"]().length),window.getSelection)s?(a.focus(),window.getSelection().collapse(a.firstChild,e)):a.setSelectionRange(e,e);else if(document.body.createTextRange){var o=document.body.createTextRange();o.moveToElementText(a),o.moveStart("character",e),o.collapse(!0),o.select()}return s||a.focus(),e},trigger:function(t,r,i){if(n.isWindow(t))t=e;else if(t=n.findLite(t)[0],n.isNothing(t))throw new Error("N.node.trigger\ub294 element\ub97c \ucc3e\uc744\uc218 \uc5c6\uc2b5\ub2c8\ub2e4. => \ub4e4\uc5b4\uc628\uac12"+n.tos(t));var o;return"createEvent"in document?(o=e.document.createEvent("HTMLEvents"),o.initEvent(r,!0,!0)):o={},i&&n.propEach(i,function(t,e){o[e]=t}),t.dispatchEvent(o),t},onTarget:function(t){return n.isWindow(t)||n.isDocument(t)?t:n.findLite(t)},on:function(t,e,r,i){var o=n.node.onTarget(t),a=e.split(" ");if("string"==typeof arguments[1]&&"function"==typeof arguments[2])n.dataEach(o,function(t){n.dataEach(a,function(e){t.addEventListener(e,r,1==i?!0:!1)})});else if("string"==typeof arguments[1]&&"string"==typeof arguments[2]&&"function"==typeof arguments[3]){var s=arguments[2],r=arguments[3],i=arguments[4];n.dataEach(o,function(t){n.dataEach(a,function(e){t.addEventListener(e,function(e){var i=n.find(s,t);n.dataEach(i,function(t){return n.inside(t,e.target)?(e.delegateTarget=t,r.call(t,e),!1):void 0})},1==i?!0:!1)})})}else("string"!=typeof e||"function"!=typeof r)&&(console.error("N.node.on \ub178\ub4dc , \uc774\ubca4\ud2b8\uc774\ub984, \uc774\ubca4\ud2b8\ud5e8\ub4e4\ub7ec \uc21c\uc73c\ub85c \ud30c\ub77c\uba54\ud130\ub97c \uc785\ub825\ud558\uc138\uc694"),console.error("N.node.on ::",arguments));return o},punch:function(t,e){var r=n.node.onTarget(t);return n.node.on.apply(n.node,[r].concat(Array.prototype.slice.call(arguments,1))),"ontouchend"in document?void((n.isDocument(r)||r.length)&&n.dataEach(e.split(" "),function(t){var e="mousedown"===t?["touchstart"]:"mouseup"===t?["touchend","touchcancle"]:"mousemove"===t?["touchmove"]:"mouseout"===t?["touchleave"]:null;e&&n.dataEach(r,function(r){n.dataEach(e,function(e){r.addEventListener(e,function(e){var n=document.createEvent("MouseEvents"),i=e.changedTouches[0];n.initMouseEvent(t,!0,!0,null,null,i.screenX,i.screenY,i.clientX,i.clientY),n.touches=e.touches,r.dispatchEvent(n)})})})})):r
},off:function(t,e,r,i){if("string"!=typeof e||"function"!=typeof r)return console.error("N.node.on \ub178\ub4dc , \uc774\ubca4\ud2b8\uc774\ub984, \uc774\ubca4\ud2b8\ud5e8\ub4e4\ub7ec \uc21c\uc73c\ub85c \ud30c\ub77c\uba54\ud130\ub97c \uc785\ub825\ud558\uc138\uc694",t,e,r);var o=n.node.onTarget(t),a=e.split(" ");return n.dataEach(o,function(t){n.dataEach(a,function(e){t.removeEventListener(e,r,1==i?!0:!1)})}),o},onetime:function(t,e,r,i){if("function"==typeof r)console.error("ELTIME:: eventHandler\ub294 \ub9cc\ub4dc\uc2dc \uc874\uc7ac\ud574\uc57c \ud569\ub2c8\ub2e4");else{var o=function(t){this.time=t}(isNaN(i)?1:parseInt(i));o.events=e.split(" "),o.handler=function(e){if(o.time>0&&(timeCounter.time=timeCounter.time-1,n.CALL(handler,t,e)),o.time<1)for(var r=0,i=this.events.length;i>r;r++)n.node.off(t,events[r],timeCounter.handler)};for(var a=0,s=this.events.length;s>a;a++)n.node.on(t,e,o.handler)}return t},data:function(t,e,r){var i=n.findLite(t);return 0==i.length?void 0:1==arguments.length?n.clone(n.dataFirst(i).dataset):2==arguments.length?n.dataFirst(i).dataset[nd.camelCase(e)]:3==arguments.length?(e=nd.camelCase(e),n.dataEach(i,function(t){t.dataset[e]=r}),i):void 0},disabled:function(t,e){var r=new n.Array(n.findLite(t));r.isNone()?console.error("N.node.disabled:: node\ub97c \ucc3e\uc744\uc218 \uc5c6\uc2b5\ub2c8\ub2e4. => \ub4e4\uc5b4\uc628\uac12"+n.tos(t)):r.each(function(t){if("disabled"in t){if("undefined"==typeof e)return t.disabled;if(1==e||"true"==e)return t.disabled=!0,t;if(0==e||"false"==e)return t.disabled=!1,t}})},readOnly:function(t,e){var r=new n.Array(n.findLite(t));r.isNone()?console.error("N.node.readOnly:: node\ub97c \ucc3e\uc744\uc218 \uc5c6\uc2b5\ub2c8\ub2e4. => \ub4e4\uc5b4\uc628\uac12"+n.tos(t)):r.each(function(t){if("readOnly"in t){if("undefined"==typeof e)return t.readOnly;if(1==e||"true"==e)return t.readOnly=!0,t;if(0==e||"false"==e)return t.readOnly=!1,t}})},CommonString:new n.StringSource,addAttr:function(t,e,r){var i=n.findLite(t);if("attrName"!=typeof r&&"string"!=typeof r)return i;for(var a=0,s=i.length;s>a;a++)i[a].setAttribute(e,o.CommonString.set(i[a].getAttribute(e)).addModel(r));return i},hasAttr:function(t,e,r){var i=n.findLite(t);if(2===arguments.length){for(var a=0,s=i.length;s>a;a++)if(i[a].getAttribute(e))return!0;return!1}if("string"!=typeof r)return!1;for(var a=0,s=i.length;s>a;a++)if(!o.CommonString.set(i[a].getAttribute(e)).hasModel(r))return!1;return!0},removeAttr:function(t,e,r){var i=n.findLite(t);if("string"!=typeof e&&"string"!=typeof removeClass)return i;for(var a=0,s=i.length;s>a;a++){var u=o.CommonString.set(i[a].getAttribute(e)).setRemoveModel(r).trim();u.length?i[a].setAttribute(e,u):i[a].removeAttribute(e)}return i},addClass:function(t,e){return o.addAttr(t,"class",e)},hasClass:function(t,e){return o.hasAttr(t,"class",e)},removeClass:function(t,e){return o.removeAttr(t,"class",e)},html:function(t,e){var r=n.findLite(t)[0];return 0===r.length?void 0:"string"==typeof e||"number"==typeof e?r.innerHTML=e:r.innerHTML},appendHTML:function(t,e,r){var i=n.findLite(t)[0];return i&&n.node.append(i,n.parseHTML(e),r)},prependHTML:function(t,e){var r=n.findLite(t)[0];return r&&n.node.prepend(r,n.parseHTML(e))},put:function(t){var e=n.findLite(t)[0];if(!n.isNode(e))return console.warn("N.node.put:: node\ub97c \ucc3e\uc744\uc218 \uc5c6\uc2b5\ub2c8\ub2e4. => \ub4e4\uc5b4\uc628\uac12",arguments);n.node.empty(e);var r=[],i=Array.prototype.slice.call(arguments);return i.shift(),n.dataEach(n.argumentsFlatten(i),function(t){if(n.isNode(t))r.push(t);else if(/^<.+>$/.test(t))r.push(n.parseHTML(t));else switch(t=n.toString(t),e.tagName){case"UL":case"MENU":r.push(n.make("li",t));break;case"DL":r.push(n.make("dd",t));break;default:r.push(n.make("span",t))}}),n.node.append(e,r),e},toggleClass:function(t,e,r){var i=n.findLite(t);return"string"!=typeof e?i:void 0===r?n.dataEach(i,function(t){n.node.hasClass(t,e)?n.node.removeClass(t,e):n.node.addClass(t,e)}):r?n.node.addClass(t,e):n.node.removeClass(t,e)},coords:function(t,e,r,i,o,a){var s=n.findLite(t,0);if(s&&"string"==typeof e){a="number"==typeof a?a:1;var u=[];switch(e.replace(/(-|)\d+/g,function(t){u.push(t)}),n.dataEach(u,function(t,e){var r;switch(e){case 0:r="left";break;case 1:r="top";break;case 2:r="width";break;case 3:r="height";break;default:return!1}var u=n.toNumber(t)*a;switch(e){case 0:u+=n.toNumber(i);break;case 1:u+=n.toNumber(o)}n.node.style(s,r,u+"px")}),r){case!0:case"absolute":n.node.style(s,"position","absolute");break;case"relative":n.node.style(s,"position","relative")}}return t}};n.EXTEND_MODULE("Array","NodeHandler",{find:function(t){return new n.NodeHandler(n.find.apply(void 0,[t,this].concat(Array.prototype.slice.call(arguments,1))))},parent:function(){return new n.NodeHandler(n.findParent.apply(void 0,[this].concat(Array.prototype.slice.call(arguments))))},parents:function(){return new n.NodeHandler(n.findParents.apply(void 0,[this].concat(Array.prototype.slice.call(arguments))))},children:function(t){return new n.NodeHandler(n.findOn(this,t))},hasFocus:function(){return o.hasFocus(this)},caretPossible:function(){return o.caretPossible(this)},attr:function(t){return arguments.length>1?(n.FLATTENCALL(o.attr,void 0,this,arguments),this):0==arguments.length?n.CALL(o.attr,void 0,this):n.CALL(o.attr,void 0,this,t)},addAttr:function(){n.FLATTENCALL(o.addAttr,o,this,arguments)},removeAttr:function(){n.FLATTENCALL(o.removeAttr,o,this,arguments)},hasAttr:function(){n.FLATTENCALL(o.hasAttr,o,this,arguments)},addClass:function(t){return n.CALL(o.addClass,o,this,t),this},hasClass:function(t){return n.CALL(o.hasClass,o,this,t),this},removeClass:function(t){return n.CALL(o.removeClass,o,this,t),this},toggleClass:function(t,e){return n.CALL(o.toggleClass,o,this,t,e),this},is:function(t){return o.is(this,t)},filter:function(){return this.setSource(n.FLATTENCALL(o.filter,o,this,arguments)),this},content:function(){return n.FLATTENCALL(o.content,o,this,arguments)},text:function(){return n.FLATTENCALL(o.text,o,this,arguments)},value:function(t){return arguments.length>0?(n.CALL(o.value,o,this,t),this):n.FLATTENCALL(o.value,o,this,arguments)},trace:function(){return n.FLATTENCALL(o.trace,o,this,arguments)},currentIndex:function(){return o.index(this)},append:function(t){return o.append(this,t),this},prepend:function(t){return o.prepend(this,t),this},appendTo:function(t){return n.CALL(o.appendTo,o,this,t),this},prependTo:function(t){return n.CALL(o.prependTo,o,this,t),this},put:function(){return n.FLATTENCALL(o.put,o,this,arguments),this},putTo:function(t){return n.CALL(o.put,o,t,this),this},before:function(){return arguments.length>0?(n.FLATTENCALL(o.before,o,this,arguments),this):n.CALL(o.before,o,this)},after:function(){return arguments.length>0?(n.FLATTENCALL(o.after,o,this,arguments),this):n.CALL(o.after,o,this)},change:function(){var t=n.FLATTENCALL(o.change,o,this,arguments);return this.setSource(t[1]),this},beforeAll:function(){return n.CALL(o.beforeAll,o,this)},afterAll:function(){return n.CALL(o.afterAll,o,this)},replace:function(){return n.FLATTENCALL(o.replace,o,this,arguments),this},up:function(){return n.CALL(o.up,o,this)},down:function(){return n.CALL(o.donw,o,this)},style:function(){return o.style.apply(o,[this].concat(Array.prototype.slice.call(arguments)))},require:function(){return new n.NodeHandler(o.require.apply(o,[this].concat(Array.prototype.slice.call(arguments))))},empty:function(){return n.CALL(o.empty,o,this),this},remove:function(){return n.CALL(o.remove,o,this),this},caret:function(){n.FLATTENCALL(o.caret,o,this,arguments)},trigger:function(t){return n.CALL(o.trigger,o,this,t),this},on:function(t,e,n,r){return o.on.call(o,this,t,e,n,r),this},off:function(t,e,n,r){return o.off.call(o,this,t,e,n,r),this},onetime:function(){return n.FLATTENCALL(o.onetime,o,this,arguments),this},data:function(t){return arguments.length>1?(n.FLATTENCALL(o.data,o,this,arguments),this):0==arguments.length?n.CALL(o.data,o,this):n.CALL(o.data,o,this,t)},html:function(){var t=n.FLATTENCALL(o.html,o,this,arguments);return arguments.length?this:t},appendHTML:function(){return n.FLATTENCALL(o.appendHTML,o,this,arguments),this},prependHTML:function(){return n.FLATTENCALL(o.prependHTML,o,this,arguments),this},unique:function(){return n.FLATTENCALL(o.unique,o,this,arguments),this},uniqueID:function(){return n.FLATTENCALL(o.uniqueID,o,this,arguments)},disabled:function(){return n.FLATTENCALL(o.disabled,o,this,arguments),this},readonly:function(){return n.FLATTENCALL(o.readOnly,o,this,arguments),this}},function(t,e,r){this.setSource(n.find(t,e,r))}),n.METHOD("node",nd.NodeHandler["new"]);for(var a in o)n.node[a]=o[a];n.EXTEND_MODULE("NodeHandler","Make",{},function(t,e,r){this.setSource(n.Element.create(t,e,r))}),n.EXTEND_MODULE("NodeHandler","Partial",{findPartial:function(t,e){return 0===arguments.length?n.clone(this.__partialPointer):t in this.__partialPointer?1===arguments.length?n.clone(this.__partialPointer[t]):new n.NodeHandler(this.__partialPointer[t][e]):console.error("NodeHandler::partial case\uac00 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.",t,this.__partialPointer)},group:function(t){return this.findPartial("group",t)},value:function(t,e){return 2===arguments.length?((void 0!==e||null!==e)&&this.findPartial("value",t).each(function(t){return n.node.value(t,e)}),this):this.findPartial("value",t).value()},put:function(t,e){var r=nd.findLite(e);return r.length?(this.findPartial("put",t).each(function(t){return n.node.put(t,r)}),this):this},partialSetup:function(t,e,r){for(var i=t,o=r&&r.pKeys?r.pKeys:new n.Array(i).map(function(t){return"nd-"+t}),a=r&&r.sKeys?r.sKeys:new n.Array(o).map(function(t){return"["+t+"]"}),s=this.find(a.join(",")),u=0,c=s.length;c>u;u++)for(var f=0,l=a.length;l>f;f++)n.NodeUtil.the(s[u],a[f])&&(e(s[u].getAttribute(o[f]),s[u],i[f]),s[u].removeAttribute(o[f]))},defaultPartialDataKeys:["dataset","value","href","put","display","group"],defaultPartialAttrKeys:["nd-dataset","nd-value","nd-href","nd-put","nd-display","nd-group"],defaultPartialSelectorKeys:["[nd-dataset]","[nd-value]","[nd-href]","[nd-put]","[nd-display]","[nd-group]"],setPartialProperties:function(t,e){t||(t={});var r=this.__partialPointer;this.partialSetup(this.defaultPartialDataKeys,function(t,e,n){n in r||(r[n]={}),t.replace(/\S+/g,function(t){r[n][t]||(r[n][t]=[]),r[n][t].push(e)})},{pKeys:this.defaultPartialAttrKeys,sKeys:this.defaultPartialSelectorKeys}),"object"==typeof e&&n.propEach(e,function(e,n){t[n]="function"==typeof e?r.custom&&n in r.custom?e:e.call(t,t[n],n,t):e});for(var i in r)for(var o in r[i])if(o in t&&null!==t[o])for(var a=r[i][o],s=0,u=a.length;u>s;s++){var c=a[s];switch(i){case"value":n.node.value(c,t[o]);break;case"html":c.innerHTML=t[o];break;case"href":c.setAttribute("href",t[o]);break;case"class":n.node.addClass(c,t[o]);break;case"put":n.node.put(c,t[o]);break;case"display":t[o]||n.node.style(c,"display","none");break;case"dataset":n.propEach(t[o],function(t,e){c.dataset[e]=t});break;case"group":"function"==typeof t[o]&&t[o].call(c,c,o)}}return this},getFormData:function(){return n.inject(this,function(t,e){n.extend(t,new n.Form(e).getFormData())})},setFormData:function(t){return"object"==typeof t?(this.each(function(e){new n.Form(e).setFormData(t)}),this):void 0},release:function(){var t=this.toArray();return this.splice(0,this.length),this.__partialPointer=null,t}},function(t,e,r){"string"==typeof t&&(t=/^<.+>$/.test(t)?n.parseHTML(t):n.makes(t)),this.setSource(n.findLite(t)),this.__partialPointer={},this.setPartialProperties(e,r)}),n.EXTEND_MODULE("NodeHandler","Template",{clone:function(){return new n.Template(this)},output:function(t,e){return new n.Partial(n.cloneNodes(this),t,e)},render:function(t,e){return this.output(t,e).release()[0]},renders:function(t,e){var r=this;return n.dataMap(t,function(t){return r.output(t,e).release()[0]})}},function(t){this.setSource(n.makeSampleNode(t))})}(window,N,N.ENV),function(W,N,ENV){N.MODULE("Controls",{selects:function(){return this.Source},find:function(t){return t?N.find(t,this.Source):[]},statusFunction:function(t,e,n,r){var i=n?function(r){return N.node.is(r,n)?t(r,e):void 0}:function(n){return t(n,e)},o=new N.Array(this.selects()).setMap(i).setFilter();return 1==r?o.toArray():this},disabled:function(t,e){return this.statusFunction(N.node.disabled,t!==!1?!0:!1,e)},readonly:function(t,e){return this.statusFunction(N.node.readOnly,t!==!1?!0:!1,e)},empty:function(t){return t=t?t+",:not(button):not(select)":":not(button):not(select)",this.statusFunction(N.node.value,"",t)},map:function(t,e){return this.statusFunction(function(e){var n=t(e);N.likeString(n)&&N.node.value(e,n)},"",e)},selectEach:function(t,e){return this.statusFunction(function(e){t.call(e,e)},"",e)},removePartClass:function(rmClass,filter,req){var r=this.statusFunction(function(node,param){var classes=N.node.attr(node,"class");return"string"==typeof classes?(classes=new N.StringSource(classes).setRemoveModel(eval("/^"+param+"/")),N.node.attr(node,"class",classes),node):void 0},rmClass,filter,!0);return 1==req?r:this},changePartClass:function(t,e,n){return new N.Array(this.removePartClass(t,n,!0)).each(function(n){var r=N.node.attr(n,"class");N.node.attr(n,"class",new N.StringSource(r).addModel(t+e))}),this}},function(t,e){this.Source=N.find(t,e)}),N.EXTEND_MODULE("Controls","Form",{isValid:function(t){return"function"==typeof t?t.call(this):N.isNode(this.Source)},selects:function(){return N.find(this.SelectRule,this.Source)},getSelectTokens:function(){return new N.Array(this.SelectRule.split(",")).setMap(function(t){var e=/\[([a-zA-Z0-9\-]+)(.*)\]/.exec(t);if(null!==e)return e[1]}).setFilter().toArray()},getCheckoutElement:function(){return N.find(new N.Array(this.getSelectTokens()).setMap(function(t){return"["+t+"]"}).join(","),this.Source)},getCheckoutElementsWithToken:function(){var t=new N.Array(this.getSelectTokens());return new N.Array(this.getCheckoutElement()).inject({},function(e,n){t.each(function(t){if(1==N.node.hasAttr(e,t)){var r=N.node.attr(e,t);if(!N.isNothing(r))return r in n||(n[r]=[]),n[r].push(e),!1}})})},checkoutFilter:function(t){this.FrameCheckoutFilter=t},checkinFilter:function(t){this.FrameCheckinFilter=t},checkout:function(){return new N.HashSource(this.getCheckoutElementsWithToken()).setMap(function(t){var e=N.node.value(t);return null==e?"":e}).get()},checkin:function(t,e){if("string"==typeof t){"string"!=typeof e&&(e=N.toString(e));var n={};n[t]=e,t=n}if("object"==typeof t){var r=this.getCheckoutElementsWithToken();for(var i in t)i in r&&N.node.value(r[i],t[i])}else console.warn("Frame::checkin set data\ub97c object\ud615\uc73c\ub85c \ub123\uc5b4\uc8fc\uc138\uc694");return this},clearFormData:function(){return this.empty()},setFormData:function(t,e){return this.checkin(t,e)},getFormData:function(t){return"string"==typeof t?this.checkout()[t]:this.checkout()}},function(t,e){switch(this.Source=N.findLite(t)[0],this.form=this.Source,N.isNode(this.Source)||console.error("Frame::Context\ub97c \ucc98\ub9ac\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. => ",this.Source," <= ",t),typeof e){case"string":this.SelectRule=e+",[name]";break;default:this.SelectRule="[name]"}}),N.MODULE("ActiveStatus",{whenAnyWillActive:function(t){this.StatusEvents.AnyWillActive=t},whenAnyDidActive:function(t){this.StatusEvents.AnyDidActive=t},whenAnyWillInactive:function(t){this.StatusEvents.AnyWillInactive=t},whenAnyDidInactive:function(t){this.StatusEvents.AnyDidInactive=t},whenAllActive:function(t){this.StatusEvents.AllInactive=t},whenAllInactive:function(t){this.StatusEvents.AllInactive=t},whenWillActive:function(t,e){this.StatusEvents.StatusWillActive[t]=e},whenDidActive:function(t,e){this.StatusEvents.StatusDidActive[t]=e},whenWillInactive:function(t,e){this.StatusEvents.StatusWillInactive[t]=e},whenDidInactive:function(t,e){this.StatusEvents.StatusDidInactive[t]=e},whenActive:function(t,e){this.StatusEvents.StatusActive[t]=e},whenInactive:function(t,e){this.StatusEvents.StatusInactive[t]=e},toggleInactiveStatus:function(t,e,n){if(n=n?n:this,e=N.toArray(e),this.ActiveKeys.has(t)){if(!this.StatusEvents.StatusInactive[t])return this.ActiveKeys.remove(t),!0;if(1===this.ActiveKeys.length&&!this.AllowInactive)return!1;if(N.APPLY(this.StatusEvents.AnyWillInactive,n,e)!==!1&&N.CALL(this.StatusEvents.StatusWillInactive[t],n,e)!==!1){if(0==N.APPLY(this.StatusEvents.StatusInactive[t],n,e))return;this.ActiveKeys.remove(t),N.CALL(this.StatusEvents.AnyDidInactive,n,e),N.CALL(this.StatusEvents.StatusDidInactive[t],n,e),0===this.ActiveKeys.length&&N.CALL(this.StatusEvents.AnyActive)}}},toggleActiveStatus:function(t,e,n,r){if(n=n?n:this,e=N.toArray(e),!this.StatusEvents.StatusActive[t])return console.warn(this,"\uc5d0 \uc874\uc7ac\ud558\uc9c0 \uc54a\ub294 \ud0a4\uac12\uc744 \ud638\ucd9c\ud558\uc600\uc2b5\ub2c8\ub2e4.",t,this.StatusEvents.StatusActive);if(!this.ActiveKeys.has(t)||1==r)if(this.AllowMultiStatus||0===this.ActiveKeys.length||1==r&&1===this.ActiveKeys.length&&this.ActiveKeys[0]===t){if(N.APPLY(this.StatusEvents.AnyWillActive,n,e)!==!1&&N.APPLY(this.StatusEvents.StatusWillActive[t],n,e)!==!1){if(0==N.APPLY(this.StatusEvents.StatusActive[t],n,e))return;this.ActiveKeys.add(t),N.APPLY(this.StatusEvents.AnyDidActive,n,e),N.APPLY(this.StatusEvents.StatusDidActive[t],n,e),this.ActiveKeys.length===N.propLength(this.Source)&&N.APPLY(this.AllActive,n,e)}}else if(N.APPLY(this.StatusEvents.AnyWillActive,n,e)!==!1&&N.APPLY(this.StatusEvents.StatusWillActive[t],n,e)!==!1){if(0==N.APPLY(this.StatusEvents.StatusActive[t],n,e))return;var i=this;this.ActiveKeys.each(function(t){i.toggleInactiveStatus(t,e,n)}),this.ActiveKeys.add(t),N.APPLY(this.StatusEvents.AnyDidActive,n,e),N.APPLY(this.StatusEvents.StatusDidActive[t],n,e),this.ActiveKeys.length===N.propLength(this.Source)&&N.APPLY(this.AllActive,n,e)}},activeTo:function(t){return this.toggleActiveStatus(t,Array.prototype.slice.call(arguments,1),this,!1)},inactTo:function(t){return this.toggleInactiveStatus(t,Array.prototype.slice.call(arguments,1),this,!1)},reactTo:function(t){return this.toggleActiveStatus(t,Array.prototype.slice.call(arguments,1),this,!0)},toggleTo:function(t,e){"boolean"==typeof e&&(e?this.reactTo.apply(this,[t].concat(Array.prototype.slice.call(arguments,2))):this.inactTo.apply(this,[t].concat(Array.prototype.slice.call(arguments,2))))},getActiveStatus:function(){return this.ActiveKeys.join(" ")},isActiveStatus:function(t){return this.ActiveKeys.has(t)}},function(t,e){lastll=this,this.AllowMultiStatus=!!t,this.AllowInactive=!!e,this.StatusEvents={AnyWillActive:void 0,AnyDidActive:void 0,AnyWillInactive:void 0,AnyDidInactive:void 0,AllActive:void 0,AllInactive:void 0,StatusActive:{},StatusInactive:{},StatusWillActive:{},StatusDidActive:{},StatusWillInactive:{},StatusDidInactive:{}},this.ActiveKeys=new N.Array}),N.MODULE("Contexts",{"+_selectPoolCount":0,selectPoolStart:function(){0===this._selectPoolCount&&(this._selectPoolList=this.selects(!1)),this._selectPoolCount=this._selectPoolCount+1},selectPoolEnd:function(){this._selectPoolCount=this._selectPoolCount-1,0===this._selectPoolCount&&(this._selectPoolList=null)},contexts:function(t){var e=N.findLite(this._initParams[0]);return"function"==typeof t?t.apply(void 0,[e].concat(Array.prototype.slice.call(arguments,1))):e},selects:function(t){if(0==t&&this._selectPoolCount>0)return N.cloneArray(this._selectPoolList);var e;switch(typeof this._initParams[1]){case"function":e=this._initParams[1]();break;default:var n=N.isNothing(this._initParams[1])?">*":this._initParams[1];if("self"==n)return this.contexts();e=">"==n.charAt(0)?N.findOn(this.contexts(),n.substr(1)):N.findIn(this.contexts(),n)}return e&&"function"==typeof t?t.apply(void 0,[e].concat(Array.prototype.slice.call(arguments,1))):e},getContext:function(t){return this.contexts()[t]},getSelect:function(t){return this.selects()[t]},on:function(t,e,n){var r=this;if("string"==typeof t&&"number"==typeof e){this.selectPoolStart();var i=this.getSelect(e);return N.isNode(i)?N.node.trigger(i,t,arguments.length>2?{arguments:Array.prototype.slice.call(arguments,2)}:void 0):console.warn("Contexts::on::\ud2b8\ub9ac\uae45\ud560 \ub300\uc0c1\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."),this.selectPoolEnd(),this}return"string"==typeof t&&"function"==typeof e?N.node.on(this.contexts(),t,function(t){var i=new N.Array(r.selects());if(i.has(t.target)){var o=i.indexOf(t.target),a=e.call(t.target,t,o,r);return 0==a?!1:("function"==typeof n&&i.each(function(e,i){return t.target!==e?n.call(e,t,i,r):void 0}),a)}var s;return i.each(function(e){return N.find(t.target,e,0)?(s=e,!1):void 0}),s?(N.node.trigger(s,t.type),!1):void 0}):console.error("onSelect::\ucd08\uae30\ud654 \ud560\uc218 \uc5c6\uc2b5\ub2c8\ub2e4. \uae00\uc790\ud568\uc218\ud544\uc694",t,e),this}},function(t,e){this._initParams=[t,e]}),N.EXTEND_MODULE("Contexts","FilterContexts",{needFiltering:function(t){var e=(this.selects(),this.filterMethod),n=[];if(this.filterClass){var r=this.filterClass;N.dataEach(this.selects(),function(i,o){e.call(i,i,o,t)===!0?N.node.removeClass(i,r):(N.node.addClass(i,r),n.push(o))})}else N.dataEach(this.selects(),function(r,i){e.call(r,r,i,t)===!0?N.node.style(r,"display",null):(N.node.style(r,"display","none"),n.push(i))});return n}},function(t,e,n,r){this._super(t,e),"function"!=typeof n&&console.error("Filter::\uc138\ubc88\uc9f8 \ud30c\ub77c\uba54\ud130\ub294 \ubc18\ub4dc\uc2dc \ud568\uc218\ub97c \ub123\uc5b4\uc8fc\uc138\uc694",n),this.filterMethod=n,"string"==typeof r&&(this.filterClass=r),r===!0&&(this.filterClass="hidden")}),N.EXTEND_MODULE("Contexts","ActiveContexts",{whenWillActive:function(t){return this.ContextsEvents.willActive=t,this},whenDidActive:function(t){return this.ContextsEvents.didActive=t,this},whenDidInactive:function(t){return this.ContextsEvents.didInactive=t,this},whenWillChange:function(t){return this.ContextsEvents.willChange=t,this},whenDidChange:function(t){return this.ContextsEvents.didChange=t,this},whenActiveToggle:function(t,e){return this.whenDidActive(t),this.whenDidInactive(e)},whenActiveStart:function(t){return this.ContextsEvents.activeStart=t,this},whenActiveEnd:function(t){return this.ContextsEvents.activeEnd=t,this},shouldTriggering:function(t,e){var n=this;if("number"!=typeof t&&console.warn("index\ub294 \ubc18\ub4dc\uc2dc number\uc774\uc5ec\uc57c \ud569\ub2c8\ub2e4."),0===e||e===!1)n.on(n.ContextsEventName,t,e);else var r=setTimeout(function(){n.on(n.ContextsEventName,t,e),clearTimeout(r)},"number"==typeof e?e:N.toNumber(e));return this},getActiveIndexes:function(t){this.selectPoolStart();var e=[];return N.dataEach(this.selects(),function(t,n){N.node.hasClass(t,"active")&&e.push(n)}),this.selectPoolEnd(),"number"==typeof t?e[t]:t===!0?e[e.length-1]:e},setActiveIndexes:function(t,e){this.selectPoolStart();var n=new N.Array(t);if(e===!1)N.dataEach(this.selects(),function(t,e){n.has(e)?N.node.hasClass(t,"active")||N.node.addClass(t,"active"):N.node.hasClass(t,"active")&&N.node.removeClass(t,"active")});else{var r=this;N.dataEach(this.selects(),function(t,i){n.has(i)?N.node.hasClass(t,"active")||r.shouldTriggering(i,e):N.node.hasClass(t,"active")&&r.shouldTriggering(i,e)})}return this.selectPoolEnd(),this},shouldActive:function(t,e,n){if("number"==typeof t){this.selectPoolStart();var r=this.getActiveIndexes();N.dataHas(r,t)||(n===!0?this.setActiveIndexes([t],e):(r.push(t),this.setActiveIndexes(r,e))),this.selectPoolEnd()}return this},shouldInactive:function(t,e){if("number"==typeof t){this.selectPoolStart();var n=new N.Array(this.getActiveIndexes());N.dataHas(n,t)&&(n.remove(t),this.setActiveIndexes(n,e)),this.selectPoolEnd()}return this},getActiveSelects:function(){this.selectPoolStart();var t=N.dataFilter(this.selects(),function(t){return N.node.hasClass(t,"active")});return this.selectPoolEnd(),t},getInactiveSelects:function(){this.selectPoolStart();var t=N.dataFilter(this.selects(),function(t){return!N.node.hasClass(t,"active")});return this.selectPoolEnd(),t},activeAll:function(t){return this.selectPoolStart(),this.setActiveIndexes(N.dataMap(this.selects(),function(t,e){return e}),t),this.selectPoolEnd(),this},inactiveAll:function(t){return this.selectPoolStart(),this.setActiveIndexes([],t),this.selectPoolEnd(),this},hasActive:function(){var t=!1;this.selectPoolStart();for(var e=this.selects(),n=0,r=e.length;r>n;n++)if(N.node.is(e[n],".active")){t=!0;break}return this.selectPoolEnd(),t},isActiveAll:function(){var t;return this.selectPoolStart(),t=this.getActiveSelects().length==this.selects().length,this.selectPoolEnd(),t},resetActiveTargetWithContexts:function(t,e,n){var r=this.getActiveIndexes();N.CALL(n),this._initParams[0]=t||this._initParams[0],this._initParams[1]=e||this._initParams[1],r.length&&this.setActiveIndexes(r,!1)},resetActiveTarget:function(t){this.resetActiveTargetWithContexts(void 0,t)},resetActiveTargetWithPool:function(t,e){this.resetActiveTargetWithContexts(void 0,t,e)}},function(t,e,n,r,i,o,a){this._super(t,e),this.ContextsEvents={},this.ContextsEventName="string"==typeof n?n:"click",this.preventDefault=!0,this.allowAutoActive=!0,this.allowMultiActive="boolean"==typeof o?o:!1,this.allowInactive="boolean"==typeof a?a:this.allowMultiActive;var s=this;this.on(this.ContextsEventName,function(t,e){var n=t.arguments?!(t.arguments[0]===!1):!0,r=s.selects();if(s.preventDefault&&t.preventDefault(),n&&N.CALL(s.ContextsEvents.willActive,this,t,e)===!1)return!1;if(s.allowAutoActive){if(N.node.hasClass(this,"active"))return s.allowInactive?(n&&N.CALL(s.ContextsEvents.willChange,this,e),N.node.removeClass(this,"active"),n&&N.CALL(s.ContextsEvents.didChange,this,e),n&&0==N.find(".active",r).length&&N.CALL(s.ContextsEvents.activeEnd,this,e),!1):!1;var i=N.find(".active",r);return s.allowMultiActive?(n&&N.CALL(s.ContextsEvents.willChange,this,e),N.node.addClass(this,"active"),n&&0===i.length&&N.CALL(s.ContextsEvents.activeStart,this,e),n&&N.CALL(s.ContextsEvents.didActive,this,e),n&&N.CALL(s.ContextsEvents.didChange,this,e),!1):(new N.Array(r).remove(this).each(function(t){s.allowAutoActive&&(N.node.removeClass(t,"active"),n&&N.CALL(s.ContextsEvents.didInactive,t))}),n&&N.CALL(s.ContextsEvents.willChange,this,e),N.node.addClass(this,"active"),n&&0===i.length&&N.CALL(s.ContextsEvents.activeStart,this,e),n&&N.CALL(s.ContextsEvents.didActive,this,e),n&&N.CALL(s.ContextsEvents.didChange,this,e),!1)}}),r&&this.whenWillActive(r),"function"==typeof i&&(i=i.call(this)),"number"==typeof i&&this.shouldActive(i,1)}),N.MODULE("ActiveContextsGroup",{getActiveIndexes:function(t){var e=this.Source[t||this.Source.length-1];return e?e.getActiveIndexes():[]},setActiveIndexes:function(t,e,n){return new N.Array(this.Source).remove(n).each(function(n,r){n.setActiveIndexes(t,0===r?e&&!0:!1)}),this},shouldInactive:function(t,e,n){return new N.Array(this.Source).remove(n).each(function(n,r){n.shouldInactive(t,0===r?e&&!0:!1)}),this},shouldActive:function(t,e,n){return N.dataEach(this.Source,function(r,i){r.shouldActive(t,0===i?e&&!0:!1,n)}),this},activeAll:function(t,e){var n=this.Source[e||this.Source.length-1];return n&&this.setActiveIndexes(N.dataMap(n.selects(),function(t,e){return e}),t&&!0),this},inactiveAll:function(t){this.setActiveIndexes([],t&&!0)},getActiveSelects:function(t){var e=this.Source[t||this.Source.length-1];return e.getActiveSelects()},hasActive:function(t){var e=this.Source[t||this.Source.length-1];return e.hasActive()},syncActiveContexts:function(t,e){this.Source.push(t);var n=this;if(t.whenWillActive(function(t){var e=this;return N.CALL(n.ContextsEvents.willActive,e,t)}),t.whenDidActive(function(e){var r=this;return n.setActiveIndexes(t.getActiveIndexes(),!1,t),N.CALL(n.ContextsEvents.didActive,r,e)}),t.whenDidInactive(function(e){n.setActiveIndexes(t.getActiveIndexes(),!1,t);var r=this;return N.CALL(n.ContextsEvents.didInactive,r,e)}),t.whenWillChange(function(){var t=this;return N.CALL(n.ContextsEvents.willChange,t)}),t.whenDidChange(function(e){var r=this;return n.setActiveIndexes(t.getActiveIndexes(),!1,t),N.CALL(n.ContextsEvents.didChange,r,e)}),t.whenActiveStart(function(t){var e=this;return N.CALL(n.ContextsEvents.activeStart,e,t)}),t.whenActiveEnd(function(t){var e=this;return N.CALL(n.ContextsEvents.activeEnd,e,t)}),e===!0){var r=this.Source[this.Source.length-1];r&&t.setActiveIndexes(r.getActiveIndexes(),!1)}return t},makeActiveContexts:function(){return this.syncActiveContexts(_ActiveContexts.apply(ActiveContexts,Array.prototype.slice.call(arguments)))},whenWillActive:function(t){return this.ContextsEvents.willActive=t,this},whenDidActive:function(t){return this.ContextsEvents.didActive=t,this},whenDidInactive:function(t){return this.ContextsEvents.didInactive=t,this},whenWillChange:function(t){return this.ContextsEvents.willChange=t,this},whenDidChange:function(t){return this.ContextsEvents.didChange=t,this},whenActiveToggle:function(t,e){return this.whenDidActive(t),this.whenDidInactive(e)},whenActiveStart:function(t){return this.ContextsEvents.activeStart=t,this},whenActiveEnd:function(t){return this.ContextsEvents.activeEnd=t,this}},function(){this.ContextsEvents={},this.Source=[]}),N.EXTEND_MODULE("ActiveStatus","ViewAndStatus",{addViewStatus:function(t,e,n){"string"==typeof t&&("function"==typeof e&&this.whenActive(t,e),"function"==typeof n&&this.whenInactive(t,n))},viewStatusTo:function(t){"string"==typeof name&&this.toggleActiveStatus(t,Array.prototype.slice.call(arguments,1),this)},node:function(t){return 0===arguments.length?new N.NodeHandler(this.view):(t in this&&(t=this[t]),new N.NodeHandler(N.find.apply(void 0,N.ownerMap(this,[t,this.view].concat(Array.prototype.slice.call(arguments,1))))))},find:function(t){return N.find.apply(void 0,N.ownerMap(this,[t,this.view].concat(Array.prototype.slice.call(arguments,1))))}},function(t,e,n){return this.view=N.findLite(t)[0],this.view?(this._super(e,n),!0):console.error("ViewAndStatus::\ub2e4\uc74c\uc140\ub809\ud130\ub97c \ucc3e\uc744\uc218 \uc5c6\uc2b5\ub2c8\ub2e4. \uc774\uc640 \uad00\ub828\ub41c \ucee8\ud2b8\ub864\ub7ec\ub294 \ubaa8\ub450 \uc815\uc0c1\uc801\uc73c\ub85c \uc791\ub3d9\ub418\uc9c0 \uc54a\uc744\uac83\uc785\ub2c8\ub2e4. => ",t)}),N.EXTEND_MODULE("ViewAndStatus","FormController",{setFormData:function(t,e){return this.Form.checkin(t,e)},getFormData:function(){return this.Form.checkout()},controlEach:function(t,e){this.Form.selectEach(t,e)},getFormControl:function(){return this.Form.find.apply(this.FormControl,Array.prototype.slice.call(arguments))}},function(t,e,n){if(this._super(t,!1,!0)===!0){this.Form=new N.Form(this.view);var r=this;e&&"object"==typeof e&&N.propEach(e,function(t,e){r.addViewStatus(e,t)}),"function"==typeof n&&(n={init:n}),N.propEach(n,function(t,e){e in r.constructor.prototype||("init"===e?"function"==typeof t&&t.apply(r,Array.prototype.slice.call(arguments)):r[e]="function"==typeof t?function(){t.apply(r,Array.prototype.slice.call(arguments))}:t)})}}),N.MODULE("EventListener",{triggerWithOwner:function(t,e){var n=Array.prototype.slice.call(arguments,2),r=this.ManageModuleAroundEvents.prop(e);if(r){var i=r.prop("before");if(i&&i.isAny(function(e){return 0==e.apply(t,n)}))return!1}var o=this.ManageModuleEvents.dataProp(e).map(function(e){return e.apply(t,n)});if(r){var a=r.prop("after");a&&a.each(function(e){return e.apply(t,n)})}return o},trigger:function(t){this.triggerWithOwner.apply(this,[this.ManageModule,t].concat(Array.prototype.slice.call(arguments,1)))},listenBefore:function(t,e){this.ManageModuleAroundEvents.has(t)||this.ManageModuleAroundEvents.setProp(t,new N.HashSource),this.ManageModuleAroundEvents.prop(t).pushDataProp("before",e)},listenAfter:function(t,e){this.ManageModuleAroundEvents.has(t)||this.ManageModuleAroundEvents.setProp(t,new N.HashSource),this.ManageModuleAroundEvents.prop(t).pushDataProp("after",e)},listen:function(t,e){return"function"!=typeof e?!1:void this.ManageModuleEvents.pushDataProp(t,e,!0)},hasListen:function(t){return 0===arguments.length&&this.ManageModuleEvents.hasProp(),this.ManageModuleEvents.hasProp(t)},hasListener:function(){var t=!1;return this.ManageModuleEvents.each(function(e){return e.length?(t=!0,!1):void 0}),t},addTriggerRegister:function(t,e){var n=this;if("string"==typeof t){var r=t[0].toUpperCase()+t.substr(1);this.ManageModule["trigger"+r]=function(){n.triggerWithOwner.apply(n,[e?e:n.ManageModule,t].concat(Array.prototype.slice.call(arguments)))}}else N.dataEach(t,function(t){"string"==typeof t&&n.addTriggerRegister(t,e)})},addEventRegister:function(t,e){var n=this;if("string"==typeof t){var r=t[0].toUpperCase()+t.substr(1),i="on"+r;if(this.ManageModuleEvents.touchDataProp(t),e===!0){var o="will"+r,a="did"+r;this.ManageModule[o]=function(e){return"function"!=typeof e?console.error("missing method from",o):void n.listenBefore(t,e)
},this.ManageModule[a]=function(e){return"function"!=typeof e?console.error("missing method from",a):void n.listenAfter(t,e)}}this.ManageModule[i]=function(e){return"function"!=typeof e?console.error("missing method from",i):void n.listen(t,e)}}else N.dataEach(t,function(t){"string"==typeof t&&n.addEventRegister(t,e)})}},function(t){N.isModule(t)||console.error("EventListener:: manage object is must be nody module"),this.ManageModule=t,this.ManageModuleEvents=new N.HashSource,this.ManageModuleAroundEvents=new N.HashSource}),N.EXTEND_MODULE("ViewAndStatus","RoleController",{"++findRole":function(t,e){var n,t=t?N.findLite(t):void 0,r=this.prototype;return"string"==typeof e&&(n=e),n||(n=N.kebabCase(r.__NativeHistroy__[r.__NativeHistroy__.length-1])),N.find("[data-role~="+n+"]",t)},"++activeDataRole":function(t,e,n,r){for(var i=this,o=this.findRole(t,r),a=[],s=0,u=o.length;u>s;s++)!o[s].roleController&&a.push(new i(o[s],e,n));return a},hasProp:function(t){return this.ManageProp.has(t)},prop:function(t,e){return 0===arguments.length?this.ManageProp.get():this.ManageProp.prop(t,e)},setProp:function(t,e){return this.ManageProp.setProp(t,e),this},data:function(){return this.ManageData},pushData:function(t){return this.ManageData.push(t),this},findRole:function(t,e){var n=N.find(t),r=new N.Array(N.dataFilter(N.argumentsFlatten(t),function(t){return N.isModule(t,"RoleController")}));if(0===n.length,N.dataEach(n,function(t){"object"==typeof t.roleController&&r.push(t.roleController)}),"function"==typeof e){var i=this;N.dataEach(r,function(t){e.call(i,t)})}return r},findRoleById:function(t){var e=N.find("#"+t.replace("#",""),0);return 0===e.length?console.warn("findRoleById\ub294 ",t,"\uc744 \ucc3e\uc744\uc218 \uc5c6\uc2b5\ub2c8\ub2e4"):e.roleController},findRoleByProp:function(t,e){var n=this.ManageProp.prop(t),r=N.isModule(n,"RoleController")?[n]:this.findRole(n);return"function"==typeof e&&N.dataEach(r,e),r},release:function(){nd.node.removeAttr(this.view,"data-role",N.kebabCase(this.__NativeModule__()));for(var t in this)this[t]=null}},function(t,e,n,r){if(this._super(t,!0,!0)===!0){N.isModule(e,"Binder")?(this.ManageProp=e.beforeProperty,this.ManageProp.pushDataProp(this.__NativeModule__(),this),this.Binder=e):N.isModule(e,"HashSource")?(this.ManageProp=e,this.ManageProp.pushDataProp(this.__NativeModule__(),this)):(this.ManageProp=new N.HashSource(e),this.ManageProp.pushDataProp(this.__NativeModule__(),this)),this.ManageData=new N.Array(n),this.ManageEvent=new N.EventListener(this);var i=this;N.find("script[type*=json]",this.view,N.dataEach,function(t){var e=N.node.value(t);nd.is(e,"object")&&(N.is(e,"array")?i.ManageData.append(e):i.ManageProp.extend(e)),N.node.remove(t)}),this.view.roleController=this,"function"==typeof r&&this.view&&(N.node.addAttr(this.view,"data-role",N.kebabCase(this.__NativeModule__())),r.call(this,this))}}),N.MODULE("Fire",{complete:function(){return this.FireCurrent=this.FireMax,this.FireFunction.apply(this,arguments)},touch:function(){return this.FireCurrent++,this.FireCurrent>=this.FireMax?this.complete.apply(this,arguments):void 0},back:function(){return this.FireCurrent--,this},each:function(t){var e=this,n=function(){return e.touch()};return N.isArray(this.Source)&&"function"==typeof t?new N.Array(this.Source).each(function(r,i){return N.CALL(t,e,r,i,n)}):console.warn("Fire::\uc870\uac74\uc774 \ucda9\uc871\ub418\uc9c0 \ubabb\ud574 fire\ub97c \uc2e4\ud589\ud558\uc9c0 \ubabb\ud558\uc600\uc2b5\ub2c8\ub2e4. source=> ",this.Source,"each f=>",t),this}},function(t,e){this.Source=t,this.FireMax=1==N.isArray(t)?t.length:1==isNaN(t)?0:parseInt(t),this.FireFunction=e,this.FireCurrent=0}),N.METHOD("fire",function(t,e,n){return new N.Fire(t,n).each(e)}),N.MODULE("Request",{send:function(t,e){return"string"!=typeof this.defaultURL?console.error("Requst::send => not exesist request url"):void this.relativeSend("",t,e)},relativeSend:function(t,n,r,i){var o=this,a=new function(){this.url=this.defaultURL+t,this.method=i&&o.option.prop("method")&&"GET","string"==typeof this.method?this.method=this.method.toUpperCase():(console.warn("Requst::send => method is must be string",this.method),this.method="GET");var e=new N.HashSource(o.option.prop("parameter")).extend(n);this.parameter=e.get(),this.parameterString=e.toParameter().join("=","&"),this.callback="function"==typeof r?r:o.option.prop("callback"),o.option.each(function(t,e){switch(e){case"url":case"parameter":case"parameterString":case"method":case"callback":break;default:this[e]=t}})};if(a.prototype={onreadystatechange:function(){this.callback.apply(this,Array.prototype.slice.call(arguments))}},!("callback"in a))return console.error("Request :: callback is undefined. this must exsist");var s=window.XMLHttpRequest?new XMLHttpRequest:window.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):function(){console.error("XMLHTTPRequest\ub97c \uc9c0\uc6d0\ud558\uc9c0 \uc54a\ub294 \ube0c\ub77c\uc6b0\uc838\uc785\ub2c8\ub2e4")}();s&&(s.onreadystatechange=function(){switch(s.readyStatus){case 1:a.option.debug&&console.info("Request::("+a.url+")server connection established");break;case 2:a.option.debug&&console.info("Request::("+a.url+")request recived");break;case 3:a.option.debug&&console.info("Request::("+a.url+")processing request");break;case 4:if(s.status<400){if("true"===a.option.debug){var t={method:a.method,url:a.url,param:a.parameter};return console.info("Request::Success:: [\n - method => ",t.method,"\n - url    => ",t.url,"\n - param  => ",N.tos(t.param),"\n]\n:::result==> ",N.max(N.tos(t.data),t.dataTraceMax),"\n\n"),t}}else console.error("Request::load : '"+this.url+"' \ud638\ucd9c\uc774 \uc2e4\ud328\ub418\uc5c8\uc2b5\ub2c8\ub2e4. JSON \ud30c\ub77c\uba54\ud130\uc640 \uc5d0\ub7ec\ucf54\ub4dc\ub97c \ucd9c\ub825\ud569\ub2c8\ub2e4. ==> \n------\n",N.tos(this.option),"\n------\n",textError,N.tos(this.option.data)),s.status<500?console.warn("Request::send::error => ["+s.status+"] page not found",a.url):s.status<600?console.warn("Request::send::error => ["+s.status+"] internal server error",a.url):console.warn("Request::send::error => ["+s.status+"] error",a.url);a.onreadystatechange(s.responseText,s.status,a,s)}},N.TRY_CATCH(function(){switch(a.method){case"GET":s.open("GET",a.url+(senderparameterString.length?a.parameterString:"?"+a.parameterString),!0),s.send();break;case"POST":default:if(!this.sender.method.length)return console.error("Requst::send => method name is worng",a.method);s.open("POST",this.url,!0),N.TRY_CATCH(function(){s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.setRequestHeader("Content-type","application/x-www-form-urlencoded")},function(){throw console.warn("XMLHttpRequest:: setRequestHeader\ub97c \uc9c0\uc6d0\ud558\uc9c0 \uc54a\ub294 \ube0c\ub77c\uc6b0\uc838\uc785\ub2c8\ub2e4"),e}),s.send(requestString)}},function(t){throw t.message.indexOf("denied")>0?new Error("Cross Domain Error (if current browser is IE)"):t},this))}},function(t,e){this.defaultURL=t,this.option=new N.HashSource(e)}),N.METHOD("open",function(t,e){"function"==typeof e&&(e={success:e});var e=N.HashSource({callback:function(t,n,r,i){if(400>n){var o;switch(r.contentType){case"json":case"object":N.TRY_CATCH(function(){o=JSON.parse(t)},function(e){throw console.error("open::wrong json format. =>",t,i),e});break;case"dom":case"node":o=N.parseHTML(t);break;case"http":case"html":case"js":case"javascript":case"css":case"stylesheets":default:o=t}if("function"!=typeof r.success)return console.error("open:: must 'success' exsist as function =>",e);r.success(o,r,i),"function"==typeof r["final"]&&r["final"](a,r,i)}else{var a;r.error&&(a=requestObject.statusText,r.error(requestObject.statusText,r,i)),"function"==typeof r["final"]&&r["final"](a,r,i)}}}).marge(e);return new N.Request(t,e).send()}),N.MODULE("ContentLoader",{hasLoadContent:function(t){return this.ManageLoadNode.has(t)},loadContent:function(t,e){var n=this,r=!1;switch("string"!=typeof e&&(e=this._loadkey),"function"==typeof t&&(t=t(N.APPLY(t,this))),typeof t){case"string":var i=t+(t.indexOf("?")>-1?"&token=":"?token=")+N.Util.base36Random(2);new N.Open(i,{dataType:"dom",success:function(t){n.ManageLoadNode.setProp(e,t),n.ManageEvent.trigger("load",e,t),r=!0},error:function(){console.error("ContentLoader:: Can't load of the path => "+t),N.CALL(error,_,e)}});break;case"object":var o=N.findLite(t);0===o.length?console.error("ContentLoader:: not found of the loadObject => "+t):(n.ManageLoadNode.setProp(e,o),n.ManageEvent.trigger("load",e,o),r=!0)}return r},putContent:function(t,e){return"string"!=typeof e&&(e=this._loadkey),this.ManageLoadNode.has(e)?N.node.put(t,e,this.ManageLoadNode.prop(e)):void console.error("must be loadContent after putContent =>",e)},templateContent:function(t){return"string"!=typeof t&&(t=this._loadkey),this.ManageLoadNode.has(t)?new N.Template(this.ManageLoadNode.prop(t)):void console.error("must be loadContent after templateContent =>",t)}},function(){this.ManageLoadNode=new N.HashSource,this.ManageEvent=new N.EventListener(this),this.ManageEvent.addEventRegister("load"),this._loadkey="defaultLoadContent"}),N.EXTEND_MODULE("ContentLoader","ActiveContentLoader",{active:function(t){if("string"==typeof t&&this._activeStatus===t)return!0;if(!this.ManageLoadPath.has(t))return console.error("ActiveContentLoader::activeName in not defined"),!1;var e=!0;if(this.ManageLoadNode.has(t)||(e=this.loadContent(t,this.ManageLoadPath.prop(t))),e){if(this._activeStatus){var n=N.findLite(this.view.childNodes),r=this.ManageEvent.trigger("inactive",this._activeStatus,n);if(N.dataHas(r,!1))return!1}{var i=this.ManageLoadNode.prop(t);this.ManageEvent.trigger("active",this._activeStatus,i)}if(N.dataHas(r,!1))return!1}return!1}},function(t,e){return this._super(),this.view=N.find(t,0),this.view?(this.ManageEvent.addEventRegister(["active","inactive"],!0),this.ManageEvent.didInactive(function(t,e){this.ManageLoadNode.setProp(this._activeStatus,e),N.node.empty(this.view),this._activeStatus=void 0}),this.ManageEvent.didActive(function(t,e){this.ManageLoadNode.setProp(t,e),N.node.put(this.view,e),this._activeStatus=t}),this.ManageLoadPath=new N.HashSource(N.marge(e,{loaderInitial:N.toArray(this.view.childNodes)})),this._activeStatus="loaderInitial",void 0):console.error("ActiveContentLoader:: not found view of selector =>",t)}),N.MODULE("DataContext",{_clearPath:function(t){if(N.isArray(t))return t;if("string"!=typeof t)throw new Error("DataContext::_clearPath::1:Invaild path => "+t);t=t.trim(),t=0==t.indexOf("/")?t.substr(1):t,t=this.ContextID+"/"+t;var e=new N.Array,n=t.split("/");return N.dataEach(n,function(t){var n=t.match(/\d/g);return null!=n&&n.join("")==t?void e.push(parseInt(t)):void e.push(t)}),e.remove(""),e},_clearStringPath:function(t){var e=this._clearPath(t);return N.isArray(e)?e.join("/"):void 0},_getDataProps:function(t){var t=N.clone(t);return"object"==typeof t?N.isArray(t)?{}:new N.HashSource(t).remove(this.DefaultDataKey).get():void 0},_getChildData:function(t){if("object"==typeof t){if(N.isArray(t))return N.clone(t);var e=t[this.DefaultDataKey];if("object"==typeof e)return N.isArray(e)?N.clone(e):[N.clone(e)]}return[]},getFullDataWithPath:function(t){var t=this._clearPath(t);if(N.isArray(t)){var e=[this.Source.get()],n=this;return N.dataEach(t,function(t){if("string"==typeof t)switch(t){case"/":case n.ContextID:break;case"*":e=new N.Array(e).map(function(t){return N.isArray(t)?t:n.Source.prop(n.DefaultDataKey)}).setFlatten().remove(void 0)}else"number"==typeof t&&(e=new N.Array(e).map(function(e){if(N.isArray(e))return e[t];var r=e[n.DefaultDataKey];return N.isArray(r)?r[t]:void 0}).remove(void 0))}),e}},feedDownLinkDataMake:function(t,e){if("object"==typeof t){var n=N.isArray(t)?new N.LinkData(this,this._getDataProps(t),"array"):new N.LinkData(this,this._getDataProps(t),"object"),r=this._getChildData(t),i=[],o=this;return N.isArray(r)&&N.dataEach(r,function(t){var e=o.feedDownLinkDataMake(t,n);e&&i.push(e)}),"object"==typeof e&&e.appendChild(n),n}console.error("data\ucd08\uae30 \uac12\uc740 \ubc18\ub4dc\uc2dc object\ud0c0\uc785\uc774\uc5ec\uc57c \ud569\ub2c8\ub2e4. =>",typeof t,t)},update:function(t,e,n){if("object"==typeof t){for(var r=e||this.RootLinkData,i=this._getDataProps(t),o=N.diffKeys(r.prop(),i),a=0,s=o.length;s>a;a++)o[a]in i?r.setProp(o[a],i[o[a]]):n===!0||o[a]in i||r.removeProp(o[a]);for(var u=this._getChildData(t),c=u.length,f=r.Child.toArray(),l=f.length,h=[],a=0,s=c>l?c:l;s>a;a++)u[a]&&f[a]?this.update(u[a],f[a],n):!u[a]&&f[a]?h.push(f[a]):u[a]&&!f[a]&&r.addChildData(u[a]);return N.dataEach(h,function(t){t.removeLinkData()}),r}console.warn("data\ucd08\uae30 \uac12\uc740 \ubc18\ub4dc\uc2dc object\ud0c0\uc785\uc774\uc5ec\uc57c \ud569\ub2c8\ub2e4.",typeof t,t)},margeUpdate:function(t){this.update(t,void 0,!0)},trace:function(t){var e=this;t||(t=this.RootLinkData);var n="array"==t.SourceType,r=n?"[":"{",i=n?"]":"}",o=[];return t.Source.each(function(t,e){o.push('"'+e+'":"'+t+'"')}),t.Child.length>0&&o.push((n?"":'"'+this.DefaultDataKey+'":[')+t.Child.map(function(t){return e.trace(t)}).join(", ")+(n?"":"]")),r+o.join(", ")+i},JSONString:function(){return this.trace()},JSONObject:function(){return JSON.parse(this.JSONString())},getLinkData:function(t){if("/"==typeof t)return this.RootLinkData;0==t.indexOf("/")&&(t=this.ContextID+t);var e,n=t.split("/"),r=this.ContextID,i=this.RootLinkData;return N.dataEach(n,function(t){e=r==t?i:e.Child[parseInt(t)]}),e},querySelectData:function(t){var e=[this.RootLinkData];if("/"==t||""==t)return e;var n=[];return t.replace(/\*\*.+/g,"**").replace(/\/[^\/]+/g,function(t){n.push(t.substr(1))}),N.dataEach(n,function(t){var n=e,r=[];if(""==t)return!1;if("*"==t)N.dataEach(n,function(t){r=r.concat(t.Child.toArray())});else if("**"==t)N.dataEach(n,function(t){t.feedDownLinkData(function(){r.push(this)})});else if(/\[[^\]]+\]/.test(t)){var i={};t.replace(new RegExp("\\[[\\w\\-\\_]+\\]|\\[\\'[\\w\\-\\_]+\\'\\]|\\[\\\"[\\w\\-\\_]+\\\"\\]","gi"),function(t){return i[t.substr(1,t.length-2)]=null,""}).replace(new RegExp("\\[[\\w\\-\\_]+\\=[^\\]]+\\]|\\[\\'[\\w\\-\\_]+\\'\\=\\'[^\\]]+\\'\\]|\\[\\\"[\\w\\-\\_]+\\\"\\=\\\"[^\\]]+\\\"\\]","gi"),function(e){var n=/\[([\"\'\w\-\_]+)(=|~=|)(.*|)\]$/.exec(e);n?i[N.unwrap(n[1],["''",'""'])]=n[3]?N.unwrap(n[3],["''",'""']):null:console.warn("//!devel target parse err",n,t)}),/\[[^\]]+\]\*\*$/.test(t)?N.dataEach(n,function(t){t.feedDownLinkData(function(){var t=this,e=!0;N.propEach(i,function(n,r){return e=null===n||""===n?t.hasProp(r):t.prop(r)==n}),e===!0&&r.push(t)})}):N.dataEach(n,function(t){N.dataEach(t.Child,function(t){var e=!0;N.propEach(i,function(n,r){return e=null===n||""===n?t.hasProp(r):t.prop(r)==n}),e===!0&&r.push(t)})})}else N.likeNumber(t)?N.dataEach(n,function(e){var n=e.Child[parseInt(t)];n&&r.push(n)}):N.dataEach(n,function(){N.dataEach(n,function(e){e.DataID==t&&r.push(e)})});e=r}),e},getLinkDataWithID:function(t){return this.RootLinkData.getLinkDataWithID(t)},getLinkDataWithOffset:function(t,e){var n=/(.*)\/([\d]+)$/.exec(t);return void(null===n&&console.error("getNextLinkData \uc5d0\ub7ec",t))},getRootLinkData:function(){return this.RootLinkData}},function(t,e){this.ContextID=N.Util.base36UniqueRandom(5,"co"),this.Source=new N.HashSource(t),this.DefaultDataKey=e||"data",this.Binder=new N.Binder,this.RootLinkData=this.feedDownLinkDataMake(this.Source.get(),"root")}),N.MODULE("ViewModel",{needRenderView:function(t,e,n){if(this.Renders[t]){var r=N.isModule(this.Renders[t],"Template")?e.template(this.Renders[t]):this.Renders[t].call(e,e,n);if(r!==!1){if("object"==typeof r&&"nodeName"in r)return r;if(N.isArray(r)){if(1==r.length)return r[0];var i=N.dataFirst(r);return console.log("\uacbd\uace0::ViewModel\uc758 \ucd5c\uc885 \ub80c\ub354 \ub178\ub4dc\ub294 \ud558\ub098\ub9cc \ubc18\ud658\ub418\uc5b4\uc57c \ud569\ub2c8\ub2e4",r),i}console.error("\uc624\ub958::ViewModel\uc758 \ub80c\ub354\uac12\uc774 \uc62c\ubc14\ub974\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. \ub300\uccb4 \ub80c\ub354\ub9c1\uc774 \uc2e4\uc2dc\ub429\ub2c8\ub2e4.=>",r,this.Renders[t])}}return N.make("div",{html:N.toString(e.prop()),style:"padding-left:10px;"},e.placeholder("div"))},clone:function(){for(var t=this.Renders.clone(),e=0,n=arguments.length;n>e;e++)arguments[e]&&(t[e]=arguments[e]);return N.ViewModel["new"].apply(void 0,t.toArray())}},function(){this.Renders=new N.Array(Array.prototype.slice.call(arguments)).map(function(t){return"string"==typeof t?new N.Template(t):t})}),N.MODULE("LinkData",{appendChild:function(t){var e=this;N.dataEach(t,function(t){e.Child.push(t),t.Parent=e})},removeFromParent:function(){this.Parent&&(this.Parent.Child.remove(this),this.Parent=void 0)},removeChildren:function(t){var e=this;N.dataEach(t,function(t){var n=e.Child.indexOf(t),r=e.Child[n];r&&r.removeFromParent()})},breakableFeedDownLinkData:function(t,e){var n=t.call(this,e);return n!==!1&&N.dataEach(this.Child,function(e){return e.breakableFeedDownLinkData(t,n)}),n},feedDownLinkData:function(t,e){var n=t.call(this,e);return N.dataEach(this.Child,function(e){e.feedDownLinkData(t,n)}),this},feedUpManageData:function(t,e){var e=e?e:0,n=this.Child;return e++,N.dataEach(n,function(n){n.feedUpManageData(t,e)}),t(this,e-1),this},chainUpMangedData:function(t){"function"==typeof t&&(t.call(this),this.Parent&&this.Parent.chainUpMangedData(t))},replaceProp:function(t,e){N.isModule(t,"LinkData")&&(t=t.prop()),"object"==typeof t&&this.Source.setSource(t),e===!0&&this.rerender()},hasProp:function(t){return this.Source.has(t)},prop:function(t,e){return 0===arguments.length?this.Source.get():this.Source.prop(t,e)},setProp:function(t,e,n){if("string"==typeof t)this.Source.setProp(t,e,!1),this.DataContext.Binder.send(this,this.DataID+"."+t,e);else if("object"===t)for(var r in t)this.setProp(r,t[r],!1);return n!==!1&&this.DataContext.Binder.post(this,"GLOBAL.LinkDataWasSetValue",this),this},removeProp:function(t){this.Source.has(t)&&(this.Source.remove(t),this.DataContext.Binder.send(this,this.DataID+"."+t,""))},text:function(){return N.makeText(this.value.apply(this,arguments))},bind:function(t,e){if(this.PresentorScope){var n=N.isNode(e)?e:N.create("undefined"==typeof e?"input!"+e:e);return this.PresentorScope.addBindNode(n,this,t),n}console.warn("view\ucee8\ud2b8\ub864\ub7ec \uc2a4\ucf54\ud504 \ub0b4\uc5d0\uc11c\ub9cc bind\ub97c \uc0ac\uc6a9\ud560\uc218 \uc788\uc2b5\ub2c8\ub2e4.")},hidden:function(t){return this.bind(t,"hidden!"+t)},action:function(t,e,n){if(this.PresentorScope){var r=N.isNode(e)?e:N.create(e);return this.PresentorScope.addActionNode(t,r,this,n),r}console.warn("view\ucee8\ud2b8\ub864\ub7ec \uc2a4\ucf54\ud504 \ub0b4\uc5d0\uc11c\ub9cc action\uc744 \uc0ac\uc6a9\ud560\uc218 \uc788\uc2b5\ub2c8\ub2e4.")},placeholder:function(t){if(this.PresentorScope){var e=N.isNode(t)?t:N.create(t);return this.PresentorScope.addPlaceholderNode(this.DataID,e),e}},template:function(t,e){var n=this;"object"==typeof e&&(e=N.propMap(e,function(t){return"function"==typeof t?function(){return t.apply(n,Array.prototype.slice.call(arguments))}:t}));var r;if("object"==typeof t)r=t.output(this.prop(),e);else{if("string"!=typeof t)return console.error("template \uac12\uc774 \uc798\ubabb\ub418\uc5b4 \ub79c\ub354\ub9c1\uc744 \ud560\uc218 \uc5c6\uc5c8\uc2b5\ub2c8\ub2e4.",t),!1;r=new N.Template(t,!0).output(this.prop(),e)}return r.isNone()?(console.error("template :: \ub80c\ub354\ub9c1\ud560 template\ub97c \ucc3e\uc744\uc218 \uc5c6\uc2b5\ub2c8\ub2e4",r),!1):(r.partialSetup(["bind","action","placeholder"],function(t,e,r){switch(r){case"bind":n.bind(t,e);break;case"action":"nd-param"in e.attributes?(n.action(t,e,N.toObject(e.getAttribute("nd-param"))),e.removeAttribute("nd-param")):n.action(t,e);break;case"placeholder":n.placeholder(e)}}),r)},response:function(t,e){"string"!=typeof t&&"function"!=typeof e&&console.warn("response args must be string & function => ",t,e),this.__response__||(this.__response__={}),this.DataContext.Binder.listen(this.__response__,this.DataID+"."+t,function(t,n,r){e(t,r)})},revertData:function(){this.DataContext.getDataWithPath(this.path)},getPath:function(){var t=new N.Array;return this.chainUpMangedData(function(){t.push(this.Parent?this.Parent.Child.indexOf(this):this.DataContext.ContextID)}),t.reverse().join("/")},querySelectData:function(t){return""==t||"/"==t?[this]:this.DataContext.querySelectData(this.getPath()+"/"+t)},getLinkDataWithID:function(t){if("string"==typeof t){var e;return this.breakableFeedDownLinkData(function(){return this.DataID==t?(e=this,!1):void 0}),e}},getParentLinkData:function(){return this.Parent},getChildLinkData:function(){return this.Child},hasParentLinkData:function(){return!!this.Parent},hasChildLinkData:function(){return!!this.Child.length},getDepth:function(){var t=0;return this.feedUpManageData(function(e,n){n+1>t&&(t=n+1)}),t},getLevel:function(){var t=0;return this.chainUpMangedData(function(){this.Parent?t++:void 0}),t},getIndex:function(){return this.Parent.Child.indexOf(this)},getDataID:function(){return this.DataID},getContextID:function(){return this.DataContext.ContextID},findById:function(t){if(this.DataID==t)return this;var e;return this.Child.each(function(n){return e=n.findById(t),e?!1:void 0}),e},rerender:function(){this.DataContext.Binder.post(this,"GLOBAL.LinkDataNeedRerender",this)},managedDataIndexExchange:function(t){return t?(this.Parent.Child.changeIndex(this.getIndex(),t.getIndex()),this.DataContext.Binder.post(this,"GLOBAL.LinkDataIndexExchange",[this,t]),!0):!1},managedDataIncrease:function(){var t=this.Parent.Child[this.Parent.Child.indexOf(this)+1];return t?this.managedDataIndexExchange(t):!1},managedDataDecrease:function(){var t=this.Parent.Child[this.Parent.Child.indexOf(this)-1];return t?this.managedDataIndexExchange(t):!1},removeLinkData:function(t){t===!0?(this.removeFromParent(),this.DataContext.Binder.post(this,"GLOBAL.LinkDataRemoved",this),this.release()):this.feedUpManageData(function(t){t.removeLinkData(!0)})},release:function(){return this.DataContext.Binder.removeListener(this),this.__response__&&this.DataContext.Binder.removeListener(this.__response__),this.view},addChildData:function(t){if("function"==typeof t&&(t=t()),"object"==typeof t){this.DataContext.feedDownLinkDataMake(t||{},this);var e=this.Child.last();return this.DataContext.Binder.post(this,"GLOBAL.LinkDataAddedChild",{dataID:this.DataID,newLinkData:e}),e}console.warn("addChildData :: append data\uac00 \ub4e4\uc5b4\uc624\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4",t)},addMemberData:function(t){return this.Parent?this.Parent.addChildData(t):void 0}},function(t,e,n){this.DataContext=t,this.DataID=N.Util.base62UniqueRandom(8,"ma"),this.Source=new N.HashSource(e),this.SourceType=n||"object",this.Child=new N.Array,this.Parent=void 0,this.PresentorScope=void 0;var r=this.DataContext.Binder,i=this.DataID+".";r.prefixListen(this,i,function(t,e,n){this.setProp(n,t)}),this.Source.each(function(t,e){r.beforeProperty.setProp(i+e,t)})}),N.MODULE("Presentor",{addActionEvent:function(t,e){this._dataActions||(this._dataActions=new N.HashSource,this.ManageDataActions=new N.EventListener(this._dataActions)),this.ManageDataActions.listen(t,e)},addPlaceholderNode:function(t,e){"string"==typeof t&&N.isNode(e)&&(this.placeholderNodes[t]=e)},addBindNode:function(t,e,n){this.managedData.DataContext.Binder.bindNode(t,e.DataID+"."+n)},addActionNode:function(t,e,n,r){var i=this;N.node.on(e,"click",function(){i.ManageDataActions.hasListener(t)?i.ManageDataActions.triggerWithOwner(n,t,r,e,i):console.warn("MVVM::no had action",t)})},setLinkData:function(t){var e;if(N.isModule(t,"DataContext")?e=t.getRootLinkData():N.isModule(t,"LinkData")?e=t:"object"==typeof t&&(e=new N.DataContext(t).getRootLinkData()),!e)return console.warn("setLinkData::managedData \uc624\ube0c\uc81d\ud2b8\uac00 \ud544\uc694\ud569\ub2c8\ub2e4. \ub4e4\uc5b4\uc628 \uac12->",t),!1;if(this.managedData){if(this.managedData.DataContext===e.DataContext)return!0;this.managedData.DataContext!==e.DataContext&&this.managedData.DataContext.Binder.removeListener(this)}this.managedData=e;var n=e.DataContext.Binder;return n.listen(this,"GLOBAL.LinkDataNeedRerender",function(t){var e=t.getParentLinkData();if(e){var n=this.placeholderNodes[e.getDataID()],r=this.structureNodes[t.getDataID()],i=this.placeholderNodes[t.getDataID()];if(r||console.error("rerender \ub300\uc0c1\uc758 \ub370\uc774\ud130\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."),!n)return console.error("\ubd80\ubaa8\uc758 placeholder\uac00 \uc874\uc7ac\ud574\uc57c rerender\uac00 \uc791\ub3d9\ud560\uc218 \uc788\uc2b5\ub2c8\ub2e4.");this.needDisplay(t,n,!0),N.node.before(r,this.structureNodes[t.DataID]),i&&N.node.append(this.placeholderNodes[t.DataID],i.children),t.DataContext.Binder.removeListenerWithNode(r),N.node.remove(r)}else this.needDisplay(t);this.ManagePresentorEvent.trigger("dataChange","rerender",t,this.structureNodes[t.DataID]),this.ManagePresentorEvent.trigger("displayChange",this,this.view)}),n.listen(this,"GLOBAL.LinkDataIndexExchange",function(t){var e=this.structureNodes[t[0].DataID],n=this.structureNodes[t[1].DataID];if(e&&n){var r=N.create("div"),i=N.create("div");N.node.before(e,r),N.node.before(n,i),N.node.before(r,n),N.node.before(i,e),N.node.remove(r),N.node.remove(i),this.ManagePresentorEvent.trigger("dataChange","position",t[0],e),this.ManagePresentorEvent.trigger("dataChange","position",t[1],n)}}),n.listen(this,"GLOBAL.LinkDataRemoved",function(t){var e=t.DataID;if(this.structureNodes[e]){t.DataContext.Binder.removeListenerWithNode(this.structureNodes[e]),N.node.remove(this.structureNodes[e]),delete this.structureNodes[e],this.ManagePresentorEvent.trigger("dataChange","remove",t),this.ManagePresentorEvent.trigger("displayChange",this,this.view)}this.placeholderNodes[e]&&delete this.placeholderNodes[e]}),n.listen(this,"GLOBAL.LinkDataAddedChild",function(t){try{this.placeholderNodes[t.dataID]&&(this.needDisplay(t.newLinkData,this.placeholderNodes[t.dataID]),this.ManagePresentorEvent.trigger("dataChange","append",t.newLinkData,this.structureNodes[t.newLinkData.DataID]),this.ManagePresentorEvent.trigger("displayChange",this,this.view))}catch(e){console.log(e),console.log(this.placeholderNodes)}}),n.listen(this,"GLOBAL.LinkDataWasSetValue",function(t){this.ManagePresentorEvent.trigger("propChange","bind",t,this.structureNodes[t.DataID]),this.ManagePresentorEvent.trigger("displayChange",this,this.view)}),!0},needDisplay:function(t,e,n){this.managedData||console.warn("DataContextViewController:: Must need set LinkData before needDisplay"),this.viewModel||console.warn("DataContextViewController:: Must need set ViewModel before needDisplay"),t||e||(this.view.innerHTML="",this.bindValueNodes=new N.Array,this.structureNodes={},this.placeholderNodes={},this.selectIndexes=new N.Array),t=t||this.managedData,e=e||this.view;var r=this,i=N.arrays(this.managedData.getDepth()),o=null,a=this.managedData.getLevel(),s=t.getLevel(),u=function(t,e,n){t.setAttribute("data-managed-id",e.DataID),t.setAttribute("data-managed-depth",n)};if(1==n){t.PresentorScope=r;var c=r.viewModel.needRenderView(s-a,t,[],r);u(c,t,s-a),e.appendChild(c),(N.isNode(c)||N.isTextNode(c))&&(r.structureNodes[t.DataID]=c),t.PresentorScope=void 0}else t.feedUpManageData(function(t,n){null==o&&(o=n),t.PresentorScope=r;var c;if(n==s)c=r.viewModel.needRenderView(n-a,t,i[n+1],r),u(c,t,n),e.appendChild(c),r.placeholderNodes[t.DataID]&&N.node.append(r.placeholderNodes[t.DataID],i[n+1]),i[n+1]=[];else if(o>n){var c=r.viewModel.needRenderView(n-a,t,i[o],r);u(c,t,n),r.placeholderNodes[t.DataID]&&N.node.append(r.placeholderNodes[t.DataID],i[o]),i[o]=[],i[n].push(c)}else{var c=r.viewModel.needRenderView(n-a,t,[],r);u(c,t,n),i[n].push(c)}o=n,(N.isNode(c)||N.isTextNode(c))&&(r.structureNodes[t.DataID]=c),t.PresentorScope=void 0},s);return this.ManagePresentorEvent.trigger("displayChange",this,this.view),this},needDisplayWithViewModel:function(t){this.viewModel=t,this.needDisplay()},needDisplayWithData:function(t){this.setLinkData(t)?this.needDisplay():console.warn("\ub370\uc774\ud130\ub97c \ucd08\uae30\ud654\ud558\ub294\ub370 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4. \ub370\uc774\ud130\uc758 \ud615\uc2dd\uc774 \uc798\ubabb\ub418\uc5c8\uc2b5\ub2c8\ub2e4.",t)},findByLinkData:function(t){return this.structureNodes[t.getDataID()]},findByManagedId:function(t){return this.structureNodes[t]},findByIndex:function(){var t=N.dataFilter(N.argumentsFlatten(arguments),function(t){return"number"==typeof t||"*"===t?!0:!1},N.dataMap,function(t,e){return"*"===t?'[data-managed-depth="'+e+'"]':'[data-managed-depth="'+e+'"]:nth-child('+(t+1)+")"}).join(" ");return new nd.NodeHandler(t,this.view)},getLinkDataByNode:function(t,e){if(e===!0){for(var n in this.structureNodes)if(this.structureNodes[n]===t)return this.managedData.getLinkDataWithID(n)}else{if(N.node.is(t,"[data-managed-id]"))return this.getLinkDataByNode(t,!0);var r=N.findParent(t,"[data-managed-id]");if(r)return this.getLinkDataByNode(r,!0)}},getRootLinkData:function(){return this.managedData},getLinkDataByIndex:function(){var t=this.getRootLinkData();return N.dataMap(this.findByIndex.apply(this,Array.prototype.slice.call(arguments)),function(e){return t.getLinkDataWithID(nd.node.data(e,"managed-id"))})}},function(t,e,n,r){this.view=N.findLite(t)[0],this.view||console.error("\ucd08\uae30\ud654 \uc2e4\ud328 View\ub97c \ucc3e\uc744\uc218 \uc5c6\uc74c => ",t),this.structureNodes={},this.placeholderNodes={},this.ManagePresentorEvent=new N.EventListener(this),this.ManagePresentorEvent.addEventRegister(["propChange","dataChange","displayChange"]),this.ManagePresentorEvent.addTriggerRegister(["displayChange"]),this.addActionEvent("up",function(t){console.log("tup"),"function"==typeof t?0!=t(this,element)&&this.managedDataDecrease():this.managedDataDecrease()}),this.addActionEvent("down",function(t){console.log("tdow"),"function"==typeof t?0!=t(this,element)&&this.managedDataIncrease():this.managedDataIncrease()}),this.addActionEvent("append",function(t){console.log("ap"),this.addChildData(t)}),this.addActionEvent("delete",function(){console.log("de"),this.removeLinkData()}),this.viewModel=n?N.isArray(n)?N.ViewModel["new"].apply(void 0,N.toArray(n)):n:new N.ViewModel,e&&this.setLinkData(e),"function"==typeof r&&(r=N.CALL(r,this)),r===!0&&this.needDisplay()}),N.METHOD("workerOfLinearVector",function(t,e,n){n="number"==typeof n?n:1;var r=N.parseInt(t),i=N.parseInt(e);return r===i?function(){return r}:function(t){return r+(i-r)/n*t}}),N.METHOD("workerOfCubicBezier",function(t,e,n,r,i){i="number"==typeof i?i:1;var o=function(e){var r=1-e;return 3*r*r*e*t+3*r*e*e*n+e*e*e},a=function(t){var n=1-t;return 3*n*n*t*e+3*n*t*t*r+t*t*t},s=function(e){var r=1-e;return 3*(2*(e-1)*e+r*r)*t+3*(-e*e*e+2*r*e)*n};return function(t){var e,n,r,u,c,f,l=t;for(r=l,f=0;8>f;f++){if(u=o(r)-l,Math.abs(u)<i)return a(r);if(c=s(r),Math.abs(c)<1e-6)break;r-=u/c}if(e=0,n=1,r=l,e>r)return a(e);if(r>n)return a(n);for(;n>e;){if(u=o(r),Math.abs(u-l)<i)return a(r);l>u?e=r:n=r,r=.5*(n-e)+e}return a(r)}}),N.MODULE("Binder",{shouldSendValueToListenersInfo:function(t,e,n){var r=this.beforeProperty.prop(n);this.protectProperty.add(n),new N.Array(t).each(function(t){t.proc.call(t.listener,e,r,t.mutableKey)}),this.beforeProperty.setProp(n,e),this.protectProperty.remove(n)},getListenInfo:function(t,e){if(!t)return this.Source.get();var e="string"==typeof e?e:this.defaultKey;return this.Source.filter(function(n){return n.listener===t&&n.propertyName===e})},send:function(t,e,n,r,i){if(this.protectProperty.has(e))return this.trace&&console.info(t,"was make duplicate send (",e,") is still processing => ",n),!1;var o=this.beforeProperty.prop(e);if(i!==!0&&n===o)return this.trace&&console.info(t,"send is same from before value."),!1;var a=this.Source.map(function(n){if(t!==n.listener)if(n.prefixListen===!0){var r=n.propertyName.length;if(e.substr(0,r)===n.propertyName)return n.mutableKey=e.substr(r),n}else if(e===n.propertyName)return n.mutableKey=e,n}).remove(void 0),s=!0,r="number"==typeof r?r:0,u=this;a.each(function(i){return i.allowProc&&i.allowProc(n,o)===!1&&i.protectLevel>=r?(u.shouldSendValueToListenersInfo(u.getListenInfo(t,e),o,e),s=!1):void 0}),s===!0&&this.shouldSendValueToListenersInfo(a,n,e)},post:function(t,e,n,r){this.send(t,e,n,r,!0)},listen:function(t,e,n,r,i,o){if("object"!=typeof t||"string"!=typeof e||"function"!=typeof n)return console.error("BindAdapter::listen arguments must be (listener,propertyName,proc)(object,string,fucntion)=>",arguments);if(this.Source.isAny(function(n){return n.listener===t&&n.propertyName===e}))return console.error("BindAdapter:: already set listener & property");var a={listener:t,propertyName:e,proc:n,allowProc:r,protectLevel:"number"==typeof i?i:0,prefixListen:!!o,mutableKey:e};
this.Source.push(a),this.beforeProperty.has(e)&&this.shouldSendValueToListenersInfo(a,this.beforeProperty.prop(e),e)},prefixListen:function(t,e,n,r,i){return"object"!=typeof t||"string"!=typeof e||"function"!=typeof n?console.error("BindAdapter::listen arguments must be (listener,propertyName,proc)(object,string,fucntion)=>",arguments):void this.listen(t,e,n,r,i,!0)},selfSend:function(){return this.send(this,propertyName,proc,allowProc,protectLevel)},selfListen:function(t,e,n,r){return this.listen(this,t,e,n,r)},prop:function(){return this.beforeProperty.prop.apply(this.beforeProperty,Array.prototype.slice.call(arguments))},setProp:function(){return this.beforeProperty.setProp.apply(this.beforeProperty,Array.prototype.slice.call(arguments))},inspect:function(t,e,n){var e="string"==typeof e?e:this.defaultKey;return"function"!=typeof t?console.error("BindAdapter::inspect arguments must be (inspectProc,propertyName)(string,fucntion)"):void this.listen(this,e,function(){},t,n)},bindNode:function(t,e,n){var r=N.find(t,0);if(r){var e="string"==typeof e?e:this.defaultKey;switch(r.tagName.toLowerCase()){case"input":case"select":var i=this;N.node.on(r,"keyup",function(){i.send(r,e,N.node.value(r))})}this.listen(r,e,function(t){if("function"==typeof n&&(t=n(t),"object"==typeof t&&"input"!==r.tagName)){var e=N.find(t);if(e.length)return N.node.put(r,e)}N.node.value(r,t)})}},getListener:function(){return this.Source.map(function(t){return t.listener}).setUnique()},getListenerByKey:function(t){return this.Source.filter(function(e){return e.propertyName===t}).setUnique()},getProperties:function(){return this.Source.map(function(t){return t.propertyName}).setUnique()},removeListener:function(t){this.Source.setFilter(function(e){return e.listener===t?!1:!0})},removeListenerWithNode:function(t){var e=this;e.Source.setFilter(function(e){var n=!0;return N.find(t,N.dataEach,function(t){N.find("*",t,N.dataEach,function(t){return e.listener===t?(n=!1,!1):void 0})}),n})},removeListen:function(t,e){this.Source.setFilter(function(n){return n.listener===t&&n.propertyName===e?!1:!0})},removeProperty:function(t){this.Source.setFilter(function(e){return e.propertyName===t?!1:!0})}},function(t,e,n){if(this.trace=n,this.Source=new N.Array,this.defaultKey="string"==typeof e?e:"default",this.protectProperty=new N.Array,!N.isNil(t)&&"object"!=typeof t){var r={};r[this.defaultKey]=t,t=r}this.beforeProperty=new N.HashSource(t)}),N.MODULE("Counter",{timeoutHandler:function(){this._timeout&&clearTimeout(this._timeout);var t=+new Date;if(this._moveEnd>t){this._countProcesser?N.CALL(this._whenCounting,this,this._countProcesser(1-(this._moveEnd-t)/this.duration)):N.CALL(this._whenCounting,this,1-(this._moveEnd-t)/this.duration);var e=this;this._timeout=setTimeout(function(){e.timeoutHandler.call(e)},this.rate)}else this.moveStart=null,this.moveEnd=null,N.CALL(this._whenCounting,this,1),N.CALL(this._whenCountFinish,this,1)},whenCountStart:function(t){this._whenCountStart=t},whenCount:function(t){this._whenCounting=t},whenCountFinish:function(t){this._whenCountFinish=t},setCountProcessor:function(t){"function"==typeof t&&(this._countProcesser=t)},setRate:function(t){this.rate="number"==typeof t?t:20},start:function(t,e,n){this.duration="number"==typeof t?t:300,e&&this.whenCount(e),n&&this.whenCountFinish(n);this._moveStart=+new Date,this._moveEnd=this._moveStart+this.duration,this.timeoutHandler()}},function(t,e,n,r,i){this.setRate(r),(n===!0||t===!0||r===!0||i===!0)&&this.start(t,e,n)}),N.MODULE("Timeline",{updateFix:function(){var t=this.Status.values("timeStart","timeEnd");t[0]>this._tick&&(this._tick=t[0]),t[1]<this._tick&&(this._tick=t[1])},append:function(){var t=this;N.dataFlatten(arguments,N.dataEach,function(e){if(N.isModule(e,"TimeProperties")){t.Source.add(e);var n=e.timeStart(),r=e.timeEnd();if(1===t.Source.length)t.Status.pushKeyValue("timeStart",n,"timeEnd",r);else if(t.Source.length>1){var i=t.Status.values("timeStart","timeEnd");i[0]>n&&t.Status.pushKeyValue("timeStart",n),i[1]<r&&t.Status.pushKeyValue("timeEnd",r)}t.updateFix()}})},stop:function(){return this._rate=0,this._spot=null,this._wheel&&(this._wheel=clearInterval(this._wheel)),this},move:function(t){var e;if(this._rightDirection){var n=this.Status.get("timeEnd");t>n&&(this._tick=n,e=!0)}else{var r=this.Status.get("timeStart");r>t&&(this._tick=r,e=!0)}e===!0?(this.stop(),this.EventListener.trigger("timeMove"),this.EventListener.trigger("timeFinish")):(this._tick=t,this.EventListener.trigger("timeMove"),N.CALL(this._onTimeMove,this._tick))},offset:function(t){this.move(this._tick+t)},offsetExp:function(t){this.move(this._tick+N.timescaleExp(t))},rate:function(t,e){if((e===!0||"toggle"===e)&&0!==this._rate)return this.stop();if("number"!=typeof t)return console.error("Timeline::rate is must be number");if(this._wheel&&clearInterval(this._wheel),0!==t){var n=this;this._rate=t,this._spot=+new Date,this._rightDirection=t>0;var r=function(){if(0===n._rate)return n.stop();var t=+new Date,e=t-n._spot,r=n._tick+e*n._rate;n.move(r,!0),n._spot=t};this._wheel=setInterval(r,this._interval),r()}},rateByTimescale:function(t,e){return this.rate(N.timescaleExp(t)/1e3,e)},timestamp:function(){return this._tick},timescale:function(){return this.Status.values("timeEnd","timeStart",function(t,e){return t-e})},getTimeStart:function(){return this.Status.get("timeStart")},getTimeEnd:function(){return this.Status.get("timeEnd")},runTimescale:function(){return this._rightDirection?this._tick-this.Status.get("timeStart"):this.Status.get("timeEnd")-this._tick},restTimescale:function(){return this._rightDirection?this.Status.get("timeEnd")-this._tick:this._tick-this.Status.get("timeStart")},getCurrentData:function(){var t=this._tick;return this.Source.map(function(e){return e.getPropWithTime(t)})},getCurrentVectorData:function(){var t=this._tick;return this.Source.map(function(e){return e.getVectorPropWithTime(t)})},getTimeProperties:function(t){return arguments.length?this.Source[t]:this.Source.clone()},getCurrentAttribute:function(t){return arguments.length?this.Source[t]&&this.Source[t].Attribute:this.Source.map(function(t){return t.Attribute})},progress:function(){return 100-100/this.timescale()*this.restTimescale()},restProgress:function(){return 100/this.timescale()*this.restTimescale()},setFPS:function(t){this._fps="number"==typeof t?t:30,this._interval=N.parseInt(1e3/this._fps)},clear:function(){this.Source=new N.Array,this.Status=new N.HashSource({timeStart:0,timeEnd:0}),this._tick=0,this._rate=0,this._wheel=null,this._rightDirection=!0}},function(t){this.clear(),"number"==typeof t&&this.setFPS(t),this.EventListener=new N.EventListener(this),this.EventListener.addEventRegister(["timeMove","timeFinish"])}),N.MODULE("TimeProperties",{insertTimeProperty:function(t,e){if("number"!=typeof t||"object"!=typeof e)return console.error("addTimeProperty:: must be argument type (number, object)");{var n=0;this.Source.length}return this.Source.reverseEach(function(e,r){return t>e.time?(n=r+1,!1):void 0}),this.Source.insert({time:t,props:e},n),this},push:function(){var t=this;return N.dataFlatten(arguments,N.dataEach,function(e){if("object"!=typeof e){var n={};n[t.defaultKey]=e,e=n}var r=t.defaultStartTime+t.defaultInertval*t.Source.length;t.insertTimeProperty(r,e)}),this},getAroundPropWithTime:function(t){if("number"!=typeof t&&console.error("getAroundPropWithTime:: arg must be number"),!this.Source.length)return{};if(1===this.Source.length||this.Source.first().time>t)return[this.Source[0].props,void 0,0];if(this.Source.last().time<t)return[this.Source.last().props,void 0,0];var e,n;if(this.Source.each(function(e,r){return e.time>t?(n=r-1,!1):void 0}),e=this.Source[n],!e){e=this.Source.last(),n=this.Source.length-1;var r=this.Source[n-1];return[r.props,e.props,1/(e.time-r.time)*(t-r.time)]}var i=this.Source[n+1];return[e.props,i.props,1/(i.time-e.time)*(t-e.time)]},getPropWithTime:function(t){var e=this.getAroundPropWithTime(t);return"undefined"==typeof e[1]?e[0]:e[2]<.5?e[0]:e[1]},getVectorPropWithTime:function(t){var e=this.getAroundPropWithTime(t);if("undefined"==typeof e[1])return this._gto,e[0];var n=new N.HashSource;return n.arrangementObjectsDataProp(e[0],e[1]),n.setMap(function(t){var n="number"==typeof t[0],r="number"==typeof t[1];return n&&r?t[0]+(t[1]-t[0])*e[2]:n?t[0]:r?t[1]:t[0]&&t[1]}).get()},timeStart:function(){var t=this.Source.first();return t?t.time:null},timeEnd:function(){var t=this.Source.last();return t?t.time:null},timeLength:function(){return this.Source.isNone()?null:this.Source.isOne()?0:this.timeStart()-this.timeEnd()}},function(t,e,n,r){this.Source=new N.Array,this.Attribute=new N.HashSource(t).get(),this.defaultKey="string"==typeof r?r:"value",this.defaultStartTime=n?N.timestampExp(n):N.timestampExp(),this.defaultInertval=N.timescaleExp(e?e:"2s")}),N.EXTEND_MODULE("Counter","BezierCounter",{setCubicBezier:function(t,e,n,r){this.setCountProcessor(N.workerOfCubicBezier("number"==typeof t?t:0,"number"==typeof e?e:0,"number"==typeof n?n:0,"number"==typeof r?r:0))}},function(t,e,n,r,i,o,a,s,u){this.setCubicBezier(t,e,n,r),this._super(i,o,a,s,u)}),N.MODULE("TimeFire",{cancel:function(t){t!==!1&&N.CALL(this._whenCancle,this),clearTimeout(this._timeout),this._timeout=null},trigger:function(t){if(t===!1||N.CALL(this.whenTriggering,this)!==!1){this._timeout&&clearTimeout(this._timeout);var e=this;this._timeout=setTimeout(function(){N.CALL(e._whenWillFire,e)!==!1&&(N.CALL(e._whenFire,e),N.CALL(e._whenDidFire,e)),e.cancel(!1)},this.initFireTime)}},whenTriggering:function(t){this._whenTriggering=t},whenCancle:function(t){this._whenCancel=t},whenWillFire:function(t){this._whenWillFire=t},whenFire:function(t){"function"!=typeof t&&console.error("TimeFire:: Fire\uc2dc \uba54\uc11c\ub4dc\uac00 \ub4e4\uc5b4\uc624\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4."),this._whenFire=t},whenDidFire:function(t){this._whenDidFire=t}},function(t,e,n,r){this.initFireTime="number"==typeof t?t:300,this.rate="number"==typeof r?r:50,this.whenFire(e),this._timeout=null,n===!0&&this.trigger()}),N.METHOD("ATOB",function(t,e,n){return t=N.toNumber(t),e=N.toNumber(e),n=N.toNumber(n),(e-t)/100*n+t}),N.MODULE("Resize",{width:function(){return this.Source.offsetWidth},height:function(){return this.Source.offsetHeight},trigger:function(t){this.Handler(t)},destroy:function(){N.node.off(window,"resize",this.Handler)}},function(t,e,n,r){if(this.Source=N.findLite(t)[0],this.TriggeringMethod=e,this.Delay=N.toNumber(r),this.Source&&this.TriggeringMethod){n!==!0&&(this.lastWidth=this.Source.offsetWidth,this.lastHeight=this.Source.offsetHeight);var i=this;this.Handler=function(t){if(i.Delay)var e=setTimeout(function(){(0!=i.Source.offsetWidth&&0!=i.Source.offsetHeight||"HTML"===N.findParents(i.Source,N.dataLast).tagName)&&((i.lastWidth!==i.Source.offsetWidth||i.lastHeight!==i.Source.offsetHeight)&&(i.lastWidth=i.Source.offsetWidth,i.lastHeight=i.Source.offsetHeight,i.TriggeringMethod.call(i.Source,t,i)),clearTimeout(e))},i.Delay);else{if(0==i.Source.offsetWidth&&0==i.Source.offsetHeight)return;(i.lastWidth!==i.Source.offsetWidth||i.lastHeight!==i.Source.offsetHeight)&&(i.lastWidth=i.Source.offsetWidth,i.lastHeight=i.Source.offsetHeight,i.TriggeringMethod.call(i.Source,t,i))}},n===!0&&this.Handler({}),N.node.on(window,"resize",this.Handler)}}),N.MODULE("Gesture",function(t){if(this.view=N.findLite(t)[0],!this.view)return console.error("Gesture::no find gestrue view");this.GestureListener={},this._firstPinchValue,this._firstPageX,this._firstPageY,this._lastPageX,this._lastPageY,this.stopPropagation=!0,this.preventDefault=!0,this.ManageEvent=new N.EventListener(this),this.ManageEvent.addEventRegister(["gesture","drag","throw","pinch"]);var e=this.ManageEvent,n=this,r=function(t,e,n,r){return Math.sqrt(Math.pow(t-n,2),Math.pow(e-r,2))};this._gestureStartHandler=function(t){if(e.hasListener()){var i=n._firstPageX=n._lastPageX=t.touches?t.touches[0].pageX:t.pageX,o=n._firstPageY=n._lastPageY=t.touches?t.touches[0].pageY:t.pageY;n._lastGesture={e:t,pageX:i,pageY:o,relativeX:0,relativeY:0,moveX:0,moveY:0},e.hasListener("pinch")&&t.touches&&2===t.touches.length&&(t.preventDefault(),n._firstPinchValue=r(i,o,t.touches[1].pageX,t.touches[1].pageY),n._lastGesture.pinch=1,e.trigger("pinch",n._lastGesture,"start")),e.trigger("gesture",n._lastGesture,"start"),n.stopPropagation===!0&&t.stopPropagation(),n.preventDefault===!0&&t.preventDefault()}},this._gestureMoveHandler=function(t){if(e.hasListener()&&void 0!==n._firstPageX){var i=t.touches?t.touches[0].pageX:t.pageX,o=t.touches?t.touches[0].pageY:t.pageY;if(n._lastGesture={e:t,pageX:i,pageY:o,relativeX:i-n._firstPageX,relativeY:o-n._firstPageY,moveX:i-n._lastPageX,moveY:o-n._lastPageY},n._lastPageX=i,n._lastPageY=o,e.hasListener("pinch")&&"number"==typeof n._firstPinchValue&&t.touches&&2===t.touches.length){t.preventDefault();var a=r(t.touches[0].pageX,t.touches[0].pageY,t.touches[1].pageX,t.touches[1].pageY);n._lastGesture.pinch=-(n._firstPinchValue/a-1),e.trigger("pinch",n._lastGesture,"move")}e.trigger("gesture",n._lastGesture,"move"),n.stopPropagation===!0&&t.stopPropagation(),n.preventDefault===!0&&t.preventDefault()}},this._gestureEndHandler=function(t){e.hasListener()&&void 0!==n._firstPageX&&(e.hasListener("pinch")&&"number"==typeof n._firstPinchValue&&t.touches&&2===t.touches.length&&this.manageEvent.trigger("pinch",n._lastGesture,"end"),e.trigger("gesture",n._lastGesture,"end"),n._firstPageX=n._lastPageX=void 0,n._firstPageY=n._lastPageY=void 0,n._firstPinchValue=void 0,n._lastGesture=void 0,n.stopPropagation===!0&&t.stopPropagation(),n.preventDefault===!0&&t.preventDefault())},N.node.punch(this.view,"mousedown",this._gestureStartHandler),N.node.punch(document.body,"mousemove",this._gestureMoveHandler),N.node.punch(document.body,"mouseup",this._gestureEndHandler)})}(window,N,N.ENV)}();